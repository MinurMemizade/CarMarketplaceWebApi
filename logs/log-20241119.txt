2024-11-19 13:18:03.986 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-19 13:18:04.217 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-19 13:18:04.252 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-19 13:18:04.253 +04:00 [INF] Hosting environment: Development
2024-11-19 13:18:04.253 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-19 13:18:04.696 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-19 13:18:04.878 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 186.3816ms
2024-11-19 13:18:04.902 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 13:18:04.908 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 5.6241ms
2024-11-19 13:18:04.976 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-19 13:18:05.013 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.1352ms
2024-11-19 13:18:05.133 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-19 13:18:05.142 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.1511ms
2024-11-19 13:18:26.484 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/ForgotPassword/ForgotPassword - multipart/form-data; boundary=----WebKitFormBoundaryB4iZjdc7U6InCNPI 164
2024-11-19 13:18:26.492 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-19 13:18:26.546 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.ForgotPassword (CarMarketplaceWebApi)'
2024-11-19 13:18:26.572 +04:00 [INF] Route matched with {action = "ForgotPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(CarMarketplaceWebApi.Models.DTOs.ForgotPasswordDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-19 13:18:27.419 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 13:18:28.242 +04:00 [INF] Executed DbCommand (67ms) [Parameters=[@__normalizedEmail_0='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-19 13:18:28.514 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-11-19 13:18:28.518 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.ForgotPassword (CarMarketplaceWebApi) in 1941.5807ms
2024-11-19 13:18:28.521 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.ForgotPassword (CarMarketplaceWebApi)'
2024-11-19 13:18:28.532 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/ForgotPassword/ForgotPassword - 200 null text/plain; charset=utf-8 2048.4713ms
2024-11-19 13:19:01.091 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/ResetPassword/ResetPassword - multipart/form-data; boundary=----WebKitFormBoundaryBHAaZtm7NjzYxni2 728
2024-11-19 13:19:01.110 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.ResetPassword (CarMarketplaceWebApi)'
2024-11-19 13:19:01.127 +04:00 [INF] Route matched with {action = "ResetPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(CarMarketplaceWebApi.Models.DTOs.ResetPasswordDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-19 13:19:01.201 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-19 13:19:01.337 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 13:19:01.467 +04:00 [INF] Executed DbCommand (14ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='d48807f1-8677-4bb6-80a7-804909b73683' (Size = 4000), @p17='b524c4b6-6a7b-4b13-b3bb-0f8da9ea04f2' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='qRLMtq5ZxqFEP80mhJbMK1gVwlYh7PnVp2RcEnCYN4W28FZoc7fqDALGgODlGW5wgr6gaJOQ5+Nh+7PWL7xQEw==' (Size = 4000), @p12='2025-01-17T22:00:51.9327737' (Nullable = true), @p13='VFHSDOLV4E2BXSZTMZKPHCTYLVHFXC73' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-19 13:19:01.483 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-11-19 13:19:01.485 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.ResetPassword (CarMarketplaceWebApi) in 354.8578ms
2024-11-19 13:19:01.486 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.ResetPassword (CarMarketplaceWebApi)'
2024-11-19 13:19:01.487 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/ResetPassword/ResetPassword - 200 null text/plain; charset=utf-8 395.914ms
2024-11-19 13:19:53.985 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundarySYYB6OW0fHAxWSNh 269
2024-11-19 13:19:53.990 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 13:19:54.006 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-19 13:19:54.035 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-19 13:19:54.160 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 152.6586ms
2024-11-19 13:19:54.163 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 13:19:54.165 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Email or Password is incorrect.
   at CarMarketplaceWebApi.Services.Implementations.AuthService.LoginAsync(LoginDTO loginDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Services\Implementations\AuthService.cs:line 39
   at CarMarketplaceWebApi.Controllers.AuthController.Login(LoginDTO loginDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Controllers\AuthController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-19 13:19:54.194 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 500 null text/plain; charset=utf-8 209.0631ms
2024-11-19 13:20:02.600 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundaryeFABLfi4ma73iZKR 270
2024-11-19 13:20:02.605 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 13:20:02.610 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-19 13:20:02.621 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-19 13:20:02.745 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='944c7dc9-5337-4674-8e3a-08dd03ede844'], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-19 13:20:02.782 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 13:20:02.835 +04:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='jti' (Size = 4000), @p1='0d83bdef-9650-4e16-b15e-557f15889e1e' (Size = 4000), @p2='944c7dc9-5337-4674-8e3a-08dd03ede844', @p3='http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier' (Size = 4000), @p4='944c7dc9-5337-4674-8e3a-08dd03ede844' (Size = 4000), @p5='944c7dc9-5337-4674-8e3a-08dd03ede844', @p6='email' (Size = 4000), @p7='ndng.minurmemizade@gmail.com' (Size = 4000), @p8='944c7dc9-5337-4674-8e3a-08dd03ede844', @p25='944c7dc9-5337-4674-8e3a-08dd03ede844', @p9='0', @p10='6be9046b-aea6-4e0a-a8a6-dc48d96f8883' (Size = 4000), @p26='d48807f1-8677-4bb6-80a7-804909b73683' (Size = 4000), @p11='ndng.minurmemizade@gmail.com' (Size = 256), @p12='True', @p13='True', @p14=NULL (DbType = DateTimeOffset), @p15='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p16='MINURMEMIZADE' (Size = 256), @p17='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p18=NULL (Size = 4000), @p19='False', @p20='qRLMtq5ZxqFEP80mhJbMK1gVwlYh7PnVp2RcEnCYN4W28FZoc7fqDALGgODlGW5wgr6gaJOQ5+Nh+7PWL7xQEw==' (Size = 4000), @p21='2025-01-17T22:00:51.9327737' (Nullable = true), @p22='VFHSDOLV4E2BXSZTMZKPHCTYLVHFXC73' (Size = 4000), @p23='False', @p24='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [AspNetUserClaims] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2)) AS i ([ClaimType], [ClaimValue], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClaimType], [ClaimValue], [UserId])
VALUES (i.[ClaimType], i.[ClaimValue], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [RefreshToken] = @p20, [RefreshTokenExpireTime] = @p21, [SecurityStamp] = @p22, [TwoFactorEnabled] = @p23, [UserName] = @p24
OUTPUT 1
WHERE [Id] = @p25 AND [ConcurrencyStamp] = @p26;
2024-11-19 13:20:02.857 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 13:20:02.863 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='8d625dcf-a3d8-438c-869a-79e1f16cdfe5' (Size = 4000), @p17='6be9046b-aea6-4e0a-a8a6-dc48d96f8883' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='6M2BlRHiKcIPzmUzFBPL/tgkbGZaqUbNlG9P9Pvl2vfKZhL2oD9+edW7/bL4fWnMxrqHfBCNl2pgQpq4yk1qTw==' (Size = 4000), @p12='2025-01-18T13:20:02.8555389+04:00' (Nullable = true), @p13='VFHSDOLV4E2BXSZTMZKPHCTYLVHFXC73' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-19 13:20:02.868 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 13:20:02.872 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='d8c2b849-2ebd-435c-a11a-371cb9df49e9' (Size = 4000), @p17='8d625dcf-a3d8-438c-869a-79e1f16cdfe5' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='6M2BlRHiKcIPzmUzFBPL/tgkbGZaqUbNlG9P9Pvl2vfKZhL2oD9+edW7/bL4fWnMxrqHfBCNl2pgQpq4yk1qTw==' (Size = 4000), @p12='2025-01-18T13:20:02.8555389+04:00' (Nullable = true), @p13='JWGPJBF6D44PBVO3RF4DDDGBLMRR6XVG' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-19 13:20:02.927 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true), @__p_1='Default' (Size = 450), @__p_2='AccessToken' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[LoginProvider] = @__p_1 AND [a].[Name] = @__p_2
2024-11-19 13:20:02.946 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 13:20:02.957 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='Default' (Nullable = false) (Size = 450), @p2='AccessToken' (Nullable = false) (Size = 450), @p3='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIwZDgzYmRlZi05NjUwLTRlMTYtYjE1ZS01NTdmMTU4ODllMWUiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6Ijk0NGM3ZGM5LTUzMzctNDY3NC04ZTNhLTA4ZGQwM2VkZTg0NCIsImVtYWlsIjoibmRuZy5taW51cm1lbWl6YWRlQGdtYWlsLmNvbSIsImV4cCI6MTczMjAwODkwMn0.YUPS1AWsq3OqqjQV2nyytI3zqBK8lBSZL9SMgN3d0KY' (Size = 4000), @p20='944c7dc9-5337-4674-8e3a-08dd03ede844', @p4='0', @p5='26cfeff7-b685-4bf3-bf86-a22ffbb7fc27' (Size = 4000), @p21='d8c2b849-2ebd-435c-a11a-371cb9df49e9' (Size = 4000), @p6='ndng.minurmemizade@gmail.com' (Size = 256), @p7='True', @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p11='MINURMEMIZADE' (Size = 256), @p12='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='6M2BlRHiKcIPzmUzFBPL/tgkbGZaqUbNlG9P9Pvl2vfKZhL2oD9+edW7/bL4fWnMxrqHfBCNl2pgQpq4yk1qTw==' (Size = 4000), @p16='2025-01-18T13:20:02.8555389+04:00' (Nullable = true), @p17='JWGPJBF6D44PBVO3RF4DDDGBLMRR6XVG' (Size = 4000), @p18='False', @p19='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUserTokens] SET [Value] = @p0
OUTPUT 1
WHERE [LoginProvider] = @p1 AND [Name] = @p2 AND [UserId] = @p3;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpireTime] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-11-19 13:20:02.963 +04:00 [INF] Executing OkObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.ResponseDTO'.
2024-11-19 13:20:02.970 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 354.0686ms
2024-11-19 13:20:02.973 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 13:20:02.974 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 200 null application/json; charset=utf-8 374.1416ms
2024-11-19 13:36:47.983 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-19 13:36:48.113 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-19 13:36:48.187 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-19 13:36:48.197 +04:00 [INF] Hosting environment: Development
2024-11-19 13:36:48.199 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-19 13:36:48.374 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-19 13:36:48.513 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 143.0243ms
2024-11-19 13:36:48.558 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 13:36:48.563 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 5.2782ms
2024-11-19 13:36:48.700 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-19 13:36:48.725 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.2271ms
2024-11-19 13:36:48.959 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-19 13:36:48.970 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.0651ms
2024-11-19 13:37:05.134 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundaryKfmFGMPWQtkN6v12 269
2024-11-19 13:37:05.150 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-19 13:37:05.187 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 13:37:05.201 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-19 13:37:05.856 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 13:37:06.658 +04:00 [INF] Executed DbCommand (64ms) [Parameters=[@__normalizedEmail_0='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-19 13:37:06.932 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 1725.4383ms
2024-11-19 13:37:06.934 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 13:37:06.940 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Email or Password is incorrect.
   at CarMarketplaceWebApi.Services.Implementations.AuthService.LoginAsync(LoginDTO loginDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Services\Implementations\AuthService.cs:line 39
   at CarMarketplaceWebApi.Controllers.AuthController.Login(LoginDTO loginDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Controllers\AuthController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-19 13:37:06.965 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 500 null text/plain; charset=utf-8 1831.5286ms
2024-11-19 13:37:14.611 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundaryclV9Uo02mIpL0CRS 270
2024-11-19 13:37:14.622 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 13:37:14.623 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-19 13:37:14.679 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-19 13:37:14.797 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='944c7dc9-5337-4674-8e3a-08dd03ede844'], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-19 13:37:14.844 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 13:37:14.975 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='jti' (Size = 4000), @p1='7f74cb2e-d4eb-4046-85af-5d15931b0d9d' (Size = 4000), @p2='944c7dc9-5337-4674-8e3a-08dd03ede844', @p3='http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier' (Size = 4000), @p4='944c7dc9-5337-4674-8e3a-08dd03ede844' (Size = 4000), @p5='944c7dc9-5337-4674-8e3a-08dd03ede844', @p6='email' (Size = 4000), @p7='ndng.minurmemizade@gmail.com' (Size = 4000), @p8='944c7dc9-5337-4674-8e3a-08dd03ede844', @p25='944c7dc9-5337-4674-8e3a-08dd03ede844', @p9='0', @p10='0d1608d2-0283-46ea-9e9c-50a0a93fcf81' (Size = 4000), @p26='26cfeff7-b685-4bf3-bf86-a22ffbb7fc27' (Size = 4000), @p11='ndng.minurmemizade@gmail.com' (Size = 256), @p12='True', @p13='True', @p14=NULL (DbType = DateTimeOffset), @p15='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p16='MINURMEMIZADE' (Size = 256), @p17='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p18=NULL (Size = 4000), @p19='False', @p20='6M2BlRHiKcIPzmUzFBPL/tgkbGZaqUbNlG9P9Pvl2vfKZhL2oD9+edW7/bL4fWnMxrqHfBCNl2pgQpq4yk1qTw==' (Size = 4000), @p21='2025-01-18T13:20:02.8555389' (Nullable = true), @p22='JWGPJBF6D44PBVO3RF4DDDGBLMRR6XVG' (Size = 4000), @p23='False', @p24='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [AspNetUserClaims] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2)) AS i ([ClaimType], [ClaimValue], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClaimType], [ClaimValue], [UserId])
VALUES (i.[ClaimType], i.[ClaimValue], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [RefreshToken] = @p20, [RefreshTokenExpireTime] = @p21, [SecurityStamp] = @p22, [TwoFactorEnabled] = @p23, [UserName] = @p24
OUTPUT 1
WHERE [Id] = @p25 AND [ConcurrencyStamp] = @p26;
2024-11-19 13:37:15.006 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 13:37:15.014 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='a0cff0fe-3cff-439b-bbe1-dc0db071a1c9' (Size = 4000), @p17='0d1608d2-0283-46ea-9e9c-50a0a93fcf81' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='voEcyt/fHvEtHwKAxSnUbxbHZzvJY0E58atc7cDWbExgmZVJEDU5yuAJKcsmcxYLTCwVHBoi1EBS9CNE4/Eyuw==' (Size = 4000), @p12='2025-01-18T13:37:15.0038552+04:00' (Nullable = true), @p13='JWGPJBF6D44PBVO3RF4DDDGBLMRR6XVG' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-19 13:37:15.021 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 13:37:15.026 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='98ef6348-1fab-436c-aa4c-aff089d34f1b' (Size = 4000), @p17='a0cff0fe-3cff-439b-bbe1-dc0db071a1c9' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='voEcyt/fHvEtHwKAxSnUbxbHZzvJY0E58atc7cDWbExgmZVJEDU5yuAJKcsmcxYLTCwVHBoi1EBS9CNE4/Eyuw==' (Size = 4000), @p12='2025-01-18T13:37:15.0038552+04:00' (Nullable = true), @p13='452IZMBKZ3M3ZMY45PBMTSMRYPC2W2JI' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-19 13:37:15.081 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true), @__p_1='Default' (Size = 450), @__p_2='AccessToken' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[LoginProvider] = @__p_1 AND [a].[Name] = @__p_2
2024-11-19 13:37:15.101 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 13:37:15.111 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='Default' (Nullable = false) (Size = 450), @p2='AccessToken' (Nullable = false) (Size = 450), @p3='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI3Zjc0Y2IyZS1kNGViLTQwNDYtODVhZi01ZDE1OTMxYjBkOWQiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6Ijk0NGM3ZGM5LTUzMzctNDY3NC04ZTNhLTA4ZGQwM2VkZTg0NCIsImVtYWlsIjoibmRuZy5taW51cm1lbWl6YWRlQGdtYWlsLmNvbSIsImV4cCI6MTczMjAwOTkzNH0.jIBefp8aMAwRq7HzlkOz2WfX9Reiq1pp0OnEOxvToTY' (Size = 4000), @p20='944c7dc9-5337-4674-8e3a-08dd03ede844', @p4='0', @p5='c610465d-de03-4928-980f-efbb3a170d76' (Size = 4000), @p21='98ef6348-1fab-436c-aa4c-aff089d34f1b' (Size = 4000), @p6='ndng.minurmemizade@gmail.com' (Size = 256), @p7='True', @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p11='MINURMEMIZADE' (Size = 256), @p12='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='voEcyt/fHvEtHwKAxSnUbxbHZzvJY0E58atc7cDWbExgmZVJEDU5yuAJKcsmcxYLTCwVHBoi1EBS9CNE4/Eyuw==' (Size = 4000), @p16='2025-01-18T13:37:15.0038552+04:00' (Nullable = true), @p17='452IZMBKZ3M3ZMY45PBMTSMRYPC2W2JI' (Size = 4000), @p18='False', @p19='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUserTokens] SET [Value] = @p0
OUTPUT 1
WHERE [LoginProvider] = @p1 AND [Name] = @p2 AND [UserId] = @p3;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpireTime] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-11-19 13:37:15.126 +04:00 [INF] Executing OkObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.ResponseDTO'.
2024-11-19 13:37:15.136 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 511.4454ms
2024-11-19 13:37:15.137 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 13:37:15.139 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 200 null application/json; charset=utf-8 527.2419ms
2024-11-19 13:37:39.044 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-19 13:37:39.090 +04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'yaI2r38d32hLOQTulPiZS1nkBrcxOXIXt1MyzLqVa64'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-11-19 13:37:39.094 +04:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'yaI2r38d32hLOQTulPiZS1nkBrcxOXIXt1MyzLqVa64'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2024-11-19 13:37:39.097 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-19 13:37:39.100 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 13:37:39.121 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
2024-11-19 13:37:39.149 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 13:37:39.163 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 61.7516ms
2024-11-19 13:37:39.166 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-19 13:37:39.167 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 123.5017ms
2024-11-19 13:38:16.137 +04:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5074/api/Car/UpdateCar - multipart/form-data; boundary=----WebKitFormBoundaryFUCKYmvtBO9juGTB 392256
2024-11-19 13:38:16.153 +04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'yaI2r38d32hLOQTulPiZS1nkBrcxOXIXt1MyzLqVa64'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-11-19 13:38:16.158 +04:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'yaI2r38d32hLOQTulPiZS1nkBrcxOXIXt1MyzLqVa64'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2024-11-19 13:38:16.167 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-19 13:38:16.173 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-19 13:38:16.174 +04:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5074/api/Car/UpdateCar - 401 0 null 38.3743ms
2024-11-19 13:38:43.618 +04:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5074/api/Car/UpdateCar - multipart/form-data; boundary=----WebKitFormBoundarylIdwcst1XAI3Kr6w 392256
2024-11-19 13:38:43.633 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi)'
2024-11-19 13:38:43.638 +04:00 [INF] Route matched with {action = "UpdateCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCar(CarMarketplaceWebApi.Models.DTOs.UpdateCarDTO) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 13:38:43.711 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[@p13='194fdf65-f21f-483b-3125-08dd07fbdb27', @p0='asd' (Nullable = false) (Size = 4000), @p1='asd' (Nullable = false) (Size = 4000), @p2='["https://www.example.com/uploads/4b53cc39-98f6-46a2-9573-8f8afb8de785_1920x1080-2605032-pacman-hd-wallpaper-for-free-download.png"]' (Nullable = false) (Size = 4000), @p3='True', @p4='Chevrolet' (Nullable = false) (Size = 4000), @p5='asd' (Nullable = false) (Size = 4000), @p6='Camaro' (Nullable = false) (Size = 4000), @p7='13', @p8='00000000-0000-0000-0000-000000000000', @p9='asd' (Nullable = false) (Size = 4000), @p10='0001-01-01T00:00:00.0000000', @p11='0', @p12=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [cars] SET [Class] = @p0, [Color] = @p1, [ImageUrls] = @p2, [IsNew] = @p3, [Make] = @p4, [Mileage] = @p5, [Model] = @p6, [Price] = @p7, [SellerId] = @p8, [Year] = @p9, [createdTime] = @p10, [eStatus] = @p11, [soldTime] = @p12
OUTPUT 1
WHERE [Id] = @p13;
2024-11-19 13:38:43.727 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'CarMarketplaceWebApi.Context.AppDBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_cars_Seller_SellerId". The conflict occurred in database "WebApiArc", table "dbo.Seller", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0d3724b5-085f-4a61-954e-b47163b8fbae
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_cars_Seller_SellerId". The conflict occurred in database "WebApiArc", table "dbo.Seller", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0d3724b5-085f-4a61-954e-b47163b8fbae
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-11-19 13:38:43.834 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi) in 194.6878ms
2024-11-19 13:38:43.836 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi)'
2024-11-19 13:38:43.837 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_cars_Seller_SellerId". The conflict occurred in database "WebApiArc", table "dbo.Seller", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0d3724b5-085f-4a61-954e-b47163b8fbae
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CarMarketplaceWebApi.Repositories.Implementations.Repository`1.UpdateAsync(T entity) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Repositories\Implementations\Repository.cs:line 51
   at CarMarketplaceWebApi.Services.Implementations.CarService.UpdateAsync(UpdateCarDTO updateCarDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Services\Implementations\CarService.cs:line 87
   at CarMarketplaceWebApi.Controllers.CarController.UpdateCar(UpdateCarDTO updateCarDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Controllers\CarController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-19 13:38:43.850 +04:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5074/api/Car/UpdateCar - 500 null text/plain; charset=utf-8 233.304ms
2024-11-19 13:43:16.147 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-19 13:43:16.293 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-19 13:43:16.334 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-19 13:43:16.335 +04:00 [INF] Hosting environment: Development
2024-11-19 13:43:16.336 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-19 13:43:16.670 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-19 13:43:16.801 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 133.1565ms
2024-11-19 13:43:16.824 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 13:43:16.831 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 7.5843ms
2024-11-19 13:43:16.899 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-19 13:43:16.927 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.2917ms
2024-11-19 13:43:17.040 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-19 13:43:17.049 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.6465ms
2024-11-19 13:43:33.649 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundary2LBdYSQAACk85wED 269
2024-11-19 13:43:33.655 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-19 13:43:33.695 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 13:43:33.717 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-19 13:43:34.437 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 13:43:35.200 +04:00 [INF] Executed DbCommand (38ms) [Parameters=[@__normalizedEmail_0='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-19 13:43:35.422 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 1700.1539ms
2024-11-19 13:43:35.426 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 13:43:35.434 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Email or Password is incorrect.
   at CarMarketplaceWebApi.Services.Implementations.AuthService.LoginAsync(LoginDTO loginDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Services\Implementations\AuthService.cs:line 39
   at CarMarketplaceWebApi.Controllers.AuthController.Login(LoginDTO loginDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Controllers\AuthController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-19 13:43:35.472 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 500 null text/plain; charset=utf-8 1823.0812ms
2024-11-19 13:43:45.603 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundarygsf0L7ulkH6rOz1G 270
2024-11-19 13:43:45.615 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 13:43:45.618 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-19 13:43:45.678 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-19 13:43:45.800 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='944c7dc9-5337-4674-8e3a-08dd03ede844'], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-19 13:43:45.855 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 13:43:45.999 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='jti' (Size = 4000), @p1='9c30ccd8-9e27-4725-a3c8-11199b1e02bb' (Size = 4000), @p2='944c7dc9-5337-4674-8e3a-08dd03ede844', @p3='http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier' (Size = 4000), @p4='944c7dc9-5337-4674-8e3a-08dd03ede844' (Size = 4000), @p5='944c7dc9-5337-4674-8e3a-08dd03ede844', @p6='email' (Size = 4000), @p7='ndng.minurmemizade@gmail.com' (Size = 4000), @p8='944c7dc9-5337-4674-8e3a-08dd03ede844', @p25='944c7dc9-5337-4674-8e3a-08dd03ede844', @p9='0', @p10='8d71faff-7443-4f8b-bdf7-a039f96e3a9c' (Size = 4000), @p26='c610465d-de03-4928-980f-efbb3a170d76' (Size = 4000), @p11='ndng.minurmemizade@gmail.com' (Size = 256), @p12='True', @p13='True', @p14=NULL (DbType = DateTimeOffset), @p15='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p16='MINURMEMIZADE' (Size = 256), @p17='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p18=NULL (Size = 4000), @p19='False', @p20='voEcyt/fHvEtHwKAxSnUbxbHZzvJY0E58atc7cDWbExgmZVJEDU5yuAJKcsmcxYLTCwVHBoi1EBS9CNE4/Eyuw==' (Size = 4000), @p21='2025-01-18T13:37:15.0038552' (Nullable = true), @p22='452IZMBKZ3M3ZMY45PBMTSMRYPC2W2JI' (Size = 4000), @p23='False', @p24='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [AspNetUserClaims] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2)) AS i ([ClaimType], [ClaimValue], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClaimType], [ClaimValue], [UserId])
VALUES (i.[ClaimType], i.[ClaimValue], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [RefreshToken] = @p20, [RefreshTokenExpireTime] = @p21, [SecurityStamp] = @p22, [TwoFactorEnabled] = @p23, [UserName] = @p24
OUTPUT 1
WHERE [Id] = @p25 AND [ConcurrencyStamp] = @p26;
2024-11-19 13:43:46.039 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 13:43:46.047 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='7f182084-fb45-4b66-b3cf-032f2ffef0ce' (Size = 4000), @p17='8d71faff-7443-4f8b-bdf7-a039f96e3a9c' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='RJMQs6xTFEtP/xio3nCo1nGWQGF5Xh3oOM7l+7ZtsK8sypZ2ykEf8vzphlao5EOIrlcUBcoapiNAqC5n11NZbw==' (Size = 4000), @p12='2025-01-18T13:43:46.0375196+04:00' (Nullable = true), @p13='452IZMBKZ3M3ZMY45PBMTSMRYPC2W2JI' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-19 13:43:46.052 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 13:43:46.056 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='3832d99b-a88a-42c5-8bc2-02a7938c4156' (Size = 4000), @p17='7f182084-fb45-4b66-b3cf-032f2ffef0ce' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='RJMQs6xTFEtP/xio3nCo1nGWQGF5Xh3oOM7l+7ZtsK8sypZ2ykEf8vzphlao5EOIrlcUBcoapiNAqC5n11NZbw==' (Size = 4000), @p12='2025-01-18T13:43:46.0375196+04:00' (Nullable = true), @p13='QIFMPHXQW2QCKDKXYIIBTWFJ2OVCHOXQ' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-19 13:43:46.114 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true), @__p_1='Default' (Size = 450), @__p_2='AccessToken' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[LoginProvider] = @__p_1 AND [a].[Name] = @__p_2
2024-11-19 13:43:46.138 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 13:43:46.147 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='Default' (Nullable = false) (Size = 450), @p2='AccessToken' (Nullable = false) (Size = 450), @p3='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI5YzMwY2NkOC05ZTI3LTQ3MjUtYTNjOC0xMTE5OWIxZTAyYmIiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6Ijk0NGM3ZGM5LTUzMzctNDY3NC04ZTNhLTA4ZGQwM2VkZTg0NCIsImVtYWlsIjoibmRuZy5taW51cm1lbWl6YWRlQGdtYWlsLmNvbSIsImV4cCI6MTczMjAxMDMyNX0.UYurwkbKuVPW_4LPgGZttK2zBKa5cg3F9LFdmqd71ns' (Size = 4000), @p20='944c7dc9-5337-4674-8e3a-08dd03ede844', @p4='0', @p5='7b8d9d4f-4415-41c1-bc9c-91ae42c84aec' (Size = 4000), @p21='3832d99b-a88a-42c5-8bc2-02a7938c4156' (Size = 4000), @p6='ndng.minurmemizade@gmail.com' (Size = 256), @p7='True', @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p11='MINURMEMIZADE' (Size = 256), @p12='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='RJMQs6xTFEtP/xio3nCo1nGWQGF5Xh3oOM7l+7ZtsK8sypZ2ykEf8vzphlao5EOIrlcUBcoapiNAqC5n11NZbw==' (Size = 4000), @p16='2025-01-18T13:43:46.0375196+04:00' (Nullable = true), @p17='QIFMPHXQW2QCKDKXYIIBTWFJ2OVCHOXQ' (Size = 4000), @p18='False', @p19='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUserTokens] SET [Value] = @p0
OUTPUT 1
WHERE [LoginProvider] = @p1 AND [Name] = @p2 AND [UserId] = @p3;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpireTime] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-11-19 13:43:46.158 +04:00 [INF] Executing OkObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.ResponseDTO'.
2024-11-19 13:43:46.165 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 544.2738ms
2024-11-19 13:43:46.167 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 13:43:46.168 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 200 null application/json; charset=utf-8 564.6697ms
2024-11-19 13:44:06.135 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-19 13:44:06.179 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-19 13:44:06.189 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 13:44:06.225 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
2024-11-19 13:44:06.256 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 13:44:06.275 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 76.5686ms
2024-11-19 13:44:06.277 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-19 13:44:06.278 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 143.7243ms
2024-11-19 13:44:43.052 +04:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5074/api/Car/UpdateCar - multipart/form-data; boundary=----WebKitFormBoundaryTtewBAhhbyxuVWSS 1457003
2024-11-19 13:44:43.071 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi)'
2024-11-19 13:44:43.077 +04:00 [INF] Route matched with {action = "UpdateCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCar(CarMarketplaceWebApi.Models.DTOs.UpdateCarDTO) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 13:44:43.158 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-19 13:44:43.211 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='d11be1e2-b495-4271-bb17-08dd087ecba0', @p1='ndng.minurmemizade@gmail.com' (Size = 4000), @p2='MinurMemizade' (Size = 4000), @p16='84acaa27-c9d4-45cd-f127-08dd07f7307a', @p3='asdasd' (Nullable = false) (Size = 4000), @p4='asd' (Nullable = false) (Size = 4000), @p5='["https://www.example.com/uploads/9ca56284-0531-4cc0-aa6f-19232333507b_4ea1fd11-7cd1-43c3-b5df-7f927d5826d9.jpg"]' (Nullable = false) (Size = 4000), @p6='True', @p7='Chevrolet' (Nullable = false) (Size = 4000), @p8='sad' (Nullable = false) (Size = 4000), @p9='Camaro' (Nullable = false) (Size = 4000), @p10='123', @p11='d11be1e2-b495-4271-bb17-08dd087ecba0', @p12='asd' (Nullable = false) (Size = 4000), @p13='0001-01-01T00:00:00.0000000', @p14='0', @p15=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Seller] ([Id], [Email], [UserName])
VALUES (@p0, @p1, @p2);
UPDATE [cars] SET [Class] = @p3, [Color] = @p4, [ImageUrls] = @p5, [IsNew] = @p6, [Make] = @p7, [Mileage] = @p8, [Model] = @p9, [Price] = @p10, [SellerId] = @p11, [Year] = @p12, [createdTime] = @p13, [eStatus] = @p14, [soldTime] = @p15
OUTPUT 1
WHERE [Id] = @p16;
2024-11-19 13:44:43.226 +04:00 [INF] Executing ObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.UpdateCarDTO'.
2024-11-19 13:44:43.240 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi) in 161.6037ms
2024-11-19 13:44:43.242 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi)'
2024-11-19 13:44:43.244 +04:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5074/api/Car/UpdateCar - 202 null application/json; charset=utf-8 192.4088ms
2024-11-19 13:44:51.440 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-19 13:44:51.442 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-19 13:44:51.443 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 13:44:51.455 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
2024-11-19 13:44:51.458 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 13:44:51.459 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 14.9844ms
2024-11-19 13:44:51.461 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-19 13:44:51.462 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 21.7824ms
2024-11-19 14:07:12.715 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 14:07:23.178 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 14:07:23.409 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 14:07:23.424 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 14:07:23.425 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 14:07:23.426 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 14:07:23.435 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 14:07:23.442 +04:00 [INF] Applying migration '20241119100713_v.6'.
2024-11-19 14:07:23.464 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241119100713_v.6', N'8.0.10');
2024-11-19 14:33:35.676 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 14:33:40.965 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 14:33:41.197 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 14:33:41.213 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 14:33:41.214 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 14:33:41.214 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 14:33:41.222 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 14:33:41.229 +04:00 [INF] Applying migration '20241119103336_v.6.1'.
2024-11-19 14:33:41.269 +04:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD [AppUserId] uniqueidentifier NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2024-11-19 14:33:41.285 +04:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_cars_AppUserId] ON [cars] ([AppUserId]);
2024-11-19 14:33:41.294 +04:00 [ERR] Failed executing DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD CONSTRAINT [FK_cars_AspNetUsers_AppUserId] FOREIGN KEY ([AppUserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE;
2024-11-19 14:34:19.925 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 14:34:23.130 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 14:34:27.445 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 14:34:27.674 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 14:34:27.689 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 14:34:27.690 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 14:34:27.690 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 14:34:27.699 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 14:34:27.706 +04:00 [INF] Applying migration '20241119103336_v.6.1'.
2024-11-19 14:34:27.737 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD [AppUserId] uniqueidentifier NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2024-11-19 14:34:27.739 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_cars_AppUserId] ON [cars] ([AppUserId]);
2024-11-19 14:34:27.743 +04:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD CONSTRAINT [FK_cars_AspNetUsers_AppUserId] FOREIGN KEY ([AppUserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE;
2024-11-19 14:45:04.799 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 14:45:08.202 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 14:45:08.440 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 14:45:08.454 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 14:45:08.456 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 14:45:08.456 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 14:45:08.464 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 14:45:08.472 +04:00 [INF] Applying migration '20241119103336_v.6.1'.
2024-11-19 14:45:08.504 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD [AppUserId] uniqueidentifier NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2024-11-19 14:45:08.507 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_cars_AppUserId] ON [cars] ([AppUserId]);
2024-11-19 14:45:08.513 +04:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD CONSTRAINT [FK_cars_AspNetUsers_AppUserId] FOREIGN KEY ([AppUserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE;
2024-11-19 14:47:28.106 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 14:47:33.423 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 14:47:37.849 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 14:47:38.091 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 14:47:38.106 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 14:47:38.107 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 14:47:38.108 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 14:47:38.117 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 14:47:38.125 +04:00 [INF] Applying migration '20241119103336_v.6.1'.
2024-11-19 14:47:38.155 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD [AppUserId] uniqueidentifier NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2024-11-19 14:47:38.158 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_cars_AppUserId] ON [cars] ([AppUserId]);
2024-11-19 14:47:38.162 +04:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD CONSTRAINT [FK_cars_AspNetUsers_AppUserId] FOREIGN KEY ([AppUserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE;
2024-11-19 14:49:11.794 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 14:49:18.915 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 14:49:19.171 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 14:49:19.185 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 14:49:19.187 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 14:49:19.187 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 14:49:19.194 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 14:49:19.201 +04:00 [INF] Applying migration '20241119103336_v.6.1'.
2024-11-19 14:49:19.230 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD [AppUserId] uniqueidentifier NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2024-11-19 14:49:19.233 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_cars_AppUserId] ON [cars] ([AppUserId]);
2024-11-19 14:49:19.238 +04:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD CONSTRAINT [FK_cars_AspNetUsers_AppUserId] FOREIGN KEY ([AppUserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE;
2024-11-19 14:50:14.111 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 14:50:14.342 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 14:50:14.357 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 14:50:14.358 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 14:50:14.359 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 14:50:14.367 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 14:50:14.374 +04:00 [INF] No migrations were applied. The database is already up to date.
2024-11-19 14:50:52.453 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 14:50:58.550 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 14:50:58.776 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 14:50:58.791 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 14:50:58.792 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 14:50:58.793 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 14:50:58.800 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 14:50:58.807 +04:00 [INF] Applying migration '20241119105052_v.5.5'.
2024-11-19 14:50:58.828 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241119105052_v.5.5', N'8.0.10');
2024-11-19 14:55:58.076 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 14:56:01.024 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 14:56:01.258 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 14:56:01.274 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 14:56:01.276 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 14:56:01.278 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 14:56:01.286 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 14:56:01.293 +04:00 [INF] Applying migration '20241119105558_v.5.6'.
2024-11-19 14:56:01.329 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD [AppUserId] uniqueidentifier NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2024-11-19 14:56:01.332 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD [UserId] uniqueidentifier NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2024-11-19 14:56:01.334 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_cars_AppUserId] ON [cars] ([AppUserId]);
2024-11-19 14:56:01.336 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_cars_UserId] ON [cars] ([UserId]);
2024-11-19 14:56:01.341 +04:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD CONSTRAINT [FK_cars_AspNetUsers_AppUserId] FOREIGN KEY ([AppUserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE;
2024-11-19 14:59:32.790 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 14:59:36.002 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 14:59:36.258 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 14:59:36.272 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 14:59:36.273 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 14:59:36.274 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 14:59:36.282 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 14:59:36.290 +04:00 [INF] Applying migration '20241119105558_v.5.6'.
2024-11-19 14:59:36.318 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD [AppUserId] uniqueidentifier NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2024-11-19 14:59:36.320 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD [UserId] uniqueidentifier NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2024-11-19 14:59:36.322 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_cars_AppUserId] ON [cars] ([AppUserId]);
2024-11-19 14:59:36.323 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_cars_UserId] ON [cars] ([UserId]);
2024-11-19 14:59:36.328 +04:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD CONSTRAINT [FK_cars_AspNetUsers_AppUserId] FOREIGN KEY ([AppUserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE;
2024-11-19 15:01:28.490 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 15:01:31.992 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 15:01:32.223 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 15:01:32.237 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 15:01:32.239 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 15:01:32.239 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 15:01:32.248 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 15:01:32.255 +04:00 [INF] Applying migration '20241119105558_v.5.6'.
2024-11-19 15:01:32.284 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD [AppUserId] uniqueidentifier NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2024-11-19 15:01:32.286 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD [UserId] uniqueidentifier NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2024-11-19 15:01:32.287 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_cars_AppUserId] ON [cars] ([AppUserId]);
2024-11-19 15:01:32.288 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_cars_UserId] ON [cars] ([UserId]);
2024-11-19 15:01:32.293 +04:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD CONSTRAINT [FK_cars_AspNetUsers_AppUserId] FOREIGN KEY ([AppUserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE;
2024-11-19 15:02:29.030 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 15:02:32.372 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 15:02:32.624 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 15:02:32.638 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 15:02:32.640 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 15:02:32.640 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 15:02:32.649 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 15:02:32.657 +04:00 [INF] Applying migration '20241119105558_v.5.6'.
2024-11-19 15:02:32.690 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD [AppUserId] uniqueidentifier NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2024-11-19 15:02:32.692 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD [UserId] uniqueidentifier NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2024-11-19 15:02:32.694 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_cars_AppUserId] ON [cars] ([AppUserId]);
2024-11-19 15:02:32.695 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_cars_UserId] ON [cars] ([UserId]);
2024-11-19 15:02:32.700 +04:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD CONSTRAINT [FK_cars_AspNetUsers_AppUserId] FOREIGN KEY ([AppUserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE;
2024-11-19 15:45:30.564 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 15:45:38.526 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 15:45:38.827 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 15:45:38.845 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 15:45:38.846 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 15:45:38.847 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 15:45:38.857 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 15:45:38.865 +04:00 [INF] Applying migration '20241119114530_v.5.5'.
2024-11-19 15:45:38.890 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241119114530_v.5.5', N'8.0.10');
2024-11-19 16:28:35.372 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-19 16:28:35.620 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-19 16:28:35.674 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-19 16:28:35.676 +04:00 [INF] Hosting environment: Development
2024-11-19 16:28:35.677 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-19 16:28:36.459 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-19 16:28:36.823 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 376.6671ms
2024-11-19 16:28:36.860 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 16:28:36.866 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 6.5137ms
2024-11-19 16:28:37.103 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-19 16:28:37.202 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 99.2316ms
2024-11-19 16:28:37.595 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-19 16:28:37.611 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.357ms
2024-11-19 16:28:44.247 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetUsersCars - null null
2024-11-19 16:28:44.259 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-19 16:28:44.329 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetUsersCars (CarMarketplaceWebApi)'
2024-11-19 16:28:44.345 +04:00 [INF] Route matched with {action = "GetUsersCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 16:28:45.170 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 16:28:52.965 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetUsersCars (CarMarketplaceWebApi) in 8611.3495ms
2024-11-19 16:28:52.974 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetUsersCars (CarMarketplaceWebApi)'
2024-11-19 16:28:52.976 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at CarMarketplaceWebApi.Services.Implementations.CarService.GetAllCurrrentUserCars() in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Services\Implementations\CarService.cs:line 123
   at CarMarketplaceWebApi.Controllers.CarController.GetUsersCars() in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Controllers\CarController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-19 16:28:53.038 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetUsersCars - 500 null text/plain; charset=utf-8 8791.1827ms
2024-11-19 16:29:11.104 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundaryYu2X343iSXjwwxOb 270
2024-11-19 16:29:11.118 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 16:29:11.136 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-19 16:29:12.055 +04:00 [INF] Executed DbCommand (62ms) [Parameters=[@__normalizedEmail_0='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-19 16:29:12.412 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='944c7dc9-5337-4674-8e3a-08dd03ede844'], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-19 16:29:12.485 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 16:29:12.677 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='jti' (Size = 4000), @p1='bbf1d2ac-4ab8-412e-8521-884db95bc9c6' (Size = 4000), @p2='944c7dc9-5337-4674-8e3a-08dd03ede844', @p3='http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier' (Size = 4000), @p4='944c7dc9-5337-4674-8e3a-08dd03ede844' (Size = 4000), @p5='944c7dc9-5337-4674-8e3a-08dd03ede844', @p6='email' (Size = 4000), @p7='ndng.minurmemizade@gmail.com' (Size = 4000), @p8='944c7dc9-5337-4674-8e3a-08dd03ede844', @p25='944c7dc9-5337-4674-8e3a-08dd03ede844', @p9='0', @p10='a2783833-05ed-430a-a77d-31c6aa434ad0' (Size = 4000), @p26='7b8d9d4f-4415-41c1-bc9c-91ae42c84aec' (Size = 4000), @p11='ndng.minurmemizade@gmail.com' (Size = 256), @p12='True', @p13='True', @p14=NULL (DbType = DateTimeOffset), @p15='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p16='MINURMEMIZADE' (Size = 256), @p17='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p18=NULL (Size = 4000), @p19='False', @p20='RJMQs6xTFEtP/xio3nCo1nGWQGF5Xh3oOM7l+7ZtsK8sypZ2ykEf8vzphlao5EOIrlcUBcoapiNAqC5n11NZbw==' (Size = 4000), @p21='2025-01-18T13:43:46.0375196' (Nullable = true), @p22='QIFMPHXQW2QCKDKXYIIBTWFJ2OVCHOXQ' (Size = 4000), @p23='False', @p24='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [AspNetUserClaims] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2)) AS i ([ClaimType], [ClaimValue], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClaimType], [ClaimValue], [UserId])
VALUES (i.[ClaimType], i.[ClaimValue], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [RefreshToken] = @p20, [RefreshTokenExpireTime] = @p21, [SecurityStamp] = @p22, [TwoFactorEnabled] = @p23, [UserName] = @p24
OUTPUT 1
WHERE [Id] = @p25 AND [ConcurrencyStamp] = @p26;
2024-11-19 16:29:12.745 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 16:29:12.755 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='d2984b05-4cd7-45d5-ab19-05809820e998' (Size = 4000), @p17='a2783833-05ed-430a-a77d-31c6aa434ad0' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='cur+1c5H/41B03DdOXmxywwV60d6Pjp0+Ij5keTleFIEaojyrRUM9B9Pf8nI8PruOqSC22Hq5AXCZ4fiSgFQcQ==' (Size = 4000), @p12='2025-01-18T16:29:12.7411614+04:00' (Nullable = true), @p13='QIFMPHXQW2QCKDKXYIIBTWFJ2OVCHOXQ' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-19 16:29:12.770 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 16:29:12.776 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='9dada5fe-41b3-4535-a865-dc4e2d63dd09' (Size = 4000), @p17='d2984b05-4cd7-45d5-ab19-05809820e998' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='cur+1c5H/41B03DdOXmxywwV60d6Pjp0+Ij5keTleFIEaojyrRUM9B9Pf8nI8PruOqSC22Hq5AXCZ4fiSgFQcQ==' (Size = 4000), @p12='2025-01-18T16:29:12.7411614+04:00' (Nullable = true), @p13='ODZQKCFBRUCHJCW7BUO7SS2OQJ6IMLAE' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-19 16:29:12.859 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true), @__p_1='Default' (Size = 450), @__p_2='AccessToken' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[LoginProvider] = @__p_1 AND [a].[Name] = @__p_2
2024-11-19 16:29:12.883 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 16:29:12.894 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='Default' (Nullable = false) (Size = 450), @p2='AccessToken' (Nullable = false) (Size = 450), @p3='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJiYmYxZDJhYy00YWI4LTQxMmUtODUyMS04ODRkYjk1YmM5YzYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6Ijk0NGM3ZGM5LTUzMzctNDY3NC04ZTNhLTA4ZGQwM2VkZTg0NCIsImVtYWlsIjoibmRuZy5taW51cm1lbWl6YWRlQGdtYWlsLmNvbSIsImV4cCI6MTczMjAyMDI1Mn0.qt5MPJObZHjGpA1wsc-Qkt8IHtYf-smhKxaHFNB3PuM' (Size = 4000), @p20='944c7dc9-5337-4674-8e3a-08dd03ede844', @p4='0', @p5='2df73509-8b82-41fd-9fb4-11977f195a59' (Size = 4000), @p21='9dada5fe-41b3-4535-a865-dc4e2d63dd09' (Size = 4000), @p6='ndng.minurmemizade@gmail.com' (Size = 256), @p7='True', @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p11='MINURMEMIZADE' (Size = 256), @p12='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='cur+1c5H/41B03DdOXmxywwV60d6Pjp0+Ij5keTleFIEaojyrRUM9B9Pf8nI8PruOqSC22Hq5AXCZ4fiSgFQcQ==' (Size = 4000), @p16='2025-01-18T16:29:12.7411614+04:00' (Nullable = true), @p17='ODZQKCFBRUCHJCW7BUO7SS2OQJ6IMLAE' (Size = 4000), @p18='False', @p19='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUserTokens] SET [Value] = @p0
OUTPUT 1
WHERE [LoginProvider] = @p1 AND [Name] = @p2 AND [UserId] = @p3;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpireTime] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-11-19 16:29:12.933 +04:00 [INF] Executing OkObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.ResponseDTO'.
2024-11-19 16:29:12.942 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 1800.17ms
2024-11-19 16:29:12.943 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 16:29:12.947 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 200 null application/json; charset=utf-8 1843.4042ms
2024-11-19 16:29:28.551 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetUsersCars - null null
2024-11-19 16:29:28.604 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetUsersCars (CarMarketplaceWebApi)'
2024-11-19 16:29:28.605 +04:00 [INF] Route matched with {action = "GetUsersCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 16:29:28.630 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-19 16:29:28.652 +04:00 [ERR] Failed executing DbCommand (8ms) [Parameters=[@__id_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[UserId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
WHERE [c].[UserId] = @__id_0
2024-11-19 16:29:28.663 +04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CarMarketplaceWebApi.Context.AppDBContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserId'.
Invalid column name 'UserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:68dae751-a801-435b-b899-c4ff5cf67727
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserId'.
Invalid column name 'UserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:68dae751-a801-435b-b899-c4ff5cf67727
Error Number:207,State:1,Class:16
2024-11-19 16:29:28.789 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetUsersCars (CarMarketplaceWebApi) in 182.3191ms
2024-11-19 16:29:28.791 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetUsersCars (CarMarketplaceWebApi)'
2024-11-19 16:29:28.792 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserId'.
Invalid column name 'UserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CarMarketplaceWebApi.Repositories.Implementations.CarRepository.GetCarsByUserId(Guid id) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Repositories\Implementations\CarRepository.cs:line 22
   at CarMarketplaceWebApi.Services.Implementations.CarService.GetAllCurrrentUserCars() in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Services\Implementations\CarService.cs:line 123
   at CarMarketplaceWebApi.Controllers.CarController.GetUsersCars() in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Controllers\CarController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:68dae751-a801-435b-b899-c4ff5cf67727
Error Number:207,State:1,Class:16
2024-11-19 16:29:28.816 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetUsersCars - 500 null text/plain; charset=utf-8 265.0617ms
2024-11-19 16:39:36.158 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 16:39:42.138 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 16:39:42.465 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 16:39:42.486 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 16:39:42.487 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 16:39:42.488 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 16:39:42.498 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 16:39:42.511 +04:00 [INF] Applying migration '20241119123936_v.5.6'.
2024-11-19 16:39:42.541 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241119123936_v.5.6', N'8.0.10');
2024-11-19 16:39:49.858 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-19 16:39:50.086 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-19 16:39:50.131 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-19 16:39:50.147 +04:00 [INF] Hosting environment: Development
2024-11-19 16:39:50.149 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-19 16:39:50.808 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-19 16:39:51.085 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 282.0028ms
2024-11-19 16:39:51.118 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 16:39:51.129 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 11.2671ms
2024-11-19 16:39:51.250 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-19 16:39:51.305 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.3208ms
2024-11-19 16:39:51.557 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-19 16:39:51.573 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.3441ms
2024-11-19 16:41:08.961 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 16:41:12.768 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 16:41:13.073 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 16:41:13.091 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 16:41:13.093 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 16:41:13.094 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 16:41:13.104 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 16:41:13.116 +04:00 [INF] Applying migration '20241119124109_v.5.7'.
2024-11-19 16:41:13.176 +04:00 [ERR] Failed executing DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_cars_UserId] ON [cars];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[cars]') AND [c].[name] = N'UserId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [cars] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [cars] SET [UserId] = '00000000-0000-0000-0000-000000000000' WHERE [UserId] IS NULL;
ALTER TABLE [cars] ALTER COLUMN [UserId] uniqueidentifier NOT NULL;
ALTER TABLE [cars] ADD DEFAULT '00000000-0000-0000-0000-000000000000' FOR [UserId];
CREATE INDEX [IX_cars_UserId] ON [cars] ([UserId]);
2024-11-19 16:41:52.397 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 16:41:56.460 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 16:41:56.856 +04:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 16:41:56.883 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 16:41:56.886 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 16:41:56.886 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 16:41:56.897 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 16:41:56.908 +04:00 [INF] Applying migration '20241119124153_v.5.4.1'.
2024-11-19 16:41:56.938 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241119124153_v.5.4.1', N'8.0.10');
2024-11-19 16:42:30.815 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 16:42:47.139 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 16:42:47.365 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 16:42:47.380 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 16:42:47.381 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 16:42:47.382 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 16:42:47.388 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 16:42:47.397 +04:00 [INF] Applying migration '20241119124231_v.5.4.2'.
2024-11-19 16:42:47.418 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241119124231_v.5.4.2', N'8.0.10');
2024-11-19 16:45:49.755 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 16:45:55.991 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 16:45:56.244 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 16:45:56.261 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 16:45:56.262 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 16:45:56.263 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 16:45:56.270 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 16:45:56.277 +04:00 [INF] Applying migration '20241119124550_v5.7.5'.
2024-11-19 16:45:56.298 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241119124550_v5.7.5', N'8.0.10');
2024-11-19 16:47:21.101 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 16:47:24.829 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 16:47:25.106 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 16:47:25.125 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 16:47:25.126 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 16:47:25.127 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 16:47:25.137 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 16:47:25.146 +04:00 [INF] Applying migration '20241119124721_v5.7.6'.
2024-11-19 16:47:25.184 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD [asdasd] nvarchar(max) NOT NULL DEFAULT N'';
2024-11-19 16:47:25.186 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241119124721_v5.7.6', N'8.0.10');
2024-11-19 16:52:50.885 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 16:52:56.387 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 16:52:56.636 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 16:52:56.653 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 16:52:56.655 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 16:52:56.655 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 16:52:56.664 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 16:52:56.672 +04:00 [INF] Applying migration '20241119125251_v5.7.7'.
2024-11-19 16:52:56.708 +04:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] DROP CONSTRAINT [FK_cars_AspNetUsers_UserId];
2024-11-19 16:53:55.616 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 16:53:59.175 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 16:54:02.927 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 16:54:03.167 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 16:54:03.183 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 16:54:03.184 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 16:54:03.185 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 16:54:03.191 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 16:54:03.198 +04:00 [INF] Applying migration '20241119125251_v5.7.7'.
2024-11-19 16:54:03.230 +04:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] DROP CONSTRAINT [FK_cars_AspNetUsers_UserId];
2024-11-19 16:55:05.173 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 16:55:08.137 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 16:55:08.393 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 16:55:08.409 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 16:55:08.411 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 16:55:08.412 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 16:55:08.419 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 16:55:08.428 +04:00 [INF] Applying migration '20241119125505_v5.4.1'.
2024-11-19 16:55:08.451 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241119125505_v5.4.1', N'8.0.10');
2024-11-19 16:55:40.890 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 16:55:46.613 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 16:55:46.885 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 16:55:46.903 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 16:55:46.905 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 16:55:46.906 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 16:55:46.914 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 16:55:46.924 +04:00 [INF] Applying migration '20241119125541_asdasd'.
2024-11-19 16:55:46.950 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241119125541_asdasd', N'8.0.10');
2024-11-19 16:57:14.107 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 16:57:20.489 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 16:57:20.736 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 16:57:20.751 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 16:57:20.752 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 16:57:20.753 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 16:57:20.761 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 16:57:20.768 +04:00 [INF] Applying migration '20241119125714_v5.4.1'.
2024-11-19 16:57:20.789 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241119125714_v5.4.1', N'8.0.10');
2024-11-19 16:58:14.330 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 16:58:20.155 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 16:58:20.425 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 16:58:20.441 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 16:58:20.442 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 16:58:20.443 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 16:58:20.451 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 16:58:20.460 +04:00 [INF] Applying migration '20241119125814_v1'.
2024-11-19 16:58:20.510 +04:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2024-11-19 16:59:14.154 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 16:59:19.082 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 16:59:19.344 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 16:59:19.360 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 16:59:19.362 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 16:59:19.363 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 16:59:19.371 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 16:59:19.380 +04:00 [INF] Applying migration '20241119125914_v7'.
2024-11-19 16:59:19.402 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241119125914_v7', N'8.0.10');
2024-11-19 17:00:22.751 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 17:00:26.235 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 17:00:26.508 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 17:00:26.525 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 17:00:26.527 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 17:00:26.528 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 17:00:26.537 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 17:00:26.546 +04:00 [INF] Applying migration '20241119130023_v7.1'.
2024-11-19 17:00:26.577 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD [asd] nvarchar(max) NOT NULL DEFAULT N'';
2024-11-19 17:00:26.578 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241119130023_v7.1', N'8.0.10');
2024-11-19 17:04:34.880 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 17:04:39.343 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 17:04:39.617 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 17:04:39.632 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 17:04:39.634 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 17:04:39.634 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 17:04:39.640 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 17:04:39.649 +04:00 [INF] Applying migration '20241119130435_v7.2'.
2024-11-19 17:04:39.679 +04:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] DROP CONSTRAINT [FK_cars_AspNetUsers_UserId];
2024-11-19 17:07:22.608 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 17:07:26.542 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 17:07:31.845 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 17:07:32.090 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 17:07:32.107 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 17:07:32.108 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 17:07:32.109 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 17:07:32.115 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 17:07:32.123 +04:00 [INF] Applying migration '20241119130435_v7.2'.
2024-11-19 17:07:32.159 +04:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] DROP CONSTRAINT [FK_cars_AspNetUsers_UserId];
2024-11-19 17:11:12.063 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 17:11:18.725 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 17:11:19.001 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 17:11:19.020 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 17:11:19.022 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 17:11:19.023 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 17:11:19.031 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 17:11:19.043 +04:00 [INF] Applying migration '20241119130435_v7.2'.
2024-11-19 17:11:19.080 +04:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] DROP CONSTRAINT [FK_cars_AspNetUsers_UserId];
2024-11-19 17:12:32.895 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 17:12:36.594 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 17:12:36.832 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 17:12:36.847 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 17:12:36.849 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 17:12:36.849 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 17:12:36.857 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 17:12:36.865 +04:00 [INF] Applying migration '20241119130435_v7.2'.
2024-11-19 17:12:36.894 +04:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] DROP CONSTRAINT [FK_cars_AspNetUsers_UserId];
2024-11-19 17:13:46.797 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 17:13:47.042 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 17:13:47.057 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 17:13:47.059 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 17:13:47.059 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 17:13:47.067 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 17:13:47.077 +04:00 [INF] Applying migration '20241119130435_v7.2'.
2024-11-19 17:13:47.111 +04:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] DROP CONSTRAINT [FK_cars_AspNetUsers_UserId];
2024-11-19 17:13:52.784 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 17:13:56.682 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 17:13:56.916 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 17:13:56.932 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 17:13:56.934 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 17:13:56.934 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 17:13:56.942 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 17:13:56.951 +04:00 [INF] Applying migration '20241119130435_v7.2'.
2024-11-19 17:13:56.982 +04:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] DROP CONSTRAINT [FK_cars_AspNetUsers_UserId];
2024-11-19 17:14:34.056 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 17:14:46.206 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 17:14:46.438 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 17:14:46.453 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 17:14:46.454 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 17:14:46.455 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 17:14:46.462 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 17:14:46.470 +04:00 [INF] Applying migration '20241119130435_v7.2'.
2024-11-19 17:14:46.499 +04:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] DROP CONSTRAINT [FK_cars_AspNetUsers_UserId];
2024-11-19 17:16:37.153 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 17:16:40.693 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 17:16:40.947 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 17:16:40.964 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 17:16:40.965 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 17:16:40.965 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 17:16:40.973 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 17:16:40.982 +04:00 [INF] Applying migration '20241119130435_v7.2'.
2024-11-19 17:16:41.012 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] DROP CONSTRAINT [FK_cars_AspNetUsers_UserId];
2024-11-19 17:16:41.014 +04:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_cars_UserId] ON [cars];
2024-11-19 17:17:34.858 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 17:17:35.107 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 17:17:35.123 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 17:17:35.124 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 17:17:35.125 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 17:17:35.134 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 17:17:35.144 +04:00 [INF] Applying migration '20241119130435_v7.2'.
2024-11-19 17:17:35.175 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] DROP CONSTRAINT [FK_cars_AspNetUsers_UserId];
2024-11-19 17:17:35.177 +04:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_cars_UserId] ON [cars];
2024-11-19 17:18:04.051 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 17:18:07.955 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 17:18:08.200 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 17:18:08.216 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 17:18:08.219 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 17:18:08.219 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 17:18:08.228 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 17:18:08.236 +04:00 [INF] Applying migration '20241119130435_v7.2'.
2024-11-19 17:18:08.268 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] DROP CONSTRAINT [FK_cars_AspNetUsers_UserId];
2024-11-19 17:18:08.269 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_cars_UserId] ON [cars];
2024-11-19 17:18:08.282 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[cars]') AND [c].[name] = N'UserId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [cars] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [cars] DROP COLUMN [UserId];
2024-11-19 17:18:08.294 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[cars]') AND [c].[name] = N'asd');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [cars] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [cars] DROP COLUMN [asd];
2024-11-19 17:18:08.295 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD [AppUserId] uniqueidentifier NULL;
2024-11-19 17:18:08.297 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_cars_AppUserId] ON [cars] ([AppUserId]);
2024-11-19 17:18:08.299 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD CONSTRAINT [FK_cars_AspNetUsers_AppUserId] FOREIGN KEY ([AppUserId]) REFERENCES [AspNetUsers] ([Id]);
2024-11-19 17:18:09.277 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241119130435_v7.2', N'8.0.10');
2024-11-19 17:18:09.281 +04:00 [INF] Applying migration '20241119130726_v7.3'.
2024-11-19 17:18:09.290 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] DROP CONSTRAINT [FK_cars_AspNetUsers_AppUserId];
2024-11-19 17:18:09.291 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_cars_AppUserId] ON [cars];
2024-11-19 17:18:09.301 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[cars]') AND [c].[name] = N'AppUserId');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [cars] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [cars] DROP COLUMN [AppUserId];
2024-11-19 17:18:09.301 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241119130726_v7.3', N'8.0.10');
2024-11-19 17:18:09.302 +04:00 [INF] Applying migration '20241119131112_v7.4'.
2024-11-19 17:18:11.118 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD [UserId] uniqueidentifier NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2024-11-19 17:18:11.120 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_cars_UserId] ON [cars] ([UserId]);
2024-11-19 17:18:11.124 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD CONSTRAINT [FK_cars_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE;
2024-11-19 17:18:11.124 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241119131112_v7.4', N'8.0.10');
2024-11-19 17:18:11.125 +04:00 [INF] Applying migration '20241119131233_v7.5'.
2024-11-19 17:18:11.134 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241119131233_v7.5', N'8.0.10');
2024-11-19 17:18:11.135 +04:00 [INF] Applying migration '20241119131353_v7.6'.
2024-11-19 17:18:11.146 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241119131353_v7.6', N'8.0.10');
2024-11-19 17:18:11.147 +04:00 [INF] Applying migration '20241119131434_v7.12'.
2024-11-19 17:18:11.158 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241119131434_v7.12', N'8.0.10');
2024-11-19 17:18:12.731 +04:00 [INF] Applying migration '20241119131637_v7.11'.
2024-11-19 17:18:12.740 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241119131637_v7.11', N'8.0.10');
2024-11-19 17:18:12.740 +04:00 [INF] Applying migration '20241119131804_v7.13'.
2024-11-19 17:18:12.744 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241119131804_v7.13', N'8.0.10');
2024-11-19 17:21:32.908 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-19 17:21:33.110 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-19 17:21:33.192 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-19 17:21:33.194 +04:00 [INF] Hosting environment: Development
2024-11-19 17:21:33.195 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-19 17:21:33.979 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-19 17:21:34.200 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 224.7789ms
2024-11-19 17:21:34.227 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 17:21:34.232 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 5.0313ms
2024-11-19 17:21:34.309 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-19 17:21:34.352 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.6706ms
2024-11-19 17:21:34.481 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-19 17:21:34.489 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.0859ms
2024-11-19 17:21:51.378 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundarybkg16Qy0BCeAE7lz 269
2024-11-19 17:21:51.388 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-19 17:21:51.451 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 17:21:51.477 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-19 17:21:52.258 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 17:21:53.063 +04:00 [INF] Executed DbCommand (48ms) [Parameters=[@__normalizedEmail_0='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-19 17:21:53.374 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 1891.2088ms
2024-11-19 17:21:53.376 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 17:21:53.381 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Email or Password is incorrect.
   at CarMarketplaceWebApi.Services.Implementations.AuthService.LoginAsync(LoginDTO loginDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Services\Implementations\AuthService.cs:line 39
   at CarMarketplaceWebApi.Controllers.AuthController.Login(LoginDTO loginDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Controllers\AuthController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-19 17:21:53.407 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 500 null text/plain; charset=utf-8 2029.7529ms
2024-11-19 17:21:57.892 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundaryVweVafNSr1SWnmRI 270
2024-11-19 17:21:57.911 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 17:21:57.913 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-19 17:21:57.971 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-19 17:21:58.112 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='944c7dc9-5337-4674-8e3a-08dd03ede844'], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-19 17:21:58.179 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 17:21:58.332 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='jti' (Size = 4000), @p1='2e51738a-41d1-4a72-95c3-3a4befdfc85c' (Size = 4000), @p2='944c7dc9-5337-4674-8e3a-08dd03ede844', @p3='http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier' (Size = 4000), @p4='944c7dc9-5337-4674-8e3a-08dd03ede844' (Size = 4000), @p5='944c7dc9-5337-4674-8e3a-08dd03ede844', @p6='email' (Size = 4000), @p7='ndng.minurmemizade@gmail.com' (Size = 4000), @p8='944c7dc9-5337-4674-8e3a-08dd03ede844', @p25='944c7dc9-5337-4674-8e3a-08dd03ede844', @p9='0', @p10='f4248b77-b00f-4bf2-8e86-afeb4933d2bc' (Size = 4000), @p26='2df73509-8b82-41fd-9fb4-11977f195a59' (Size = 4000), @p11='ndng.minurmemizade@gmail.com' (Size = 256), @p12='True', @p13='True', @p14=NULL (DbType = DateTimeOffset), @p15='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p16='MINURMEMIZADE' (Size = 256), @p17='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p18=NULL (Size = 4000), @p19='False', @p20='cur+1c5H/41B03DdOXmxywwV60d6Pjp0+Ij5keTleFIEaojyrRUM9B9Pf8nI8PruOqSC22Hq5AXCZ4fiSgFQcQ==' (Size = 4000), @p21='2025-01-18T16:29:12.7411614' (Nullable = true), @p22='ODZQKCFBRUCHJCW7BUO7SS2OQJ6IMLAE' (Size = 4000), @p23='False', @p24='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [AspNetUserClaims] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2)) AS i ([ClaimType], [ClaimValue], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClaimType], [ClaimValue], [UserId])
VALUES (i.[ClaimType], i.[ClaimValue], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [RefreshToken] = @p20, [RefreshTokenExpireTime] = @p21, [SecurityStamp] = @p22, [TwoFactorEnabled] = @p23, [UserName] = @p24
OUTPUT 1
WHERE [Id] = @p25 AND [ConcurrencyStamp] = @p26;
2024-11-19 17:21:58.383 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 17:21:58.393 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='c359f4ee-0a4f-4cc1-b137-83cd94a2f70c' (Size = 4000), @p17='f4248b77-b00f-4bf2-8e86-afeb4933d2bc' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='9//tkKfqoWD1mmc2cSo7vs/340hn622e2NRsFYW3LvO57puYx/YiOb65RS5JIfaEJp0lufd+VtX/kygQIIm8Qg==' (Size = 4000), @p12='2025-01-18T17:21:58.3798684+04:00' (Nullable = true), @p13='ODZQKCFBRUCHJCW7BUO7SS2OQJ6IMLAE' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-19 17:21:58.409 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 17:21:58.417 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='e0cb783b-f936-4cb8-8649-ef0a32a7ac6d' (Size = 4000), @p17='c359f4ee-0a4f-4cc1-b137-83cd94a2f70c' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='9//tkKfqoWD1mmc2cSo7vs/340hn622e2NRsFYW3LvO57puYx/YiOb65RS5JIfaEJp0lufd+VtX/kygQIIm8Qg==' (Size = 4000), @p12='2025-01-18T17:21:58.3798684+04:00' (Nullable = true), @p13='NHJMS3JWQD3C7U2Q3YIO6MDHGIYMANB7' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-19 17:21:58.492 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true), @__p_1='Default' (Size = 450), @__p_2='AccessToken' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[LoginProvider] = @__p_1 AND [a].[Name] = @__p_2
2024-11-19 17:21:58.519 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 17:21:58.553 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='Default' (Nullable = false) (Size = 450), @p2='AccessToken' (Nullable = false) (Size = 450), @p3='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyZTUxNzM4YS00MWQxLTRhNzItOTVjMy0zYTRiZWZkZmM4NWMiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6Ijk0NGM3ZGM5LTUzMzctNDY3NC04ZTNhLTA4ZGQwM2VkZTg0NCIsImVtYWlsIjoibmRuZy5taW51cm1lbWl6YWRlQGdtYWlsLmNvbSIsImV4cCI6MTczMjAyMzQxOH0.gipRSIB4LDQmzMnhzn76VuHk071KXnLMxHCXkNd8Afk' (Size = 4000), @p20='944c7dc9-5337-4674-8e3a-08dd03ede844', @p4='0', @p5='304cb887-a44e-4d72-9726-d2d14afc00cf' (Size = 4000), @p21='e0cb783b-f936-4cb8-8649-ef0a32a7ac6d' (Size = 4000), @p6='ndng.minurmemizade@gmail.com' (Size = 256), @p7='True', @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p11='MINURMEMIZADE' (Size = 256), @p12='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='9//tkKfqoWD1mmc2cSo7vs/340hn622e2NRsFYW3LvO57puYx/YiOb65RS5JIfaEJp0lufd+VtX/kygQIIm8Qg==' (Size = 4000), @p16='2025-01-18T17:21:58.3798684+04:00' (Nullable = true), @p17='NHJMS3JWQD3C7U2Q3YIO6MDHGIYMANB7' (Size = 4000), @p18='False', @p19='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUserTokens] SET [Value] = @p0
OUTPUT 1
WHERE [LoginProvider] = @p1 AND [Name] = @p2 AND [UserId] = @p3;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpireTime] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-11-19 17:21:58.569 +04:00 [INF] Executing OkObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.ResponseDTO'.
2024-11-19 17:21:58.577 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 661.1019ms
2024-11-19 17:21:58.579 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 17:21:58.580 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 200 null application/json; charset=utf-8 688.0245ms
2024-11-19 17:22:35.334 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Car/AddCar - multipart/form-data; boundary=----WebKitFormBoundaryTDbGzOp5aXuekzoh 392129
2024-11-19 17:22:35.433 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi)'
2024-11-19 17:22:35.441 +04:00 [INF] Route matched with {action = "AddCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCar(CarMarketplaceWebApi.Models.DTOs.CarDTO) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 17:22:35.544 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-19 17:22:35.656 +04:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p0='32f8b831-4abf-4323-f804-08dd089d3b62', @p1='asd' (Nullable = false) (Size = 4000), @p2='asd' (Nullable = false) (Size = 4000), @p3='["https://www.example.com/uploads/8cda1005-a577-4bc7-b743-5a090fea985d_1920x1080-2605032-pacman-hd-wallpaper-for-free-download.png"]' (Nullable = false) (Size = 4000), @p4='True', @p5='asdasd' (Nullable = false) (Size = 4000), @p6='asd' (Nullable = false) (Size = 4000), @p7='asd' (Nullable = false) (Size = 4000), @p8='123', @p9='ndng.minurmemizade@gmail.com' (Nullable = false) (Size = 4000), @p10='MinurMemizade' (Nullable = false) (Size = 4000), @p11='944c7dc9-5337-4674-8e3a-08dd03ede844', @p12='asdasd' (Nullable = false) (Size = 4000), @p13='2024-11-19T13:22:35.5530971Z', @p14='0', @p15=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cars] ([Id], [Class], [Color], [ImageUrls], [IsNew], [Make], [Mileage], [Model], [Price], [SellerEmail], [SellerName], [UserId], [Year], [createdTime], [eStatus], [soldTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2024-11-19 17:22:35.680 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'CarMarketplaceWebApi.Context.AppDBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'SellerEmail'.
Invalid column name 'SellerName'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:87501bca-f9df-43c7-917e-3fa48b064e16
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'SellerEmail'.
Invalid column name 'SellerName'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:87501bca-f9df-43c7-917e-3fa48b064e16
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-11-19 17:22:35.842 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi) in 397.9528ms
2024-11-19 17:22:35.844 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi)'
2024-11-19 17:22:35.849 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'SellerEmail'.
Invalid column name 'SellerName'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:87501bca-f9df-43c7-917e-3fa48b064e16
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CarMarketplaceWebApi.Repositories.Implementations.Repository`1.CreateAsync(T entity) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Repositories\Implementations\Repository.cs:line 24
   at CarMarketplaceWebApi.Services.Implementations.CarService.CreateAsync(CarDTO carDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Services\Implementations\CarService.cs:line 49
   at CarMarketplaceWebApi.Controllers.CarController.AddCar(CarDTO carDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Controllers\CarController.cs:line 49
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-19 17:22:35.894 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Car/AddCar - 500 null text/plain; charset=utf-8 560.6171ms
2024-11-19 17:23:17.566 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 17:23:25.775 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 17:23:26.020 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 17:23:26.036 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 17:23:26.037 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 17:23:26.038 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 17:23:26.046 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 17:23:26.054 +04:00 [INF] Applying migration '20241119132317_v7.8'.
2024-11-19 17:23:26.078 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241119132317_v7.8', N'8.0.10');
2024-11-19 17:27:33.621 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-19 17:27:33.794 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-19 17:27:33.835 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-19 17:27:33.836 +04:00 [INF] Hosting environment: Development
2024-11-19 17:27:33.837 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-19 17:27:34.519 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-19 17:27:34.692 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 177.9848ms
2024-11-19 17:27:34.732 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 17:27:34.743 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 11.555ms
2024-11-19 17:27:34.804 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-19 17:27:34.847 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.3204ms
2024-11-19 17:27:34.990 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-19 17:27:35.002 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.3081ms
2024-11-19 17:27:57.056 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundaryvlZy9MeaZPPuMw2F 270
2024-11-19 17:27:57.077 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-19 17:27:57.134 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 17:27:57.162 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-19 17:27:58.095 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 17:27:58.963 +04:00 [INF] Executed DbCommand (47ms) [Parameters=[@__normalizedEmail_0='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-19 17:27:59.300 +04:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='944c7dc9-5337-4674-8e3a-08dd03ede844'], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-19 17:27:59.359 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 17:27:59.515 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='jti' (Size = 4000), @p1='29ae2ecb-b162-4a44-a082-55a2637cc256' (Size = 4000), @p2='944c7dc9-5337-4674-8e3a-08dd03ede844', @p3='http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier' (Size = 4000), @p4='944c7dc9-5337-4674-8e3a-08dd03ede844' (Size = 4000), @p5='944c7dc9-5337-4674-8e3a-08dd03ede844', @p6='email' (Size = 4000), @p7='ndng.minurmemizade@gmail.com' (Size = 4000), @p8='944c7dc9-5337-4674-8e3a-08dd03ede844', @p25='944c7dc9-5337-4674-8e3a-08dd03ede844', @p9='0', @p10='1e72d5d1-6314-4e33-a483-f5742edfc560' (Size = 4000), @p26='304cb887-a44e-4d72-9726-d2d14afc00cf' (Size = 4000), @p11='ndng.minurmemizade@gmail.com' (Size = 256), @p12='True', @p13='True', @p14=NULL (DbType = DateTimeOffset), @p15='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p16='MINURMEMIZADE' (Size = 256), @p17='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p18=NULL (Size = 4000), @p19='False', @p20='9//tkKfqoWD1mmc2cSo7vs/340hn622e2NRsFYW3LvO57puYx/YiOb65RS5JIfaEJp0lufd+VtX/kygQIIm8Qg==' (Size = 4000), @p21='2025-01-18T17:21:58.3798684' (Nullable = true), @p22='NHJMS3JWQD3C7U2Q3YIO6MDHGIYMANB7' (Size = 4000), @p23='False', @p24='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [AspNetUserClaims] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2)) AS i ([ClaimType], [ClaimValue], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClaimType], [ClaimValue], [UserId])
VALUES (i.[ClaimType], i.[ClaimValue], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [RefreshToken] = @p20, [RefreshTokenExpireTime] = @p21, [SecurityStamp] = @p22, [TwoFactorEnabled] = @p23, [UserName] = @p24
OUTPUT 1
WHERE [Id] = @p25 AND [ConcurrencyStamp] = @p26;
2024-11-19 17:27:59.562 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 17:27:59.572 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='9c011d3a-0480-423a-b055-cad4210886a5' (Size = 4000), @p17='1e72d5d1-6314-4e33-a483-f5742edfc560' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='oagCtdvalYTv7+piu//GgfcUJM15P7PuicjLBSwXB0G9UyzjOBb5vB4ohQy+my4pl8RMP2yuWZaPMd8hS9KMdw==' (Size = 4000), @p12='2025-01-18T17:27:59.5597161+04:00' (Nullable = true), @p13='NHJMS3JWQD3C7U2Q3YIO6MDHGIYMANB7' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-19 17:27:59.578 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 17:27:59.582 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='8df3bcf2-d201-4213-a07d-eacb06233c08' (Size = 4000), @p17='9c011d3a-0480-423a-b055-cad4210886a5' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='oagCtdvalYTv7+piu//GgfcUJM15P7PuicjLBSwXB0G9UyzjOBb5vB4ohQy+my4pl8RMP2yuWZaPMd8hS9KMdw==' (Size = 4000), @p12='2025-01-18T17:27:59.5597161+04:00' (Nullable = true), @p13='BNKUWOITDU7LBCCT3WNPUYCOWTSTYIZ3' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-19 17:27:59.636 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true), @__p_1='Default' (Size = 450), @__p_2='AccessToken' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[LoginProvider] = @__p_1 AND [a].[Name] = @__p_2
2024-11-19 17:27:59.666 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 17:27:59.682 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='Default' (Nullable = false) (Size = 450), @p2='AccessToken' (Nullable = false) (Size = 450), @p3='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyOWFlMmVjYi1iMTYyLTRhNDQtYTA4Mi01NWEyNjM3Y2MyNTYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6Ijk0NGM3ZGM5LTUzMzctNDY3NC04ZTNhLTA4ZGQwM2VkZTg0NCIsImVtYWlsIjoibmRuZy5taW51cm1lbWl6YWRlQGdtYWlsLmNvbSIsImV4cCI6MTczMjAyMzc3OX0.zDeYylN0haMGKe6Jr9zoD1qFkhvpJzbh4ekBF-D9guE' (Size = 4000), @p20='944c7dc9-5337-4674-8e3a-08dd03ede844', @p4='0', @p5='9ae40bb2-43c7-4497-8075-3ef914a9397e' (Size = 4000), @p21='8df3bcf2-d201-4213-a07d-eacb06233c08' (Size = 4000), @p6='ndng.minurmemizade@gmail.com' (Size = 256), @p7='True', @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p11='MINURMEMIZADE' (Size = 256), @p12='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='oagCtdvalYTv7+piu//GgfcUJM15P7PuicjLBSwXB0G9UyzjOBb5vB4ohQy+my4pl8RMP2yuWZaPMd8hS9KMdw==' (Size = 4000), @p16='2025-01-18T17:27:59.5597161+04:00' (Nullable = true), @p17='BNKUWOITDU7LBCCT3WNPUYCOWTSTYIZ3' (Size = 4000), @p18='False', @p19='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUserTokens] SET [Value] = @p0
OUTPUT 1
WHERE [LoginProvider] = @p1 AND [Name] = @p2 AND [UserId] = @p3;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpireTime] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-11-19 17:27:59.701 +04:00 [INF] Executing OkObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.ResponseDTO'.
2024-11-19 17:27:59.711 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 2537.5004ms
2024-11-19 17:27:59.712 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 17:27:59.719 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 200 null application/json; charset=utf-8 2667.5002ms
2024-11-19 17:28:30.504 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Car/AddCar - multipart/form-data; boundary=----WebKitFormBoundarycCccMF1LqXgAgyQf 392123
2024-11-19 17:28:30.577 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi)'
2024-11-19 17:28:30.583 +04:00 [INF] Route matched with {action = "AddCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCar(CarMarketplaceWebApi.Models.DTOs.CarDTO) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 17:28:30.712 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-19 17:28:30.789 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='55118a7d-2092-4ef7-e541-08dd089e0f13', @p1='asd' (Nullable = false) (Size = 4000), @p2='asd' (Nullable = false) (Size = 4000), @p3='["https://www.example.com/uploads/0e34ebca-f614-45d2-8397-d12a408c71a1_1920x1080-2605032-pacman-hd-wallpaper-for-free-download.png"]' (Nullable = false) (Size = 4000), @p4='True', @p5='asd' (Nullable = false) (Size = 4000), @p6='asd' (Nullable = false) (Size = 4000), @p7='asd' (Nullable = false) (Size = 4000), @p8='123', @p9='ndng.minurmemizade@gmail.com' (Nullable = false) (Size = 4000), @p10='MinurMemizade' (Nullable = false) (Size = 4000), @p11='944c7dc9-5337-4674-8e3a-08dd03ede844', @p12='asd' (Nullable = false) (Size = 4000), @p13='2024-11-19T13:28:30.7199027Z', @p14='0', @p15=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cars] ([Id], [Class], [Color], [ImageUrls], [IsNew], [Make], [Mileage], [Model], [Price], [SellerEmail], [SellerName], [UserId], [Year], [createdTime], [eStatus], [soldTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2024-11-19 17:28:30.796 +04:00 [INF] Executing ObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.CarDTO'.
2024-11-19 17:28:30.820 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi) in 234.8311ms
2024-11-19 17:28:30.823 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi)'
2024-11-19 17:28:30.826 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Car/AddCar - 201 null application/json; charset=utf-8 321.5459ms
2024-11-19 17:28:42.029 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-19 17:28:42.038 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-19 17:28:42.042 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 17:28:42.069 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerEmail], [c].[SellerName], [c].[UserId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
2024-11-19 17:28:42.076 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 17:28:42.098 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 55.0933ms
2024-11-19 17:28:42.103 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-19 17:28:42.104 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 74.5544ms
2024-11-19 17:29:15.149 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetUsersCars - null null
2024-11-19 17:29:15.162 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetUsersCars (CarMarketplaceWebApi)'
2024-11-19 17:29:15.173 +04:00 [INF] Route matched with {action = "GetUsersCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 17:29:15.200 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-19 17:29:15.220 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='944c7dc9-5337-4674-8e3a-08dd03ede844'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerEmail], [c].[SellerName], [c].[UserId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
WHERE [c].[UserId] = @__id_0
2024-11-19 17:29:15.225 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 17:29:15.236 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetUsersCars (CarMarketplaceWebApi) in 60.8835ms
2024-11-19 17:29:15.237 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetUsersCars (CarMarketplaceWebApi)'
2024-11-19 17:29:15.240 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.AppUser.UserCars.AppUser.UserCars.AppUser.UserCars.AppUser.UserCars.AppUser.UserCars.AppUser.UserCars.AppUser.UserCars.AppUser.UserCars.AppUser.UserCars.AppUser.UserCars.Make.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-19 17:29:15.290 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetUsersCars - 500 null text/plain; charset=utf-8 140.4858ms
2024-11-19 17:30:48.867 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-19 17:30:49.029 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-19 17:30:49.060 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-19 17:30:49.062 +04:00 [INF] Hosting environment: Development
2024-11-19 17:30:49.063 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-19 17:30:49.349 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-19 17:30:49.506 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 160.1192ms
2024-11-19 17:30:49.534 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 17:30:49.541 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 6.5368ms
2024-11-19 17:30:49.632 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-19 17:30:49.674 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.8604ms
2024-11-19 17:30:49.822 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-19 17:30:49.830 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.0757ms
2024-11-19 17:31:08.480 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundaryT5tnxOw54CePLanl 270
2024-11-19 17:31:08.490 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-19 17:31:08.536 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 17:31:08.554 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-19 17:31:09.308 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 17:31:10.149 +04:00 [INF] Executed DbCommand (43ms) [Parameters=[@__normalizedEmail_0='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-19 17:31:10.431 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='944c7dc9-5337-4674-8e3a-08dd03ede844'], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-19 17:31:10.488 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 17:31:10.611 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='jti' (Size = 4000), @p1='b4d3104f-be2d-4c56-babd-f4a492df6b03' (Size = 4000), @p2='944c7dc9-5337-4674-8e3a-08dd03ede844', @p3='http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier' (Size = 4000), @p4='944c7dc9-5337-4674-8e3a-08dd03ede844' (Size = 4000), @p5='944c7dc9-5337-4674-8e3a-08dd03ede844', @p6='email' (Size = 4000), @p7='ndng.minurmemizade@gmail.com' (Size = 4000), @p8='944c7dc9-5337-4674-8e3a-08dd03ede844', @p25='944c7dc9-5337-4674-8e3a-08dd03ede844', @p9='0', @p10='fb57153e-ef43-437d-bdf6-3b6d15599818' (Size = 4000), @p26='9ae40bb2-43c7-4497-8075-3ef914a9397e' (Size = 4000), @p11='ndng.minurmemizade@gmail.com' (Size = 256), @p12='True', @p13='True', @p14=NULL (DbType = DateTimeOffset), @p15='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p16='MINURMEMIZADE' (Size = 256), @p17='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p18=NULL (Size = 4000), @p19='False', @p20='oagCtdvalYTv7+piu//GgfcUJM15P7PuicjLBSwXB0G9UyzjOBb5vB4ohQy+my4pl8RMP2yuWZaPMd8hS9KMdw==' (Size = 4000), @p21='2025-01-18T17:27:59.5597161' (Nullable = true), @p22='BNKUWOITDU7LBCCT3WNPUYCOWTSTYIZ3' (Size = 4000), @p23='False', @p24='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [AspNetUserClaims] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2)) AS i ([ClaimType], [ClaimValue], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClaimType], [ClaimValue], [UserId])
VALUES (i.[ClaimType], i.[ClaimValue], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [RefreshToken] = @p20, [RefreshTokenExpireTime] = @p21, [SecurityStamp] = @p22, [TwoFactorEnabled] = @p23, [UserName] = @p24
OUTPUT 1
WHERE [Id] = @p25 AND [ConcurrencyStamp] = @p26;
2024-11-19 17:31:10.649 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 17:31:10.660 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='f1c3d31f-3043-426e-85b2-a975e360d41d' (Size = 4000), @p17='fb57153e-ef43-437d-bdf6-3b6d15599818' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='SaNXWcxRVEit8IZVCY/SZlWr11YhkWM2JO6SOg2gTBjZc6PBConUyfuScbTCzqHspicRfj0KWUozClYbDH3a5Q==' (Size = 4000), @p12='2025-01-18T17:31:10.6464410+04:00' (Nullable = true), @p13='BNKUWOITDU7LBCCT3WNPUYCOWTSTYIZ3' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-19 17:31:10.667 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 17:31:10.671 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='6c4aa68d-4bb8-4c33-b344-921f8ab98926' (Size = 4000), @p17='f1c3d31f-3043-426e-85b2-a975e360d41d' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='SaNXWcxRVEit8IZVCY/SZlWr11YhkWM2JO6SOg2gTBjZc6PBConUyfuScbTCzqHspicRfj0KWUozClYbDH3a5Q==' (Size = 4000), @p12='2025-01-18T17:31:10.6464410+04:00' (Nullable = true), @p13='RWU4RA5OGBAXLFJ2XJBFWBZ7BQIAJFEV' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-19 17:31:10.722 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true), @__p_1='Default' (Size = 450), @__p_2='AccessToken' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[LoginProvider] = @__p_1 AND [a].[Name] = @__p_2
2024-11-19 17:31:10.745 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 17:31:10.761 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='Default' (Nullable = false) (Size = 450), @p2='AccessToken' (Nullable = false) (Size = 450), @p3='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJiNGQzMTA0Zi1iZTJkLTRjNTYtYmFiZC1mNGE0OTJkZjZiMDMiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6Ijk0NGM3ZGM5LTUzMzctNDY3NC04ZTNhLTA4ZGQwM2VkZTg0NCIsImVtYWlsIjoibmRuZy5taW51cm1lbWl6YWRlQGdtYWlsLmNvbSIsImV4cCI6MTczMjAyMzk3MH0.WAiSjUl2WqogFZeeBooHV0c0vHOQ1DmcSluC9DDppXM' (Size = 4000), @p20='944c7dc9-5337-4674-8e3a-08dd03ede844', @p4='0', @p5='9ff2e5f9-0f8d-4868-aaba-8081157939f1' (Size = 4000), @p21='6c4aa68d-4bb8-4c33-b344-921f8ab98926' (Size = 4000), @p6='ndng.minurmemizade@gmail.com' (Size = 256), @p7='True', @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p11='MINURMEMIZADE' (Size = 256), @p12='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='SaNXWcxRVEit8IZVCY/SZlWr11YhkWM2JO6SOg2gTBjZc6PBConUyfuScbTCzqHspicRfj0KWUozClYbDH3a5Q==' (Size = 4000), @p16='2025-01-18T17:31:10.6464410+04:00' (Nullable = true), @p17='RWU4RA5OGBAXLFJ2XJBFWBZ7BQIAJFEV' (Size = 4000), @p18='False', @p19='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUserTokens] SET [Value] = @p0
OUTPUT 1
WHERE [LoginProvider] = @p1 AND [Name] = @p2 AND [UserId] = @p3;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpireTime] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-11-19 17:31:10.776 +04:00 [INF] Executing OkObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.ResponseDTO'.
2024-11-19 17:31:10.791 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 2231.0243ms
2024-11-19 17:31:10.794 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 17:31:10.804 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 200 null application/json; charset=utf-8 2323.9594ms
2024-11-19 17:31:36.786 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetUsersCars - null null
2024-11-19 17:31:36.841 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetUsersCars (CarMarketplaceWebApi)'
2024-11-19 17:31:36.846 +04:00 [INF] Route matched with {action = "GetUsersCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 17:31:36.920 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-19 17:31:36.933 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='944c7dc9-5337-4674-8e3a-08dd03ede844'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerEmail], [c].[SellerName], [c].[UserId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
WHERE [c].[UserId] = @__id_0
2024-11-19 17:31:36.968 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 17:31:36.993 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetUsersCars (CarMarketplaceWebApi) in 145.6395ms
2024-11-19 17:31:36.996 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetUsersCars (CarMarketplaceWebApi)'
2024-11-19 17:31:36.998 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetUsersCars - 200 null application/json; charset=utf-8 212.0792ms
2024-11-19 17:49:57.588 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-19 17:49:57.760 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-19 17:49:57.796 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-19 17:49:57.798 +04:00 [INF] Hosting environment: Development
2024-11-19 17:49:57.799 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-19 17:49:58.229 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-19 17:49:58.412 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 187.4578ms
2024-11-19 17:49:58.432 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 17:49:58.440 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 7.9994ms
2024-11-19 17:49:58.525 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-19 17:49:58.560 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.0844ms
2024-11-19 17:49:58.719 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-19 17:49:58.732 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.3565ms
2024-11-19 17:50:14.651 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundary076PNCLXPBRk0DFD 270
2024-11-19 17:50:14.658 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-19 17:50:14.709 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 17:50:14.732 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-19 17:50:15.431 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 17:50:16.192 +04:00 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedEmail_0='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-19 17:50:16.440 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='944c7dc9-5337-4674-8e3a-08dd03ede844'], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-19 17:50:16.496 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 17:50:16.640 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='jti' (Size = 4000), @p1='f196439c-307c-46c2-ba47-32b4d991e33d' (Size = 4000), @p2='944c7dc9-5337-4674-8e3a-08dd03ede844', @p3='http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier' (Size = 4000), @p4='944c7dc9-5337-4674-8e3a-08dd03ede844' (Size = 4000), @p5='944c7dc9-5337-4674-8e3a-08dd03ede844', @p6='email' (Size = 4000), @p7='ndng.minurmemizade@gmail.com' (Size = 4000), @p8='944c7dc9-5337-4674-8e3a-08dd03ede844', @p25='944c7dc9-5337-4674-8e3a-08dd03ede844', @p9='0', @p10='e8f927de-5d9c-4a12-8e55-a82c8bfa10f6' (Size = 4000), @p26='9ff2e5f9-0f8d-4868-aaba-8081157939f1' (Size = 4000), @p11='ndng.minurmemizade@gmail.com' (Size = 256), @p12='True', @p13='True', @p14=NULL (DbType = DateTimeOffset), @p15='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p16='MINURMEMIZADE' (Size = 256), @p17='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p18=NULL (Size = 4000), @p19='False', @p20='SaNXWcxRVEit8IZVCY/SZlWr11YhkWM2JO6SOg2gTBjZc6PBConUyfuScbTCzqHspicRfj0KWUozClYbDH3a5Q==' (Size = 4000), @p21='2025-01-18T17:31:10.6464410' (Nullable = true), @p22='RWU4RA5OGBAXLFJ2XJBFWBZ7BQIAJFEV' (Size = 4000), @p23='False', @p24='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [AspNetUserClaims] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2)) AS i ([ClaimType], [ClaimValue], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClaimType], [ClaimValue], [UserId])
VALUES (i.[ClaimType], i.[ClaimValue], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [RefreshToken] = @p20, [RefreshTokenExpireTime] = @p21, [SecurityStamp] = @p22, [TwoFactorEnabled] = @p23, [UserName] = @p24
OUTPUT 1
WHERE [Id] = @p25 AND [ConcurrencyStamp] = @p26;
2024-11-19 17:50:16.681 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 17:50:16.688 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='db190103-aaa6-4195-b6ac-af8f355301b3' (Size = 4000), @p17='e8f927de-5d9c-4a12-8e55-a82c8bfa10f6' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='7jUKQuKHJXOqq4VTEepBLqLTG7YXfVdPMo1UW2WYyTxfGtwihyrNtog3euHcMRpSds04P+Kv58nh+ZOleRxgjg==' (Size = 4000), @p12='2025-01-18T17:50:16.6755824+04:00' (Nullable = true), @p13='RWU4RA5OGBAXLFJ2XJBFWBZ7BQIAJFEV' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-19 17:50:16.695 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 17:50:16.700 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='2afe02d0-5160-47ee-a06a-6c4c536e0b4e' (Size = 4000), @p17='db190103-aaa6-4195-b6ac-af8f355301b3' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='7jUKQuKHJXOqq4VTEepBLqLTG7YXfVdPMo1UW2WYyTxfGtwihyrNtog3euHcMRpSds04P+Kv58nh+ZOleRxgjg==' (Size = 4000), @p12='2025-01-18T17:50:16.6755824+04:00' (Nullable = true), @p13='3QA6CT6UNUAR7RQYU425TAYK4PYH6OBF' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-19 17:50:16.753 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true), @__p_1='Default' (Size = 450), @__p_2='AccessToken' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[LoginProvider] = @__p_1 AND [a].[Name] = @__p_2
2024-11-19 17:50:16.817 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 17:50:16.837 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='Default' (Nullable = false) (Size = 450), @p2='AccessToken' (Nullable = false) (Size = 450), @p3='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJmMTk2NDM5Yy0zMDdjLTQ2YzItYmE0Ny0zMmI0ZDk5MWUzM2QiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6Ijk0NGM3ZGM5LTUzMzctNDY3NC04ZTNhLTA4ZGQwM2VkZTg0NCIsImVtYWlsIjoibmRuZy5taW51cm1lbWl6YWRlQGdtYWlsLmNvbSIsImV4cCI6MTczMjAyNTExNn0.UHisB9OuJK_86_prTt9_gjBjB4EDa900ucaP7xQ04Y4' (Size = 4000), @p20='944c7dc9-5337-4674-8e3a-08dd03ede844', @p4='0', @p5='6fdb5e2c-2b0f-4cc4-9dd3-9f16921770fd' (Size = 4000), @p21='2afe02d0-5160-47ee-a06a-6c4c536e0b4e' (Size = 4000), @p6='ndng.minurmemizade@gmail.com' (Size = 256), @p7='True', @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p11='MINURMEMIZADE' (Size = 256), @p12='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='7jUKQuKHJXOqq4VTEepBLqLTG7YXfVdPMo1UW2WYyTxfGtwihyrNtog3euHcMRpSds04P+Kv58nh+ZOleRxgjg==' (Size = 4000), @p16='2025-01-18T17:50:16.6755824+04:00' (Nullable = true), @p17='3QA6CT6UNUAR7RQYU425TAYK4PYH6OBF' (Size = 4000), @p18='False', @p19='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUserTokens] SET [Value] = @p0
OUTPUT 1
WHERE [LoginProvider] = @p1 AND [Name] = @p2 AND [UserId] = @p3;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpireTime] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-11-19 17:50:16.848 +04:00 [INF] Executing OkObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.ResponseDTO'.
2024-11-19 17:50:16.856 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 2120.5556ms
2024-11-19 17:50:16.857 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 17:50:16.863 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 200 null application/json; charset=utf-8 2211.8405ms
2024-11-19 17:50:40.643 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetUsersCars - null null
2024-11-19 17:50:40.688 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetUsersCars (CarMarketplaceWebApi)'
2024-11-19 17:50:40.692 +04:00 [INF] Route matched with {action = "GetUsersCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 17:50:40.761 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-19 17:50:40.779 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='944c7dc9-5337-4674-8e3a-08dd03ede844'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[UserId], [c].[eStatus], [c].[Make], [c].[Model], [c].[Mileage], [c].[Price], [c].[Class], [c].[ImageUrls], [c].[IsNew], [c].[SellerEmail], [c].[SellerName], [c].[Year], [c].[createdTime], [c].[soldTime]
FROM [cars] AS [c]
WHERE [c].[UserId] = @__id_0
2024-11-19 17:50:40.785 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.DTOs.UserCarsDTO, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 17:50:40.797 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetUsersCars (CarMarketplaceWebApi) in 103.15ms
2024-11-19 17:50:40.798 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetUsersCars (CarMarketplaceWebApi)'
2024-11-19 17:50:40.799 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetUsersCars - 200 null application/json; charset=utf-8 156.1606ms
2024-11-19 17:51:43.399 +04:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5074/api/Car/UpdateCar - multipart/form-data; boundary=----WebKitFormBoundaryoOjpOlhZSUPFuoA1 392261
2024-11-19 17:51:43.413 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi)'
2024-11-19 17:51:43.417 +04:00 [INF] Route matched with {action = "UpdateCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCar(CarMarketplaceWebApi.Models.DTOs.UpdateCarDTO) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 17:51:43.490 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-19 17:51:43.549 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p15='55118a7d-2092-4ef7-e541-08dd089e0f13', @p0='asdasd' (Nullable = false) (Size = 4000), @p1='asd' (Nullable = false) (Size = 4000), @p2='["https://www.example.com/uploads/6cce9392-cde9-4307-8acb-1e21b8a92d85_1920x1080-2605032-pacman-hd-wallpaper-for-free-download.png"]' (Nullable = false) (Size = 4000), @p3='True', @p4='Ford ' (Nullable = false) (Size = 4000), @p5='asd' (Nullable = false) (Size = 4000), @p6='Mustang ' (Nullable = false) (Size = 4000), @p7='123', @p8='ndng.minurmemizade@gmail.com' (Nullable = false) (Size = 4000), @p9='MinurMemizade' (Nullable = false) (Size = 4000), @p10='00000000-0000-0000-0000-000000000000', @p11='asdasd' (Nullable = false) (Size = 4000), @p12='0001-01-01T00:00:00.0000000', @p13='0', @p14=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [cars] SET [Class] = @p0, [Color] = @p1, [ImageUrls] = @p2, [IsNew] = @p3, [Make] = @p4, [Mileage] = @p5, [Model] = @p6, [Price] = @p7, [SellerEmail] = @p8, [SellerName] = @p9, [UserId] = @p10, [Year] = @p11, [createdTime] = @p12, [eStatus] = @p13, [soldTime] = @p14
OUTPUT 1
WHERE [Id] = @p15;
2024-11-19 17:51:43.582 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'CarMarketplaceWebApi.Context.AppDBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_cars_AspNetUsers_UserId". The conflict occurred in database "WebApiArc", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:596eaf3e-9429-470f-928c-6b7ce6107bea
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_cars_AspNetUsers_UserId". The conflict occurred in database "WebApiArc", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:596eaf3e-9429-470f-928c-6b7ce6107bea
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-11-19 17:51:43.713 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi) in 293.5531ms
2024-11-19 17:51:43.715 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi)'
2024-11-19 17:51:43.718 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_cars_AspNetUsers_UserId". The conflict occurred in database "WebApiArc", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:596eaf3e-9429-470f-928c-6b7ce6107bea
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CarMarketplaceWebApi.Repositories.Implementations.Repository`1.UpdateAsync(T entity) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Repositories\Implementations\Repository.cs:line 51
   at CarMarketplaceWebApi.Services.Implementations.CarService.UpdateAsync(UpdateCarDTO updateCarDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Services\Implementations\CarService.cs:line 86
   at CarMarketplaceWebApi.Controllers.CarController.UpdateCar(UpdateCarDTO updateCarDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Controllers\CarController.cs:line 57
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-19 17:51:43.752 +04:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5074/api/Car/UpdateCar - 500 null text/plain; charset=utf-8 353.1031ms
2024-11-19 17:52:44.728 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Car/Approve - multipart/form-data; boundary=----WebKitFormBoundarysiLiAztt5vATeC8u 269
2024-11-19 17:52:44.735 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.ApproveCarRequest (CarMarketplaceWebApi)'
2024-11-19 17:52:44.740 +04:00 [INF] Route matched with {action = "ApproveCarRequest", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveCarRequest(System.Guid, System.String) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 17:52:44.769 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='55118a7d-2092-4ef7-e541-08dd089e0f13' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerEmail], [c].[SellerName], [c].[UserId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
WHERE [c].[Id] = @__get_Item_0
2024-11-19 17:52:44.780 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p15='55118a7d-2092-4ef7-e541-08dd089e0f13', @p0='asd' (Nullable = false) (Size = 4000), @p1='asd' (Nullable = false) (Size = 4000), @p2='["https://www.example.com/uploads/0e34ebca-f614-45d2-8397-d12a408c71a1_1920x1080-2605032-pacman-hd-wallpaper-for-free-download.png"]' (Nullable = false) (Size = 4000), @p3='True', @p4='asd' (Nullable = false) (Size = 4000), @p5='asd' (Nullable = false) (Size = 4000), @p6='asd' (Nullable = false) (Size = 4000), @p7='123', @p8='ndng.minurmemizade@gmail.com' (Nullable = false) (Size = 4000), @p9='MinurMemizade' (Nullable = false) (Size = 4000), @p10='944c7dc9-5337-4674-8e3a-08dd03ede844', @p11='asd' (Nullable = false) (Size = 4000), @p12='2024-11-19T13:28:30.7199027', @p13='1', @p14=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [cars] SET [Class] = @p0, [Color] = @p1, [ImageUrls] = @p2, [IsNew] = @p3, [Make] = @p4, [Mileage] = @p5, [Model] = @p6, [Price] = @p7, [SellerEmail] = @p8, [SellerName] = @p9, [UserId] = @p10, [Year] = @p11, [createdTime] = @p12, [eStatus] = @p13, [soldTime] = @p14
OUTPUT 1
WHERE [Id] = @p15;
2024-11-19 17:52:44.789 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 202
2024-11-19 17:52:44.791 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.ApproveCarRequest (CarMarketplaceWebApi) in 47.5168ms
2024-11-19 17:52:44.793 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.ApproveCarRequest (CarMarketplaceWebApi)'
2024-11-19 17:52:44.795 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Car/Approve - 202 0 null 66.325ms
2024-11-19 17:53:00.274 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-19 17:53:00.281 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-19 17:53:00.286 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 17:53:00.301 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerEmail], [c].[SellerName], [c].[UserId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
2024-11-19 17:53:00.306 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 17:53:00.317 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 27.3225ms
2024-11-19 17:53:00.320 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-19 17:53:00.322 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 47.1677ms
2024-11-19 17:53:11.175 +04:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5074/api/Car/UpdateCar - multipart/form-data; boundary=----WebKitFormBoundaryZce9XvDQXeMZAehW 392261
2024-11-19 17:53:11.188 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi)'
2024-11-19 17:53:11.189 +04:00 [INF] Route matched with {action = "UpdateCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCar(CarMarketplaceWebApi.Models.DTOs.UpdateCarDTO) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 17:53:11.206 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-19 17:53:11.213 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p15='55118a7d-2092-4ef7-e541-08dd089e0f13', @p0='asdasd' (Nullable = false) (Size = 4000), @p1='asd' (Nullable = false) (Size = 4000), @p2='["https://www.example.com/uploads/9b708c8c-1b8e-41ab-bf77-ff5a6afb89eb_1920x1080-2605032-pacman-hd-wallpaper-for-free-download.png"]' (Nullable = false) (Size = 4000), @p3='True', @p4='Ford ' (Nullable = false) (Size = 4000), @p5='asd' (Nullable = false) (Size = 4000), @p6='Mustang ' (Nullable = false) (Size = 4000), @p7='123', @p8='ndng.minurmemizade@gmail.com' (Nullable = false) (Size = 4000), @p9='MinurMemizade' (Nullable = false) (Size = 4000), @p10='00000000-0000-0000-0000-000000000000', @p11='asdasd' (Nullable = false) (Size = 4000), @p12='0001-01-01T00:00:00.0000000', @p13='0', @p14=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [cars] SET [Class] = @p0, [Color] = @p1, [ImageUrls] = @p2, [IsNew] = @p3, [Make] = @p4, [Mileage] = @p5, [Model] = @p6, [Price] = @p7, [SellerEmail] = @p8, [SellerName] = @p9, [UserId] = @p10, [Year] = @p11, [createdTime] = @p12, [eStatus] = @p13, [soldTime] = @p14
OUTPUT 1
WHERE [Id] = @p15;
2024-11-19 17:53:11.220 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'CarMarketplaceWebApi.Context.AppDBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_cars_AspNetUsers_UserId". The conflict occurred in database "WebApiArc", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:596eaf3e-9429-470f-928c-6b7ce6107bea
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_cars_AspNetUsers_UserId". The conflict occurred in database "WebApiArc", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:596eaf3e-9429-470f-928c-6b7ce6107bea
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-11-19 17:53:11.348 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi) in 155.3836ms
2024-11-19 17:53:11.349 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi)'
2024-11-19 17:53:11.350 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_cars_AspNetUsers_UserId". The conflict occurred in database "WebApiArc", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:596eaf3e-9429-470f-928c-6b7ce6107bea
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CarMarketplaceWebApi.Repositories.Implementations.Repository`1.UpdateAsync(T entity) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Repositories\Implementations\Repository.cs:line 51
   at CarMarketplaceWebApi.Services.Implementations.CarService.UpdateAsync(UpdateCarDTO updateCarDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Services\Implementations\CarService.cs:line 86
   at CarMarketplaceWebApi.Controllers.CarController.UpdateCar(UpdateCarDTO updateCarDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Controllers\CarController.cs:line 57
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-19 17:53:11.368 +04:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5074/api/Car/UpdateCar - 500 null text/plain; charset=utf-8 193.7092ms
2024-11-19 17:53:20.285 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetApprovedCars - null null
2024-11-19 17:53:20.288 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetApprovedCars (CarMarketplaceWebApi)'
2024-11-19 17:53:20.296 +04:00 [INF] Route matched with {action = "GetApprovedCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovedCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 17:53:20.309 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__status_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerEmail], [c].[SellerName], [c].[UserId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
WHERE [c].[eStatus] = @__status_0
2024-11-19 17:53:20.312 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 17:53:20.313 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetApprovedCars (CarMarketplaceWebApi) in 12.1652ms
2024-11-19 17:53:20.315 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetApprovedCars (CarMarketplaceWebApi)'
2024-11-19 17:53:20.317 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetApprovedCars - 200 null application/json; charset=utf-8 32.0238ms
2024-11-19 17:53:37.889 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetPendingCars - null null
2024-11-19 17:53:37.895 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetPendingCars (CarMarketplaceWebApi)'
2024-11-19 17:53:37.898 +04:00 [INF] Route matched with {action = "GetPendingCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPendingCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 17:53:37.907 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__status_0='0'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerEmail], [c].[SellerName], [c].[UserId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
WHERE [c].[eStatus] = @__status_0
2024-11-19 17:53:37.920 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 17:53:37.922 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetPendingCars (CarMarketplaceWebApi) in 23.0424ms
2024-11-19 17:53:37.924 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetPendingCars (CarMarketplaceWebApi)'
2024-11-19 17:53:37.924 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetPendingCars - 200 null application/json; charset=utf-8 35.7298ms
2024-11-19 17:53:58.742 +04:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5074/api/Car/DeleteCar?id=55118a7d-2092-4ef7-e541-08dd089e0f13 - null null
2024-11-19 17:53:58.750 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.DeleteCar (CarMarketplaceWebApi)'
2024-11-19 17:53:58.753 +04:00 [INF] Route matched with {action = "DeleteCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteCar(System.Guid) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 17:53:58.765 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='55118a7d-2092-4ef7-e541-08dd089e0f13' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerEmail], [c].[SellerName], [c].[UserId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
WHERE [c].[Id] = @__get_Item_0
2024-11-19 17:53:58.778 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='55118a7d-2092-4ef7-e541-08dd089e0f13'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [cars]
OUTPUT 1
WHERE [Id] = @p0;
2024-11-19 17:53:58.784 +04:00 [INF] Executing ObjectResult, writing value of type 'null'.
2024-11-19 17:53:58.786 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.DeleteCar (CarMarketplaceWebApi) in 29.4978ms
2024-11-19 17:53:58.787 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.DeleteCar (CarMarketplaceWebApi)'
2024-11-19 17:53:58.788 +04:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5074/api/Car/DeleteCar?id=55118a7d-2092-4ef7-e541-08dd089e0f13 - 202 0 null 45.4103ms
2024-11-19 17:54:07.702 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-19 17:54:07.709 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-19 17:54:07.710 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 17:54:07.725 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerEmail], [c].[SellerName], [c].[UserId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
2024-11-19 17:54:07.739 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 17:54:07.741 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 28.4363ms
2024-11-19 17:54:07.746 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-19 17:54:07.747 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 44.7043ms
2024-11-19 17:54:11.474 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetUsersCars - null null
2024-11-19 17:54:11.476 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetUsersCars (CarMarketplaceWebApi)'
2024-11-19 17:54:11.477 +04:00 [INF] Route matched with {action = "GetUsersCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 17:54:11.482 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-19 17:54:11.506 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='944c7dc9-5337-4674-8e3a-08dd03ede844'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[UserId], [c].[eStatus], [c].[Make], [c].[Model], [c].[Mileage], [c].[Price], [c].[Class], [c].[ImageUrls], [c].[IsNew], [c].[SellerEmail], [c].[SellerName], [c].[Year], [c].[createdTime], [c].[soldTime]
FROM [cars] AS [c]
WHERE [c].[UserId] = @__id_0
2024-11-19 17:54:11.509 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.DTOs.UserCarsDTO, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 17:54:11.510 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetUsersCars (CarMarketplaceWebApi) in 31.0322ms
2024-11-19 17:54:11.511 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetUsersCars (CarMarketplaceWebApi)'
2024-11-19 17:54:11.512 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetUsersCars - 200 null application/json; charset=utf-8 38.1462ms
2024-11-19 19:30:41.713 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-19 19:30:41.892 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-19 19:30:41.938 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-19 19:30:41.939 +04:00 [INF] Hosting environment: Development
2024-11-19 19:30:41.940 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-19 19:30:42.436 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-19 19:30:42.621 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 188.7453ms
2024-11-19 19:30:42.645 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 19:30:42.650 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 4.9074ms
2024-11-19 19:30:42.803 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-19 19:30:42.837 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.5197ms
2024-11-19 19:30:43.112 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-19 19:30:43.122 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.172ms
2024-11-19 19:31:06.452 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundary0iUJNvm01nDtMa9g 270
2024-11-19 19:31:06.471 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-19 19:31:06.525 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 19:31:06.549 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-19 19:31:07.401 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 19:31:08.286 +04:00 [INF] Executed DbCommand (60ms) [Parameters=[@__normalizedEmail_0='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-19 19:31:08.655 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='944c7dc9-5337-4674-8e3a-08dd03ede844'], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-19 19:31:08.710 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 19:31:08.815 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='jti' (Size = 4000), @p1='dc73e487-8768-4876-9986-2eccf4bb7d95' (Size = 4000), @p2='944c7dc9-5337-4674-8e3a-08dd03ede844', @p3='http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier' (Size = 4000), @p4='944c7dc9-5337-4674-8e3a-08dd03ede844' (Size = 4000), @p5='944c7dc9-5337-4674-8e3a-08dd03ede844', @p6='email' (Size = 4000), @p7='ndng.minurmemizade@gmail.com' (Size = 4000), @p8='944c7dc9-5337-4674-8e3a-08dd03ede844', @p25='944c7dc9-5337-4674-8e3a-08dd03ede844', @p9='0', @p10='f419cf7a-f3de-46ca-9ddb-f313240a3d42' (Size = 4000), @p26='6fdb5e2c-2b0f-4cc4-9dd3-9f16921770fd' (Size = 4000), @p11='ndng.minurmemizade@gmail.com' (Size = 256), @p12='True', @p13='True', @p14=NULL (DbType = DateTimeOffset), @p15='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p16='MINURMEMIZADE' (Size = 256), @p17='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p18=NULL (Size = 4000), @p19='False', @p20='7jUKQuKHJXOqq4VTEepBLqLTG7YXfVdPMo1UW2WYyTxfGtwihyrNtog3euHcMRpSds04P+Kv58nh+ZOleRxgjg==' (Size = 4000), @p21='2025-01-18T17:50:16.6755824' (Nullable = true), @p22='3QA6CT6UNUAR7RQYU425TAYK4PYH6OBF' (Size = 4000), @p23='False', @p24='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [AspNetUserClaims] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2)) AS i ([ClaimType], [ClaimValue], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClaimType], [ClaimValue], [UserId])
VALUES (i.[ClaimType], i.[ClaimValue], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [RefreshToken] = @p20, [RefreshTokenExpireTime] = @p21, [SecurityStamp] = @p22, [TwoFactorEnabled] = @p23, [UserName] = @p24
OUTPUT 1
WHERE [Id] = @p25 AND [ConcurrencyStamp] = @p26;
2024-11-19 19:31:08.885 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 19:31:08.898 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='0c76f07e-2213-4b98-b4c9-4e0710e9a29d' (Size = 4000), @p17='f419cf7a-f3de-46ca-9ddb-f313240a3d42' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='AZ+n4CXdZS7n2upfqWPSD8CD6qD7lxG8TO3SVLon0553TiYDRs2zAlOdrazHQfDTBLgfG7xHMvHx5FQuUMN58g==' (Size = 4000), @p12='2025-01-18T19:31:08.8811956+04:00' (Nullable = true), @p13='3QA6CT6UNUAR7RQYU425TAYK4PYH6OBF' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-19 19:31:08.913 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 19:31:08.921 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='c387b0ba-5131-44ce-bb72-f789e9114739' (Size = 4000), @p17='0c76f07e-2213-4b98-b4c9-4e0710e9a29d' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='AZ+n4CXdZS7n2upfqWPSD8CD6qD7lxG8TO3SVLon0553TiYDRs2zAlOdrazHQfDTBLgfG7xHMvHx5FQuUMN58g==' (Size = 4000), @p12='2025-01-18T19:31:08.8811956+04:00' (Nullable = true), @p13='WPWDT7HBSBHXXHUMSWGPB7IP4D2OGPVX' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-19 19:31:08.993 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true), @__p_1='Default' (Size = 450), @__p_2='AccessToken' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[LoginProvider] = @__p_1 AND [a].[Name] = @__p_2
2024-11-19 19:31:09.012 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 19:31:09.028 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='Default' (Nullable = false) (Size = 450), @p2='AccessToken' (Nullable = false) (Size = 450), @p3='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJkYzczZTQ4Ny04NzY4LTQ4NzYtOTk4Ni0yZWNjZjRiYjdkOTUiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6Ijk0NGM3ZGM5LTUzMzctNDY3NC04ZTNhLTA4ZGQwM2VkZTg0NCIsImVtYWlsIjoibmRuZy5taW51cm1lbWl6YWRlQGdtYWlsLmNvbSIsImV4cCI6MTczMjAzMTE2OH0.zHgIZoJaAqGclfiyMCOn1KPAqk5Ji6ht2KcJqSFcxNo' (Size = 4000), @p20='944c7dc9-5337-4674-8e3a-08dd03ede844', @p4='0', @p5='6394f20d-aaab-4a0a-8f0f-b79f81ed2165' (Size = 4000), @p21='c387b0ba-5131-44ce-bb72-f789e9114739' (Size = 4000), @p6='ndng.minurmemizade@gmail.com' (Size = 256), @p7='True', @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p11='MINURMEMIZADE' (Size = 256), @p12='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='AZ+n4CXdZS7n2upfqWPSD8CD6qD7lxG8TO3SVLon0553TiYDRs2zAlOdrazHQfDTBLgfG7xHMvHx5FQuUMN58g==' (Size = 4000), @p16='2025-01-18T19:31:08.8811956+04:00' (Nullable = true), @p17='WPWDT7HBSBHXXHUMSWGPB7IP4D2OGPVX' (Size = 4000), @p18='False', @p19='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUserTokens] SET [Value] = @p0
OUTPUT 1
WHERE [LoginProvider] = @p1 AND [Name] = @p2 AND [UserId] = @p3;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpireTime] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-11-19 19:31:09.088 +04:00 [INF] Executing OkObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.ResponseDTO'.
2024-11-19 19:31:09.104 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 2549.5752ms
2024-11-19 19:31:09.108 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 19:31:09.120 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 200 null application/json; charset=utf-8 2668.2628ms
2024-11-19 19:31:49.225 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Car/AddCar - multipart/form-data; boundary=----WebKitFormBoundaryLTgsswSYbYhPCyrU 392129
2024-11-19 19:31:49.281 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi)'
2024-11-19 19:31:49.289 +04:00 [INF] Route matched with {action = "AddCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCar(CarMarketplaceWebApi.Models.DTOs.CarDTO) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 19:31:49.415 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-19 19:31:49.524 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='833c6a66-c2f1-4810-7994-08dd08af490d', @p1='asd' (Nullable = false) (Size = 4000), @p2='asd' (Nullable = false) (Size = 4000), @p3='["https://www.example.com/uploads/332bc9a2-4992-4e27-aa66-ffb8e7c4035d_1920x1080-2605032-pacman-hd-wallpaper-for-free-download.png"]' (Nullable = false) (Size = 4000), @p4='False', @p5='Ford' (Nullable = false) (Size = 4000), @p6='asd' (Nullable = false) (Size = 4000), @p7='Mustang' (Nullable = false) (Size = 4000), @p8='123', @p9='ndng.minurmemizade@gmail.com' (Nullable = false) (Size = 4000), @p10='MinurMemizade' (Nullable = false) (Size = 4000), @p11='944c7dc9-5337-4674-8e3a-08dd03ede844', @p12='asd' (Nullable = false) (Size = 4000), @p13='2024-11-19T15:31:49.4248004Z', @p14='0', @p15=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cars] ([Id], [Class], [Color], [ImageUrls], [IsNew], [Make], [Mileage], [Model], [Price], [SellerEmail], [SellerName], [UserId], [Year], [createdTime], [eStatus], [soldTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2024-11-19 19:31:49.538 +04:00 [INF] Executing ObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.CarDTO'.
2024-11-19 19:31:49.560 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi) in 269.2607ms
2024-11-19 19:31:49.564 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi)'
2024-11-19 19:31:49.570 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Car/AddCar - 201 null application/json; charset=utf-8 345.3523ms
2024-11-19 19:32:14.985 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-19 19:32:15.006 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-19 19:32:15.011 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 19:32:15.047 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerEmail], [c].[SellerName], [c].[UserId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
2024-11-19 19:32:15.055 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 19:32:15.071 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 57.998ms
2024-11-19 19:32:15.076 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-19 19:32:15.078 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 93.8192ms
2024-11-19 19:33:10.609 +04:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5074/api/Car/UpdateCar - multipart/form-data; boundary=----WebKitFormBoundaryc3nhHeFCaF6T584V 392257
2024-11-19 19:33:10.622 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi)'
2024-11-19 19:33:10.627 +04:00 [INF] Route matched with {action = "UpdateCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCar(CarMarketplaceWebApi.Models.DTOs.UpdateCarDTO) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 19:33:10.697 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-19 19:33:10.715 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p15='833c6a66-c2f1-4810-7994-08dd08af490d', @p0='asd' (Nullable = false) (Size = 4000), @p1='asd' (Nullable = false) (Size = 4000), @p2='["https://www.example.com/uploads/a8e2e33b-4ea6-4650-af3b-eb48c6966782_1920x1080-2605032-pacman-hd-wallpaper-for-free-download.png"]' (Nullable = false) (Size = 4000), @p3='True', @p4='Chevrolet' (Nullable = false) (Size = 4000), @p5='asd' (Nullable = false) (Size = 4000), @p6='Camaro' (Nullable = false) (Size = 4000), @p7='123', @p8='ndng.minurmemizade@gmail.com' (Nullable = false) (Size = 4000), @p9='MinurMemizade' (Nullable = false) (Size = 4000), @p10='00000000-0000-0000-0000-000000000000', @p11='asd' (Nullable = false) (Size = 4000), @p12='0001-01-01T00:00:00.0000000', @p13='0', @p14=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [cars] SET [Class] = @p0, [Color] = @p1, [ImageUrls] = @p2, [IsNew] = @p3, [Make] = @p4, [Mileage] = @p5, [Model] = @p6, [Price] = @p7, [SellerEmail] = @p8, [SellerName] = @p9, [UserId] = @p10, [Year] = @p11, [createdTime] = @p12, [eStatus] = @p13, [soldTime] = @p14
OUTPUT 1
WHERE [Id] = @p15;
2024-11-19 19:33:10.751 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'CarMarketplaceWebApi.Context.AppDBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_cars_AspNetUsers_UserId". The conflict occurred in database "WebApiArc", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:34c55660-dc24-471a-9d43-ec32c89e777c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_cars_AspNetUsers_UserId". The conflict occurred in database "WebApiArc", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:34c55660-dc24-471a-9d43-ec32c89e777c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-11-19 19:33:10.967 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi) in 335.528ms
2024-11-19 19:33:10.971 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi)'
2024-11-19 19:33:10.975 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_cars_AspNetUsers_UserId". The conflict occurred in database "WebApiArc", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:34c55660-dc24-471a-9d43-ec32c89e777c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CarMarketplaceWebApi.Repositories.Implementations.Repository`1.UpdateAsync(T entity) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Repositories\Implementations\Repository.cs:line 51
   at CarMarketplaceWebApi.Services.Implementations.CarService.UpdateAsync(UpdateCarDTO updateCarDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Services\Implementations\CarService.cs:line 86
   at CarMarketplaceWebApi.Controllers.CarController.UpdateCar(UpdateCarDTO updateCarDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Controllers\CarController.cs:line 57
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-19 19:33:11.059 +04:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5074/api/Car/UpdateCar - 500 null text/plain; charset=utf-8 450.2925ms
2024-11-19 19:34:45.757 +04:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5074/api/Car/UpdateCar - multipart/form-data; boundary=----WebKitFormBoundaryjj5aHERtoNgkrre7 392257
2024-11-19 19:34:45.767 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi)'
2024-11-19 19:34:45.769 +04:00 [INF] Route matched with {action = "UpdateCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCar(CarMarketplaceWebApi.Models.DTOs.UpdateCarDTO) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 19:34:45.809 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-19 19:34:45.823 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p15='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='asd' (Nullable = false) (Size = 4000), @p1='asd' (Nullable = false) (Size = 4000), @p2='["https://www.example.com/uploads/6040c4a5-146a-4554-b7e4-c4df9580e4d5_1920x1080-2605032-pacman-hd-wallpaper-for-free-download.png"]' (Nullable = false) (Size = 4000), @p3='True', @p4='Chevrolet' (Nullable = false) (Size = 4000), @p5='asd' (Nullable = false) (Size = 4000), @p6='Camaro' (Nullable = false) (Size = 4000), @p7='123', @p8='ndng.minurmemizade@gmail.com' (Nullable = false) (Size = 4000), @p9='MinurMemizade' (Nullable = false) (Size = 4000), @p10='00000000-0000-0000-0000-000000000000', @p11='asd' (Nullable = false) (Size = 4000), @p12='0001-01-01T00:00:00.0000000', @p13='0', @p14=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [cars] SET [Class] = @p0, [Color] = @p1, [ImageUrls] = @p2, [IsNew] = @p3, [Make] = @p4, [Mileage] = @p5, [Model] = @p6, [Price] = @p7, [SellerEmail] = @p8, [SellerName] = @p9, [UserId] = @p10, [Year] = @p11, [createdTime] = @p12, [eStatus] = @p13, [soldTime] = @p14
OUTPUT 1
WHERE [Id] = @p15;
2024-11-19 19:34:45.979 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi) in 202.8065ms
2024-11-19 19:34:45.983 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi)'
2024-11-19 19:34:45.985 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CarMarketplaceWebApi.Repositories.Implementations.Repository`1.UpdateAsync(T entity) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Repositories\Implementations\Repository.cs:line 51
   at CarMarketplaceWebApi.Services.Implementations.CarService.UpdateAsync(UpdateCarDTO updateCarDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Services\Implementations\CarService.cs:line 86
   at CarMarketplaceWebApi.Controllers.CarController.UpdateCar(UpdateCarDTO updateCarDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Controllers\CarController.cs:line 57
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-19 19:34:46.030 +04:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5074/api/Car/UpdateCar - 500 null text/plain; charset=utf-8 272.7959ms
2024-11-19 19:35:00.402 +04:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5074/api/Car/UpdateCar - multipart/form-data; boundary=----WebKitFormBoundary0HeG1C7u58I2ThB8 392257
2024-11-19 19:35:00.425 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi)'
2024-11-19 19:35:00.426 +04:00 [INF] Route matched with {action = "UpdateCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCar(CarMarketplaceWebApi.Models.DTOs.UpdateCarDTO) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 19:35:00.455 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-19 19:35:00.510 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p15='833c6a66-c2f1-4810-7994-08dd08af490d', @p0='asd' (Nullable = false) (Size = 4000), @p1='asd' (Nullable = false) (Size = 4000), @p2='["https://www.example.com/uploads/4af5a40c-a294-4f55-ab9b-083be60a41c4_1920x1080-2605032-pacman-hd-wallpaper-for-free-download.png"]' (Nullable = false) (Size = 4000), @p3='True', @p4='Chevrolet' (Nullable = false) (Size = 4000), @p5='asd' (Nullable = false) (Size = 4000), @p6='Camaro' (Nullable = false) (Size = 4000), @p7='123', @p8='ndng.minurmemizade@gmail.com' (Nullable = false) (Size = 4000), @p9='MinurMemizade' (Nullable = false) (Size = 4000), @p10='00000000-0000-0000-0000-000000000000', @p11='asd' (Nullable = false) (Size = 4000), @p12='0001-01-01T00:00:00.0000000', @p13='0', @p14=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [cars] SET [Class] = @p0, [Color] = @p1, [ImageUrls] = @p2, [IsNew] = @p3, [Make] = @p4, [Mileage] = @p5, [Model] = @p6, [Price] = @p7, [SellerEmail] = @p8, [SellerName] = @p9, [UserId] = @p10, [Year] = @p11, [createdTime] = @p12, [eStatus] = @p13, [soldTime] = @p14
OUTPUT 1
WHERE [Id] = @p15;
2024-11-19 19:35:00.567 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'CarMarketplaceWebApi.Context.AppDBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_cars_AspNetUsers_UserId". The conflict occurred in database "WebApiArc", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:34c55660-dc24-471a-9d43-ec32c89e777c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_cars_AspNetUsers_UserId". The conflict occurred in database "WebApiArc", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:34c55660-dc24-471a-9d43-ec32c89e777c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-11-19 19:35:00.819 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi) in 386.6835ms
2024-11-19 19:35:00.823 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi)'
2024-11-19 19:35:00.826 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_cars_AspNetUsers_UserId". The conflict occurred in database "WebApiArc", table "dbo.AspNetUsers", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:34c55660-dc24-471a-9d43-ec32c89e777c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CarMarketplaceWebApi.Repositories.Implementations.Repository`1.UpdateAsync(T entity) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Repositories\Implementations\Repository.cs:line 51
   at CarMarketplaceWebApi.Services.Implementations.CarService.UpdateAsync(UpdateCarDTO updateCarDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Services\Implementations\CarService.cs:line 86
   at CarMarketplaceWebApi.Controllers.CarController.UpdateCar(UpdateCarDTO updateCarDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Controllers\CarController.cs:line 57
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-19 19:35:00.908 +04:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5074/api/Car/UpdateCar - 500 null text/plain; charset=utf-8 506.4366ms
2024-11-19 19:36:38.519 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-19 19:36:38.677 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-19 19:36:38.715 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-19 19:36:38.716 +04:00 [INF] Hosting environment: Development
2024-11-19 19:36:38.717 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-19 19:36:39.428 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-19 19:36:39.617 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 194.0719ms
2024-11-19 19:36:39.751 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 19:36:39.751 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-19 19:36:39.754 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 3.2757ms
2024-11-19 19:36:39.779 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.7059ms
2024-11-19 19:36:39.917 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-19 19:36:39.925 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.2441ms
2024-11-19 19:36:56.662 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundaryWg2omRXZos8drBZ9 256
2024-11-19 19:36:56.676 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-19 19:36:56.732 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 19:36:56.751 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-19 19:36:57.580 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 19:36:58.488 +04:00 [INF] Executed DbCommand (56ms) [Parameters=[@__normalizedEmail_0='DAD@EXAMPLE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-19 19:36:58.792 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='6ea60fa6-e2fb-44a4-24c2-08dd07e31068'], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-19 19:36:58.869 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='DADADD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 19:36:58.981 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='jti' (Size = 4000), @p1='7e343c54-7464-4c2d-9ba0-7fedea696449' (Size = 4000), @p2='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p3='http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier' (Size = 4000), @p4='6ea60fa6-e2fb-44a4-24c2-08dd07e31068' (Size = 4000), @p5='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p6='email' (Size = 4000), @p7='dad@example.com' (Size = 4000), @p8='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p9='http://schemas.microsoft.com/ws/2008/06/identity/claims/role' (Size = 4000), @p10='admin' (Size = 4000), @p11='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p28='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p12='0', @p13='0981208a-460a-49f0-af5d-3ef78b9f0ce6' (Size = 4000), @p29='50b6e4b2-2770-4cd9-a16c-8c29302a724f' (Size = 4000), @p14='dad@example.com' (Size = 256), @p15='True', @p16='True', @p17=NULL (DbType = DateTimeOffset), @p18='DAD@EXAMPLE.COM' (Size = 256), @p19='DADADD' (Size = 256), @p20='AQAAAAIAAYagAAAAEKqpN4ZNd5bsXNbmC9syNbvvMQtHHrjDRk6jgQh7G88FVAdZAPcGewzEOzTx0vLvig==' (Size = 4000), @p21=NULL (Size = 4000), @p22='False', @p23='HGJs7VQu0X0OuBACNRMH1uEtXFdNAa04IOC18F61gj8Gmn0w74zkuZQZJ9+G9EMK/JzlXNn1A+yH+ySeNnx4Lw==' (Size = 4000), @p24='2025-01-17T22:05:45.2951778' (Nullable = true), @p25='IQKXPUC3ZGDJJW6DIZOTZ6X24QHB27XT' (Size = 4000), @p26='False', @p27='dadadd' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [AspNetUserClaims] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3)) AS i ([ClaimType], [ClaimValue], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClaimType], [ClaimValue], [UserId])
VALUES (i.[ClaimType], i.[ClaimValue], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p12, [ConcurrencyStamp] = @p13, [Email] = @p14, [EmailConfirmed] = @p15, [LockoutEnabled] = @p16, [LockoutEnd] = @p17, [NormalizedEmail] = @p18, [NormalizedUserName] = @p19, [PasswordHash] = @p20, [PhoneNumber] = @p21, [PhoneNumberConfirmed] = @p22, [RefreshToken] = @p23, [RefreshTokenExpireTime] = @p24, [SecurityStamp] = @p25, [TwoFactorEnabled] = @p26, [UserName] = @p27
OUTPUT 1
WHERE [Id] = @p28 AND [ConcurrencyStamp] = @p29;
2024-11-19 19:36:59.031 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='DADADD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 19:36:59.043 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p16='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p0='0', @p1='baecdce6-4c21-4ab0-a338-2ad621b9ee1a' (Size = 4000), @p17='0981208a-460a-49f0-af5d-3ef78b9f0ce6' (Size = 4000), @p2='dad@example.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='DAD@EXAMPLE.COM' (Size = 256), @p7='DADADD' (Size = 256), @p8='AQAAAAIAAYagAAAAEKqpN4ZNd5bsXNbmC9syNbvvMQtHHrjDRk6jgQh7G88FVAdZAPcGewzEOzTx0vLvig==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='O0HHd40Q5369lZoIbwlT32hMUlozIrL0xeXhYYIayX+EPU+vi6CkIWwxEguWgrjQXE2m4MFhwRN+8SgZEic+DQ==' (Size = 4000), @p12='2025-01-18T19:36:59.0269089+04:00' (Nullable = true), @p13='IQKXPUC3ZGDJJW6DIZOTZ6X24QHB27XT' (Size = 4000), @p14='False', @p15='dadadd' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-19 19:36:59.066 +04:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedUserName_0='DADADD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 19:36:59.093 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p16='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p0='0', @p1='b785d8db-4d75-4d04-8d82-72a0c689b403' (Size = 4000), @p17='baecdce6-4c21-4ab0-a338-2ad621b9ee1a' (Size = 4000), @p2='dad@example.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='DAD@EXAMPLE.COM' (Size = 256), @p7='DADADD' (Size = 256), @p8='AQAAAAIAAYagAAAAEKqpN4ZNd5bsXNbmC9syNbvvMQtHHrjDRk6jgQh7G88FVAdZAPcGewzEOzTx0vLvig==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='O0HHd40Q5369lZoIbwlT32hMUlozIrL0xeXhYYIayX+EPU+vi6CkIWwxEguWgrjQXE2m4MFhwRN+8SgZEic+DQ==' (Size = 4000), @p12='2025-01-18T19:36:59.0269089+04:00' (Nullable = true), @p13='CBSJGD4BD77Y2MNIVFLMG4KKLIFP4U2H' (Size = 4000), @p14='False', @p15='dadadd' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-19 19:36:59.145 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='6ea60fa6-e2fb-44a4-24c2-08dd07e31068' (Nullable = true), @__p_1='Default' (Size = 450), @__p_2='AccessToken' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[LoginProvider] = @__p_1 AND [a].[Name] = @__p_2
2024-11-19 19:36:59.166 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='DADADD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 19:36:59.179 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='Default' (Nullable = false) (Size = 450), @p2='AccessToken' (Nullable = false) (Size = 450), @p3='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p0='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI3ZTM0M2M1NC03NDY0LTRjMmQtOWJhMC03ZmVkZWE2OTY0NDkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZlYTYwZmE2LWUyZmItNDRhNC0yNGMyLTA4ZGQwN2UzMTA2OCIsImVtYWlsIjoiZGFkQGV4YW1wbGUuY29tIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3MzIwMzE1MTh9.tlGI-YtAdOf8YX5yatvBqmIh9Lm5GZXRGETSHFLGRjA' (Size = 4000), @p20='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p4='0', @p5='90c62f2f-f4de-4629-96b9-be045e6b0f8c' (Size = 4000), @p21='b785d8db-4d75-4d04-8d82-72a0c689b403' (Size = 4000), @p6='dad@example.com' (Size = 256), @p7='True', @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='DAD@EXAMPLE.COM' (Size = 256), @p11='DADADD' (Size = 256), @p12='AQAAAAIAAYagAAAAEKqpN4ZNd5bsXNbmC9syNbvvMQtHHrjDRk6jgQh7G88FVAdZAPcGewzEOzTx0vLvig==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='O0HHd40Q5369lZoIbwlT32hMUlozIrL0xeXhYYIayX+EPU+vi6CkIWwxEguWgrjQXE2m4MFhwRN+8SgZEic+DQ==' (Size = 4000), @p16='2025-01-18T19:36:59.0269089+04:00' (Nullable = true), @p17='CBSJGD4BD77Y2MNIVFLMG4KKLIFP4U2H' (Size = 4000), @p18='False', @p19='dadadd' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUserTokens] SET [Value] = @p0
OUTPUT 1
WHERE [LoginProvider] = @p1 AND [Name] = @p2 AND [UserId] = @p3;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpireTime] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-11-19 19:36:59.203 +04:00 [INF] Executing OkObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.ResponseDTO'.
2024-11-19 19:36:59.216 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 2459.545ms
2024-11-19 19:36:59.218 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 19:36:59.228 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 200 null application/json; charset=utf-8 2565.7045ms
2024-11-19 19:37:16.435 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-19 19:37:16.492 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-19 19:37:16.499 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 19:37:16.562 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerEmail], [c].[SellerName], [c].[UserId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
2024-11-19 19:37:16.592 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 19:37:16.616 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 115.0692ms
2024-11-19 19:37:16.620 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-19 19:37:16.622 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 187.3405ms
2024-11-19 19:37:23.263 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetUsersCars - null null
2024-11-19 19:37:23.289 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetUsersCars (CarMarketplaceWebApi)'
2024-11-19 19:37:23.299 +04:00 [INF] Route matched with {action = "GetUsersCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 19:37:23.328 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='6ea60fa6-e2fb-44a4-24c2-08dd07e31068' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-19 19:37:23.345 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='6ea60fa6-e2fb-44a4-24c2-08dd07e31068'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[UserId], [c].[eStatus], [c].[Make], [c].[Model], [c].[Mileage], [c].[Price], [c].[Class], [c].[ImageUrls], [c].[IsNew], [c].[SellerEmail], [c].[SellerName], [c].[Year], [c].[createdTime], [c].[soldTime]
FROM [cars] AS [c]
WHERE [c].[UserId] = @__id_0
2024-11-19 19:37:23.350 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.DTOs.UserCarsDTO, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 19:37:23.353 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetUsersCars (CarMarketplaceWebApi) in 51.0806ms
2024-11-19 19:37:23.355 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetUsersCars (CarMarketplaceWebApi)'
2024-11-19 19:37:23.358 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetUsersCars - 200 null application/json; charset=utf-8 94.8672ms
2024-11-19 19:43:34.502 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-19 19:43:34.653 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-19 19:43:34.700 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-19 19:43:34.702 +04:00 [INF] Hosting environment: Development
2024-11-19 19:43:34.703 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-19 19:43:35.217 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-19 19:43:35.394 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 184.2067ms
2024-11-19 19:43:35.550 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-19 19:43:35.550 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 19:43:35.557 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 7.1575ms
2024-11-19 19:43:35.586 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.4512ms
2024-11-19 19:43:35.726 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-19 19:43:35.735 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.1345ms
2024-11-19 19:44:21.529 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundaryaqsfeBYRpRAhJrNz 270
2024-11-19 19:44:21.546 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-19 19:44:21.619 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 19:44:21.645 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-19 19:44:22.480 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 19:44:23.368 +04:00 [INF] Executed DbCommand (66ms) [Parameters=[@__normalizedEmail_0='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-19 19:44:23.737 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='944c7dc9-5337-4674-8e3a-08dd03ede844'], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-19 19:44:23.803 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 19:44:23.939 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='jti' (Size = 4000), @p1='dc0b75c0-d7a5-4da6-a037-e90dbd907a3f' (Size = 4000), @p2='944c7dc9-5337-4674-8e3a-08dd03ede844', @p3='http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier' (Size = 4000), @p4='944c7dc9-5337-4674-8e3a-08dd03ede844' (Size = 4000), @p5='944c7dc9-5337-4674-8e3a-08dd03ede844', @p6='email' (Size = 4000), @p7='ndng.minurmemizade@gmail.com' (Size = 4000), @p8='944c7dc9-5337-4674-8e3a-08dd03ede844', @p25='944c7dc9-5337-4674-8e3a-08dd03ede844', @p9='0', @p10='5ebe4cb6-33c8-433d-aab6-7e6269fb0889' (Size = 4000), @p26='6394f20d-aaab-4a0a-8f0f-b79f81ed2165' (Size = 4000), @p11='ndng.minurmemizade@gmail.com' (Size = 256), @p12='True', @p13='True', @p14=NULL (DbType = DateTimeOffset), @p15='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p16='MINURMEMIZADE' (Size = 256), @p17='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p18=NULL (Size = 4000), @p19='False', @p20='AZ+n4CXdZS7n2upfqWPSD8CD6qD7lxG8TO3SVLon0553TiYDRs2zAlOdrazHQfDTBLgfG7xHMvHx5FQuUMN58g==' (Size = 4000), @p21='2025-01-18T19:31:08.8811956' (Nullable = true), @p22='WPWDT7HBSBHXXHUMSWGPB7IP4D2OGPVX' (Size = 4000), @p23='False', @p24='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [AspNetUserClaims] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2)) AS i ([ClaimType], [ClaimValue], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClaimType], [ClaimValue], [UserId])
VALUES (i.[ClaimType], i.[ClaimValue], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [RefreshToken] = @p20, [RefreshTokenExpireTime] = @p21, [SecurityStamp] = @p22, [TwoFactorEnabled] = @p23, [UserName] = @p24
OUTPUT 1
WHERE [Id] = @p25 AND [ConcurrencyStamp] = @p26;
2024-11-19 19:44:23.983 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 19:44:24.002 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='0c805708-b398-4aa2-87f9-9ac6f8352daf' (Size = 4000), @p17='5ebe4cb6-33c8-433d-aab6-7e6269fb0889' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='1hluLeKLAZYdQEbVch7AfPh/jkkLrkwSH2p/7VjSCYfxejTVER3igAAc3XDbdAw3BrSsgRmyGCSna2jbmHuXKQ==' (Size = 4000), @p12='2025-01-18T19:44:23.9787300+04:00' (Nullable = true), @p13='WPWDT7HBSBHXXHUMSWGPB7IP4D2OGPVX' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-19 19:44:24.014 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 19:44:24.023 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='6cdf67f3-71c0-46c1-8af5-247638add97d' (Size = 4000), @p17='0c805708-b398-4aa2-87f9-9ac6f8352daf' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='1hluLeKLAZYdQEbVch7AfPh/jkkLrkwSH2p/7VjSCYfxejTVER3igAAc3XDbdAw3BrSsgRmyGCSna2jbmHuXKQ==' (Size = 4000), @p12='2025-01-18T19:44:23.9787300+04:00' (Nullable = true), @p13='BL3BT3AWSGAFNF5BIQIKNKWWZL3QSP2P' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-19 19:44:24.100 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true), @__p_1='Default' (Size = 450), @__p_2='AccessToken' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[LoginProvider] = @__p_1 AND [a].[Name] = @__p_2
2024-11-19 19:44:24.129 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 19:44:24.143 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='Default' (Nullable = false) (Size = 450), @p2='AccessToken' (Nullable = false) (Size = 450), @p3='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJkYzBiNzVjMC1kN2E1LTRkYTYtYTAzNy1lOTBkYmQ5MDdhM2YiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6Ijk0NGM3ZGM5LTUzMzctNDY3NC04ZTNhLTA4ZGQwM2VkZTg0NCIsImVtYWlsIjoibmRuZy5taW51cm1lbWl6YWRlQGdtYWlsLmNvbSIsImV4cCI6MTczMjAzMTk2M30.wkafLi-iokKsqcJfrZ9yACSHBobLmiKCSWKgdbIV3cI' (Size = 4000), @p20='944c7dc9-5337-4674-8e3a-08dd03ede844', @p4='0', @p5='3b3d477e-d0cd-4ea3-b990-d88c23481fd3' (Size = 4000), @p21='6cdf67f3-71c0-46c1-8af5-247638add97d' (Size = 4000), @p6='ndng.minurmemizade@gmail.com' (Size = 256), @p7='True', @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p11='MINURMEMIZADE' (Size = 256), @p12='AQAAAAIAAYagAAAAEOLWkkoimoi/SrwfEGAPi4L0Z0WXtXF7b0T5XEH75CsDylXu4oDbDlBGS/WTX3YTgw==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='1hluLeKLAZYdQEbVch7AfPh/jkkLrkwSH2p/7VjSCYfxejTVER3igAAc3XDbdAw3BrSsgRmyGCSna2jbmHuXKQ==' (Size = 4000), @p16='2025-01-18T19:44:23.9787300+04:00' (Nullable = true), @p17='BL3BT3AWSGAFNF5BIQIKNKWWZL3QSP2P' (Size = 4000), @p18='False', @p19='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUserTokens] SET [Value] = @p0
OUTPUT 1
WHERE [LoginProvider] = @p1 AND [Name] = @p2 AND [UserId] = @p3;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpireTime] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-11-19 19:44:24.167 +04:00 [INF] Executing OkObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.ResponseDTO'.
2024-11-19 19:44:24.182 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 2529.9625ms
2024-11-19 19:44:24.185 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 19:44:24.194 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 200 null application/json; charset=utf-8 2665.1241ms
2024-11-19 19:44:49.159 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-19 19:44:49.224 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-19 19:44:49.230 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 19:44:49.290 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerEmail], [c].[SellerName], [c].[UserId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
2024-11-19 19:44:49.321 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 19:44:49.342 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 109.522ms
2024-11-19 19:44:49.346 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-19 19:44:49.350 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 190.8659ms
2024-11-19 19:44:59.620 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetUsersCars - null null
2024-11-19 19:44:59.635 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetUsersCars (CarMarketplaceWebApi)'
2024-11-19 19:44:59.641 +04:00 [INF] Route matched with {action = "GetUsersCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 19:44:59.680 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-19 19:44:59.715 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='944c7dc9-5337-4674-8e3a-08dd03ede844'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[UserId], [c].[eStatus], [c].[Make], [c].[Model], [c].[Mileage], [c].[Price], [c].[Class], [c].[ImageUrls], [c].[IsNew], [c].[SellerEmail], [c].[SellerName], [c].[Year], [c].[createdTime], [c].[soldTime]
FROM [cars] AS [c]
WHERE [c].[UserId] = @__id_0
2024-11-19 19:44:59.722 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.DTOs.UserCarsDTO, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 19:44:59.727 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetUsersCars (CarMarketplaceWebApi) in 83.3216ms
2024-11-19 19:44:59.730 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetUsersCars (CarMarketplaceWebApi)'
2024-11-19 19:44:59.732 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetUsersCars - 200 null application/json; charset=utf-8 112.6648ms
2024-11-19 19:45:33.237 +04:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5074/api/Car/UpdateCar - multipart/form-data; boundary=----WebKitFormBoundary4Cg40Vb9IAE5RIzQ 392254
2024-11-19 19:45:33.256 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi)'
2024-11-19 19:45:33.262 +04:00 [INF] Route matched with {action = "UpdateCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCar(CarMarketplaceWebApi.Models.DTOs.UpdateCarDTO) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 19:45:33.350 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__get_Item_0='833c6a66-c2f1-4810-7994-08dd08af490d' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerEmail], [c].[SellerName], [c].[UserId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
WHERE [c].[Id] = @__get_Item_0
2024-11-19 19:45:33.361 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-19 19:45:33.399 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p15='833c6a66-c2f1-4810-7994-08dd08af490d', @p0='ad' (Nullable = false) (Size = 4000), @p1='ad' (Nullable = false) (Size = 4000), @p2='["https://www.example.com/uploads/967dec86-ccc8-4dae-bc75-d432a9fb4f92_1920x1080-2605032-pacman-hd-wallpaper-for-free-download.png"]' (Nullable = false) (Size = 4000), @p3='False', @p4='Chevrolet' (Nullable = false) (Size = 4000), @p5='ad' (Nullable = false) (Size = 4000), @p6='Camaro' (Nullable = false) (Size = 4000), @p7='123', @p8='ndng.minurmemizade@gmail.com' (Nullable = false) (Size = 4000), @p9='MinurMemizade' (Nullable = false) (Size = 4000), @p10='944c7dc9-5337-4674-8e3a-08dd03ede844', @p11='ad' (Nullable = false) (Size = 4000), @p12='2024-11-19T15:31:49.4248004', @p13='0', @p14=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [cars] SET [Class] = @p0, [Color] = @p1, [ImageUrls] = @p2, [IsNew] = @p3, [Make] = @p4, [Mileage] = @p5, [Model] = @p6, [Price] = @p7, [SellerEmail] = @p8, [SellerName] = @p9, [UserId] = @p10, [Year] = @p11, [createdTime] = @p12, [eStatus] = @p13, [soldTime] = @p14
OUTPUT 1
WHERE [Id] = @p15;
2024-11-19 19:45:33.418 +04:00 [INF] Executing ObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.UpdateCarDTO'.
2024-11-19 19:45:33.428 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi) in 164.4923ms
2024-11-19 19:45:33.435 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi)'
2024-11-19 19:45:33.443 +04:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5074/api/Car/UpdateCar - 202 null application/json; charset=utf-8 206.3386ms
2024-11-19 19:45:40.772 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetUsersCars - null null
2024-11-19 19:45:40.781 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetUsersCars (CarMarketplaceWebApi)'
2024-11-19 19:45:40.784 +04:00 [INF] Route matched with {action = "GetUsersCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 19:45:40.796 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-19 19:45:40.825 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='944c7dc9-5337-4674-8e3a-08dd03ede844'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[UserId], [c].[eStatus], [c].[Make], [c].[Model], [c].[Mileage], [c].[Price], [c].[Class], [c].[ImageUrls], [c].[IsNew], [c].[SellerEmail], [c].[SellerName], [c].[Year], [c].[createdTime], [c].[soldTime]
FROM [cars] AS [c]
WHERE [c].[UserId] = @__id_0
2024-11-19 19:45:40.831 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.DTOs.UserCarsDTO, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 19:45:40.834 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetUsersCars (CarMarketplaceWebApi) in 45.2774ms
2024-11-19 19:45:40.836 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetUsersCars (CarMarketplaceWebApi)'
2024-11-19 19:45:40.838 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetUsersCars - 200 null application/json; charset=utf-8 65.9826ms
2024-11-19 19:45:45.359 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-19 19:45:45.366 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-19 19:45:45.367 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 19:45:45.401 +04:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerEmail], [c].[SellerName], [c].[UserId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
2024-11-19 19:45:45.432 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 19:45:45.437 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 56.2314ms
2024-11-19 19:45:45.443 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-19 19:45:45.444 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 85.1746ms
2024-11-19 20:36:00.159 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 20:36:10.115 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 20:36:10.364 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 20:36:10.382 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 20:36:10.383 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 20:36:10.384 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 20:36:10.396 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 20:36:10.403 +04:00 [INF] Applying migration '20241119163600_v8'.
2024-11-19 20:36:10.446 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Favorites] (
    [Id] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    [CarId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_Favorites] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Favorites_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Favorites_cars_CarId] FOREIGN KEY ([CarId]) REFERENCES [cars] ([Id]) ON DELETE NO ACTION
);
2024-11-19 20:36:10.448 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Favorites_CarId] ON [Favorites] ([CarId]);
2024-11-19 20:36:10.449 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Favorites_UserId] ON [Favorites] ([UserId]);
2024-11-19 20:36:10.453 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241119163600_v8', N'8.0.10');
2024-11-19 20:45:55.398 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 20:45:59.939 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 20:46:00.263 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 20:46:00.291 +04:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 20:46:00.293 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-19 20:46:00.294 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-19 20:46:00.309 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-19 20:46:00.320 +04:00 [INF] Applying migration '20241119164555_v8.1'.
2024-11-19 20:46:00.352 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241119164555_v8.1', N'8.0.10');
2024-11-19 21:48:46.068 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-19 21:48:46.246 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-19 21:48:46.286 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-19 21:48:46.287 +04:00 [INF] Hosting environment: Development
2024-11-19 21:48:46.288 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-19 21:48:47.031 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-19 21:48:47.223 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 196.444ms
2024-11-19 21:48:47.258 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-19 21:48:47.264 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 6.8319ms
2024-11-19 21:48:47.341 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-19 21:48:47.374 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.6355ms
2024-11-19 21:48:47.582 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-19 21:48:47.591 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.2733ms
2024-11-19 21:49:06.161 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundaryDDx77eFDHxheLBzj 256
2024-11-19 21:49:06.181 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-19 21:49:06.246 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 21:49:06.271 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-19 21:49:07.222 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-19 21:49:08.127 +04:00 [INF] Executed DbCommand (62ms) [Parameters=[@__normalizedEmail_0='DAD@EXAMPLE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-19 21:49:08.464 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='6ea60fa6-e2fb-44a4-24c2-08dd07e31068'], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-19 21:49:08.509 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='DADADD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 21:49:08.657 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='jti' (Size = 4000), @p1='4648522e-7825-4580-8723-92bf8080d5fb' (Size = 4000), @p2='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p3='http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier' (Size = 4000), @p4='6ea60fa6-e2fb-44a4-24c2-08dd07e31068' (Size = 4000), @p5='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p6='email' (Size = 4000), @p7='dad@example.com' (Size = 4000), @p8='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p9='http://schemas.microsoft.com/ws/2008/06/identity/claims/role' (Size = 4000), @p10='admin' (Size = 4000), @p11='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p28='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p12='0', @p13='b0c10e60-7f6f-4499-82f4-d23dee12519a' (Size = 4000), @p29='90c62f2f-f4de-4629-96b9-be045e6b0f8c' (Size = 4000), @p14='dad@example.com' (Size = 256), @p15='True', @p16='True', @p17=NULL (DbType = DateTimeOffset), @p18='DAD@EXAMPLE.COM' (Size = 256), @p19='DADADD' (Size = 256), @p20='AQAAAAIAAYagAAAAEKqpN4ZNd5bsXNbmC9syNbvvMQtHHrjDRk6jgQh7G88FVAdZAPcGewzEOzTx0vLvig==' (Size = 4000), @p21=NULL (Size = 4000), @p22='False', @p23='O0HHd40Q5369lZoIbwlT32hMUlozIrL0xeXhYYIayX+EPU+vi6CkIWwxEguWgrjQXE2m4MFhwRN+8SgZEic+DQ==' (Size = 4000), @p24='2025-01-18T19:36:59.0269089' (Nullable = true), @p25='CBSJGD4BD77Y2MNIVFLMG4KKLIFP4U2H' (Size = 4000), @p26='False', @p27='dadadd' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [AspNetUserClaims] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3)) AS i ([ClaimType], [ClaimValue], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClaimType], [ClaimValue], [UserId])
VALUES (i.[ClaimType], i.[ClaimValue], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p12, [ConcurrencyStamp] = @p13, [Email] = @p14, [EmailConfirmed] = @p15, [LockoutEnabled] = @p16, [LockoutEnd] = @p17, [NormalizedEmail] = @p18, [NormalizedUserName] = @p19, [PasswordHash] = @p20, [PhoneNumber] = @p21, [PhoneNumberConfirmed] = @p22, [RefreshToken] = @p23, [RefreshTokenExpireTime] = @p24, [SecurityStamp] = @p25, [TwoFactorEnabled] = @p26, [UserName] = @p27
OUTPUT 1
WHERE [Id] = @p28 AND [ConcurrencyStamp] = @p29;
2024-11-19 21:49:08.771 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='DADADD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 21:49:08.794 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@p16='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p0='0', @p1='a5926106-87f9-4ce5-b3c4-0b7edf87fece' (Size = 4000), @p17='b0c10e60-7f6f-4499-82f4-d23dee12519a' (Size = 4000), @p2='dad@example.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='DAD@EXAMPLE.COM' (Size = 256), @p7='DADADD' (Size = 256), @p8='AQAAAAIAAYagAAAAEKqpN4ZNd5bsXNbmC9syNbvvMQtHHrjDRk6jgQh7G88FVAdZAPcGewzEOzTx0vLvig==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='O3CdeUznOc2w6QubdjuAlPvpbBFZUDzPacPbiKhXT2rfUxOrHxlALb31yN2IdRQFA4d0SUIuebhxswcW5ai8KA==' (Size = 4000), @p12='2025-01-18T21:49:08.7650151+04:00' (Nullable = true), @p13='CBSJGD4BD77Y2MNIVFLMG4KKLIFP4U2H' (Size = 4000), @p14='False', @p15='dadadd' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-19 21:49:08.816 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='DADADD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 21:49:08.829 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p16='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p0='0', @p1='3c83ce40-77e3-4aa6-bee3-b0b1407cfd74' (Size = 4000), @p17='a5926106-87f9-4ce5-b3c4-0b7edf87fece' (Size = 4000), @p2='dad@example.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='DAD@EXAMPLE.COM' (Size = 256), @p7='DADADD' (Size = 256), @p8='AQAAAAIAAYagAAAAEKqpN4ZNd5bsXNbmC9syNbvvMQtHHrjDRk6jgQh7G88FVAdZAPcGewzEOzTx0vLvig==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='O3CdeUznOc2w6QubdjuAlPvpbBFZUDzPacPbiKhXT2rfUxOrHxlALb31yN2IdRQFA4d0SUIuebhxswcW5ai8KA==' (Size = 4000), @p12='2025-01-18T21:49:08.7650151+04:00' (Nullable = true), @p13='YSCBZYYVK5RJYCC4DFF2PU7VNZSDVJ5J' (Size = 4000), @p14='False', @p15='dadadd' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-19 21:49:08.918 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='6ea60fa6-e2fb-44a4-24c2-08dd07e31068' (Nullable = true), @__p_1='Default' (Size = 450), @__p_2='AccessToken' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[LoginProvider] = @__p_1 AND [a].[Name] = @__p_2
2024-11-19 21:49:08.945 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='DADADD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-19 21:49:08.962 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='Default' (Nullable = false) (Size = 450), @p2='AccessToken' (Nullable = false) (Size = 450), @p3='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p0='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI0NjQ4NTIyZS03ODI1LTQ1ODAtODcyMy05MmJmODA4MGQ1ZmIiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZlYTYwZmE2LWUyZmItNDRhNC0yNGMyLTA4ZGQwN2UzMTA2OCIsImVtYWlsIjoiZGFkQGV4YW1wbGUuY29tIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3MzIwMzk0NDh9.ElDyAlUVzVYHNc3KTsFe5BXQcowX0lpK4s1EMi8ASkw' (Size = 4000), @p20='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p4='0', @p5='bf670d2c-2751-43bf-9e9b-23427cddea65' (Size = 4000), @p21='3c83ce40-77e3-4aa6-bee3-b0b1407cfd74' (Size = 4000), @p6='dad@example.com' (Size = 256), @p7='True', @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='DAD@EXAMPLE.COM' (Size = 256), @p11='DADADD' (Size = 256), @p12='AQAAAAIAAYagAAAAEKqpN4ZNd5bsXNbmC9syNbvvMQtHHrjDRk6jgQh7G88FVAdZAPcGewzEOzTx0vLvig==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='O3CdeUznOc2w6QubdjuAlPvpbBFZUDzPacPbiKhXT2rfUxOrHxlALb31yN2IdRQFA4d0SUIuebhxswcW5ai8KA==' (Size = 4000), @p16='2025-01-18T21:49:08.7650151+04:00' (Nullable = true), @p17='YSCBZYYVK5RJYCC4DFF2PU7VNZSDVJ5J' (Size = 4000), @p18='False', @p19='dadadd' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUserTokens] SET [Value] = @p0
OUTPUT 1
WHERE [LoginProvider] = @p1 AND [Name] = @p2 AND [UserId] = @p3;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpireTime] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-11-19 21:49:08.993 +04:00 [INF] Executing OkObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.ResponseDTO'.
2024-11-19 21:49:09.004 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 2727.9098ms
2024-11-19 21:49:09.008 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-19 21:49:09.016 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 200 null application/json; charset=utf-8 2855.115ms
2024-11-19 21:49:52.104 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Car/AddCar - multipart/form-data; boundary=----WebKitFormBoundaryNGNULIBA2Yi7TmKO 2950511
2024-11-19 21:49:52.166 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi)'
2024-11-19 21:49:52.175 +04:00 [INF] Route matched with {action = "AddCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCar(CarMarketplaceWebApi.Models.DTOs.CarDTO) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 21:49:52.418 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[@__get_Item_0='6ea60fa6-e2fb-44a4-24c2-08dd07e31068' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-19 21:49:52.530 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='f9f0745c-34ff-40bc-8d49-08dd08c2921b', @p1='sd' (Nullable = false) (Size = 4000), @p2='asdasd' (Nullable = false) (Size = 4000), @p3='["https://www.example.com/uploads/f880c1af-ae60-44b6-9864-a370bcfb5db8_1920x1080-2605032-pacman-hd-wallpaper-for-free-download-kgQHLUCvq-transformed.jpeg"]' (Nullable = false) (Size = 4000), @p4='True', @p5='Ford' (Nullable = false) (Size = 4000), @p6='asd' (Nullable = false) (Size = 4000), @p7='Mustang' (Nullable = false) (Size = 4000), @p8='123', @p9='dad@example.com' (Nullable = false) (Size = 4000), @p10='dadadd' (Nullable = false) (Size = 4000), @p11='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p12='asdasda' (Nullable = false) (Size = 4000), @p13='2024-11-19T17:49:52.4282782Z', @p14='0', @p15=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [cars] ([Id], [Class], [Color], [ImageUrls], [IsNew], [Make], [Mileage], [Model], [Price], [SellerEmail], [SellerName], [UserId], [Year], [createdTime], [eStatus], [soldTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2024-11-19 21:49:52.542 +04:00 [INF] Executing ObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.CarDTO'.
2024-11-19 21:49:52.564 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi) in 386.8369ms
2024-11-19 21:49:52.571 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi)'
2024-11-19 21:49:52.579 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Car/AddCar - 201 null application/json; charset=utf-8 475.2886ms
2024-11-19 21:50:01.714 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-19 21:50:01.722 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-19 21:50:01.725 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 21:50:01.753 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerEmail], [c].[SellerName], [c].[UserId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
2024-11-19 21:50:01.764 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 21:50:01.785 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 56.1511ms
2024-11-19 21:50:01.787 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-19 21:50:01.790 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 76.441ms
2024-11-19 21:50:15.598 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetUsersCars - null null
2024-11-19 21:50:15.615 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetUsersCars (CarMarketplaceWebApi)'
2024-11-19 21:50:15.621 +04:00 [INF] Route matched with {action = "GetUsersCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 21:50:15.645 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='6ea60fa6-e2fb-44a4-24c2-08dd07e31068' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-19 21:50:15.675 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='6ea60fa6-e2fb-44a4-24c2-08dd07e31068'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[UserId], [c].[eStatus], [c].[Make], [c].[Model], [c].[Mileage], [c].[Price], [c].[Class], [c].[ImageUrls], [c].[IsNew], [c].[SellerEmail], [c].[SellerName], [c].[Year], [c].[createdTime], [c].[soldTime]
FROM [cars] AS [c]
WHERE [c].[UserId] = @__id_0
2024-11-19 21:50:15.690 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.DTOs.UserCarsDTO, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 21:50:15.704 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetUsersCars (CarMarketplaceWebApi) in 75.342ms
2024-11-19 21:50:15.710 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetUsersCars (CarMarketplaceWebApi)'
2024-11-19 21:50:15.712 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetUsersCars - 200 null application/json; charset=utf-8 113.8909ms
2024-11-19 21:50:26.739 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetFavoriteCars - null null
2024-11-19 21:50:26.761 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetFavoiteCars (CarMarketplaceWebApi)'
2024-11-19 21:50:26.766 +04:00 [INF] Route matched with {action = "GetFavoiteCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFavoiteCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 21:50:26.775 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='6ea60fa6-e2fb-44a4-24c2-08dd07e31068' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-19 21:50:26.802 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='6ea60fa6-e2fb-44a4-24c2-08dd07e31068'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerEmail], [c].[SellerName], [c].[UserId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [Favorites] AS [f]
INNER JOIN [cars] AS [c] ON [f].[CarId] = [c].[Id]
WHERE [f].[UserId] = @__userId_0
2024-11-19 21:50:26.827 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 21:50:26.832 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetFavoiteCars (CarMarketplaceWebApi) in 63.5143ms
2024-11-19 21:50:26.836 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetFavoiteCars (CarMarketplaceWebApi)'
2024-11-19 21:50:26.840 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetFavoriteCars - 200 null application/json; charset=utf-8 101.3089ms
2024-11-19 21:50:54.481 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Car/AddToFavorites?carId=833c6a66-c2f1-4810-7994-08dd08af490d - null 0
2024-11-19 21:50:54.485 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.AddToFavorites (CarMarketplaceWebApi)'
2024-11-19 21:50:54.491 +04:00 [INF] Route matched with {action = "AddToFavorites", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToFavorites(System.Guid) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 21:50:54.509 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__get_Item_0='6ea60fa6-e2fb-44a4-24c2-08dd07e31068' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-19 21:50:54.544 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @__carId_1='833c6a66-c2f1-4810-7994-08dd08af490d'], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Favorites] AS [f]
        WHERE [f].[UserId] = @__userId_0 AND [f].[CarId] = @__carId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-19 21:50:54.575 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='866d6111-74d6-4425-4555-08dd08c2b722', @p1='833c6a66-c2f1-4810-7994-08dd08af490d', @p2='6ea60fa6-e2fb-44a4-24c2-08dd07e31068'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Favorites] ([Id], [CarId], [UserId])
VALUES (@p0, @p1, @p2);
2024-11-19 21:50:54.583 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 202
2024-11-19 21:50:54.584 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.AddToFavorites (CarMarketplaceWebApi) in 89.9865ms
2024-11-19 21:50:54.586 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.AddToFavorites (CarMarketplaceWebApi)'
2024-11-19 21:50:54.588 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Car/AddToFavorites?carId=833c6a66-c2f1-4810-7994-08dd08af490d - 202 0 null 107.0742ms
2024-11-19 21:51:02.539 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetFavoriteCars - null null
2024-11-19 21:51:02.556 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetFavoiteCars (CarMarketplaceWebApi)'
2024-11-19 21:51:02.567 +04:00 [INF] Route matched with {action = "GetFavoiteCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFavoiteCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 21:51:02.574 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='6ea60fa6-e2fb-44a4-24c2-08dd07e31068' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-19 21:51:02.602 +04:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='6ea60fa6-e2fb-44a4-24c2-08dd07e31068'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerEmail], [c].[SellerName], [c].[UserId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [Favorites] AS [f]
INNER JOIN [cars] AS [c] ON [f].[CarId] = [c].[Id]
WHERE [f].[UserId] = @__userId_0
2024-11-19 21:51:02.616 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 21:51:02.617 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetFavoiteCars (CarMarketplaceWebApi) in 47.2527ms
2024-11-19 21:51:02.622 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetFavoiteCars (CarMarketplaceWebApi)'
2024-11-19 21:51:02.626 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetFavoriteCars - 200 null application/json; charset=utf-8 87.0855ms
2024-11-19 21:51:15.535 +04:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5074/api/Car/RemoveFromFavorites?carId=833c6a66-c2f1-4810-7994-08dd08af490d - null null
2024-11-19 21:51:15.543 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.RemoveFromFavorites (CarMarketplaceWebApi)'
2024-11-19 21:51:15.549 +04:00 [INF] Route matched with {action = "RemoveFromFavorites", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveFromFavorites(System.Guid) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 21:51:15.556 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='6ea60fa6-e2fb-44a4-24c2-08dd07e31068' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-19 21:51:15.570 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @__carId_1='833c6a66-c2f1-4810-7994-08dd08af490d'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CarId], [f].[UserId]
FROM [Favorites] AS [f]
WHERE [f].[UserId] = @__userId_0 AND [f].[CarId] = @__carId_1
2024-11-19 21:51:15.584 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='866d6111-74d6-4425-4555-08dd08c2b722'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Favorites]
OUTPUT 1
WHERE [Id] = @p0;
2024-11-19 21:51:15.591 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 202
2024-11-19 21:51:15.592 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.RemoveFromFavorites (CarMarketplaceWebApi) in 41.1505ms
2024-11-19 21:51:15.594 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.RemoveFromFavorites (CarMarketplaceWebApi)'
2024-11-19 21:51:15.596 +04:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5074/api/Car/RemoveFromFavorites?carId=833c6a66-c2f1-4810-7994-08dd08af490d - 202 0 null 61.1336ms
2024-11-19 21:51:20.975 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetFavoriteCars - null null
2024-11-19 21:51:20.982 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetFavoiteCars (CarMarketplaceWebApi)'
2024-11-19 21:51:20.989 +04:00 [INF] Route matched with {action = "GetFavoiteCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFavoiteCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-19 21:51:21.002 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='6ea60fa6-e2fb-44a4-24c2-08dd07e31068' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-19 21:51:21.015 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='6ea60fa6-e2fb-44a4-24c2-08dd07e31068'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerEmail], [c].[SellerName], [c].[UserId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [Favorites] AS [f]
INNER JOIN [cars] AS [c] ON [f].[CarId] = [c].[Id]
WHERE [f].[UserId] = @__userId_0
2024-11-19 21:51:21.084 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-19 21:51:21.127 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetFavoiteCars (CarMarketplaceWebApi) in 130.1297ms
2024-11-19 21:51:21.132 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetFavoiteCars (CarMarketplaceWebApi)'
2024-11-19 21:51:21.136 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetFavoriteCars - 200 null application/json; charset=utf-8 160.9954ms
