2024-11-18 15:35:34.840 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 15:35:40.767 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 15:35:41.116 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-18 15:35:41.141 +04:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-18 15:35:41.143 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-18 15:35:41.144 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-18 15:35:41.177 +04:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-18 15:35:41.190 +04:00 [INF] Applying migration '20241118113535_v3'.
2024-11-18 15:35:41.262 +04:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD [SellerId] uniqueidentifier NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2024-11-18 15:35:41.274 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Seller] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Surname] nvarchar(max) NOT NULL,
    [Phone] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Seller] PRIMARY KEY ([Id])
);
2024-11-18 15:35:41.295 +04:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_cars_SellerId] ON [cars] ([SellerId]);
2024-11-18 15:35:41.299 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD CONSTRAINT [FK_cars_Seller_SellerId] FOREIGN KEY ([SellerId]) REFERENCES [Seller] ([Id]) ON DELETE CASCADE;
2024-11-18 15:35:41.303 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241118113535_v3', N'8.0.10');
2024-11-18 15:57:30.310 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 15:57:37.017 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 15:57:37.341 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-18 15:57:37.361 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-18 15:57:37.363 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-18 15:57:37.364 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-18 15:57:37.377 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-18 15:57:37.387 +04:00 [INF] Applying migration '20241118115730_v4'.
2024-11-18 15:57:37.427 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [AspNetUsers] ADD [Name] nvarchar(max) NOT NULL DEFAULT N'';
2024-11-18 15:57:37.431 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [AspNetUsers] ADD [Phone] nvarchar(max) NOT NULL DEFAULT N'';
2024-11-18 15:57:37.433 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [AspNetUsers] ADD [Surname] nvarchar(max) NOT NULL DEFAULT N'';
2024-11-18 15:57:37.435 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241118115730_v4', N'8.0.10');
2024-11-18 15:57:47.755 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 15:57:47.996 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 15:57:48.036 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 15:57:48.038 +04:00 [INF] Hosting environment: Development
2024-11-18 15:57:48.038 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 15:57:48.686 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 15:57:48.901 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 220.8947ms
2024-11-18 15:57:49.048 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 15:57:49.048 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 15:57:49.053 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 4.8822ms
2024-11-18 15:57:49.082 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.9509ms
2024-11-18 15:57:49.202 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 15:57:49.209 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.1501ms
2024-11-18 15:58:07.885 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundaryzPf9inEjjMOxVKV6 269
2024-11-18 15:58:07.893 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-18 15:58:07.950 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 15:58:07.978 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-18 15:58:08.718 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 15:58:09.653 +04:00 [INF] Executed DbCommand (84ms) [Parameters=[@__normalizedEmail_0='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-18 15:58:09.967 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='944c7dc9-5337-4674-8e3a-08dd03ede844'], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-18 15:58:10.053 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 15:58:10.274 +04:00 [INF] Executed DbCommand (35ms) [Parameters=[@p0='jti' (Size = 4000), @p1='07a8f9ec-a066-44fe-8b73-b995ee7600df' (Size = 4000), @p2='944c7dc9-5337-4674-8e3a-08dd03ede844', @p3='http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier' (Size = 4000), @p4='944c7dc9-5337-4674-8e3a-08dd03ede844' (Size = 4000), @p5='944c7dc9-5337-4674-8e3a-08dd03ede844', @p6='email' (Size = 4000), @p7='ndng.minurmemizade@gmail.com' (Size = 4000), @p8='944c7dc9-5337-4674-8e3a-08dd03ede844', @p28='944c7dc9-5337-4674-8e3a-08dd03ede844', @p9='0', @p10='7f676793-dddf-402d-9f74-01b5f8474dad' (Size = 4000), @p29='50a3880c-da8a-4720-a8e2-3e0b683cc24e' (Size = 4000), @p11='ndng.minurmemizade@gmail.com' (Size = 256), @p12='True', @p13='True', @p14=NULL (DbType = DateTimeOffset), @p15='' (Nullable = false) (Size = 4000), @p16='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p17='MINURMEMIZADE' (Size = 256), @p18='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p19='' (Nullable = false) (Size = 4000), @p20=NULL (Size = 4000), @p21='False', @p22='h+3bA9tF/PW0ueyv2N1bt9iTHKFNVHZFGOG/3BcrsU0obw2pl1g1OO+pdINP9PCqsXnAq3WeL0u5quVBIzlqBw==' (Size = 4000), @p23='2025-01-16T19:46:33.5289313' (Nullable = true), @p24='3PO7UAMCOSER2DN2ZE4IKJ2TMPAMK7Y3' (Size = 4000), @p25='' (Nullable = false) (Size = 4000), @p26='False', @p27='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [AspNetUserClaims] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2)) AS i ([ClaimType], [ClaimValue], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClaimType], [ClaimValue], [UserId])
VALUES (i.[ClaimType], i.[ClaimValue], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [Name] = @p15, [NormalizedEmail] = @p16, [NormalizedUserName] = @p17, [PasswordHash] = @p18, [Phone] = @p19, [PhoneNumber] = @p20, [PhoneNumberConfirmed] = @p21, [RefreshToken] = @p22, [RefreshTokenExpireTime] = @p23, [SecurityStamp] = @p24, [Surname] = @p25, [TwoFactorEnabled] = @p26, [UserName] = @p27
OUTPUT 1
WHERE [Id] = @p28 AND [ConcurrencyStamp] = @p29;
2024-11-18 15:58:10.342 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 15:58:10.355 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p19='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='a4eaeb0a-69ae-410f-907d-2ce7843508a3' (Size = 4000), @p20='7f676793-dddf-402d-9f74-01b5f8474dad' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='' (Nullable = false) (Size = 4000), @p7='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p8='MINURMEMIZADE' (Size = 256), @p9='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p10='' (Nullable = false) (Size = 4000), @p11=NULL (Size = 4000), @p12='False', @p13='f6nMW36Bt4gGEfpL7aZUesKV0IfOfsEYJkTO4EbMt8+FxLNjtLuf4dWWrm2hiT0/oT2dLU3t7t9BE9pmwjEGiw==' (Size = 4000), @p14='2025-01-17T15:58:10.3353594+04:00' (Nullable = true), @p15='3PO7UAMCOSER2DN2ZE4IKJ2TMPAMK7Y3' (Size = 4000), @p16='' (Nullable = false) (Size = 4000), @p17='False', @p18='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [Name] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [Phone] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpireTime] = @p14, [SecurityStamp] = @p15, [Surname] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2024-11-18 15:58:10.370 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 15:58:10.378 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p19='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='8a185874-1c20-41cf-a029-12912e4fd1b3' (Size = 4000), @p20='a4eaeb0a-69ae-410f-907d-2ce7843508a3' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='' (Nullable = false) (Size = 4000), @p7='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p8='MINURMEMIZADE' (Size = 256), @p9='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p10='' (Nullable = false) (Size = 4000), @p11=NULL (Size = 4000), @p12='False', @p13='f6nMW36Bt4gGEfpL7aZUesKV0IfOfsEYJkTO4EbMt8+FxLNjtLuf4dWWrm2hiT0/oT2dLU3t7t9BE9pmwjEGiw==' (Size = 4000), @p14='2025-01-17T15:58:10.3353594+04:00' (Nullable = true), @p15='2RWO6X3GTZNG25U4S3PARQ43JGBXFIKW' (Size = 4000), @p16='' (Nullable = false) (Size = 4000), @p17='False', @p18='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [Name] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [Phone] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpireTime] = @p14, [SecurityStamp] = @p15, [Surname] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2024-11-18 15:58:10.469 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true), @__p_1='Default' (Size = 450), @__p_2='AccessToken' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[LoginProvider] = @__p_1 AND [a].[Name] = @__p_2
2024-11-18 15:58:10.506 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 15:58:10.522 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='Default' (Nullable = false) (Size = 450), @p2='AccessToken' (Nullable = false) (Size = 450), @p3='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIwN2E4ZjllYy1hMDY2LTQ0ZmUtOGI3My1iOTk1ZWU3NjAwZGYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6Ijk0NGM3ZGM5LTUzMzctNDY3NC04ZTNhLTA4ZGQwM2VkZTg0NCIsImVtYWlsIjoibmRuZy5taW51cm1lbWl6YWRlQGdtYWlsLmNvbSIsImV4cCI6MTczMTkzMTk4OX0.LJE5P1syZJcGrEHbbwZGcrissMEsBHIkhktjXdGL5K0' (Size = 4000), @p23='944c7dc9-5337-4674-8e3a-08dd03ede844', @p4='0', @p5='ddc4b015-4a49-4d52-855c-62f35ec1e8d8' (Size = 4000), @p24='8a185874-1c20-41cf-a029-12912e4fd1b3' (Size = 4000), @p6='ndng.minurmemizade@gmail.com' (Size = 256), @p7='True', @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='' (Nullable = false) (Size = 4000), @p11='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p12='MINURMEMIZADE' (Size = 256), @p13='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p14='' (Nullable = false) (Size = 4000), @p15=NULL (Size = 4000), @p16='False', @p17='f6nMW36Bt4gGEfpL7aZUesKV0IfOfsEYJkTO4EbMt8+FxLNjtLuf4dWWrm2hiT0/oT2dLU3t7t9BE9pmwjEGiw==' (Size = 4000), @p18='2025-01-17T15:58:10.3353594+04:00' (Nullable = true), @p19='2RWO6X3GTZNG25U4S3PARQ43JGBXFIKW' (Size = 4000), @p20='' (Nullable = false) (Size = 4000), @p21='False', @p22='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUserTokens] SET [Value] = @p0
OUTPUT 1
WHERE [LoginProvider] = @p1 AND [Name] = @p2 AND [UserId] = @p3;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [Name] = @p10, [NormalizedEmail] = @p11, [NormalizedUserName] = @p12, [PasswordHash] = @p13, [Phone] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [RefreshToken] = @p17, [RefreshTokenExpireTime] = @p18, [SecurityStamp] = @p19, [Surname] = @p20, [TwoFactorEnabled] = @p21, [UserName] = @p22
OUTPUT 1
WHERE [Id] = @p23 AND [ConcurrencyStamp] = @p24;
2024-11-18 15:58:10.550 +04:00 [INF] Executing OkObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.ResponseDTO'.
2024-11-18 15:58:10.569 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 2584.2716ms
2024-11-18 15:58:10.573 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 15:58:10.585 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 200 null application/json; charset=utf-8 2699.4706ms
2024-11-18 15:58:16.860 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 15:58:17.009 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 15:58:17.042 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 15:58:17.043 +04:00 [INF] Hosting environment: Development
2024-11-18 15:58:17.044 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 15:58:17.988 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 15:58:18.204 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 222.588ms
2024-11-18 15:58:18.671 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 15:58:18.678 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 8.1726ms
2024-11-18 15:58:18.767 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 15:58:18.800 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.9983ms
2024-11-18 15:58:18.973 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 15:58:18.981 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.3817ms
2024-11-18 15:58:37.851 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundaryCMqI1CY3zOJ5wecL 269
2024-11-18 15:58:37.864 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-18 15:58:37.951 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 15:58:37.994 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-18 15:58:38.899 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 15:58:39.883 +04:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedEmail_0='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-18 15:58:40.181 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='944c7dc9-5337-4674-8e3a-08dd03ede844'], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-18 15:58:40.241 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 15:58:40.394 +04:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='jti' (Size = 4000), @p1='3b8650d9-83f7-4156-b358-c8e0623048d6' (Size = 4000), @p2='944c7dc9-5337-4674-8e3a-08dd03ede844', @p3='http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier' (Size = 4000), @p4='944c7dc9-5337-4674-8e3a-08dd03ede844' (Size = 4000), @p5='944c7dc9-5337-4674-8e3a-08dd03ede844', @p6='email' (Size = 4000), @p7='ndng.minurmemizade@gmail.com' (Size = 4000), @p8='944c7dc9-5337-4674-8e3a-08dd03ede844', @p28='944c7dc9-5337-4674-8e3a-08dd03ede844', @p9='0', @p10='1a6b0257-298c-4e78-9f2f-5c5a604fea1c' (Size = 4000), @p29='ddc4b015-4a49-4d52-855c-62f35ec1e8d8' (Size = 4000), @p11='ndng.minurmemizade@gmail.com' (Size = 256), @p12='True', @p13='True', @p14=NULL (DbType = DateTimeOffset), @p15='' (Nullable = false) (Size = 4000), @p16='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p17='MINURMEMIZADE' (Size = 256), @p18='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p19='' (Nullable = false) (Size = 4000), @p20=NULL (Size = 4000), @p21='False', @p22='f6nMW36Bt4gGEfpL7aZUesKV0IfOfsEYJkTO4EbMt8+FxLNjtLuf4dWWrm2hiT0/oT2dLU3t7t9BE9pmwjEGiw==' (Size = 4000), @p23='2025-01-17T15:58:10.3353594' (Nullable = true), @p24='2RWO6X3GTZNG25U4S3PARQ43JGBXFIKW' (Size = 4000), @p25='' (Nullable = false) (Size = 4000), @p26='False', @p27='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [AspNetUserClaims] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2)) AS i ([ClaimType], [ClaimValue], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClaimType], [ClaimValue], [UserId])
VALUES (i.[ClaimType], i.[ClaimValue], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [Name] = @p15, [NormalizedEmail] = @p16, [NormalizedUserName] = @p17, [PasswordHash] = @p18, [Phone] = @p19, [PhoneNumber] = @p20, [PhoneNumberConfirmed] = @p21, [RefreshToken] = @p22, [RefreshTokenExpireTime] = @p23, [SecurityStamp] = @p24, [Surname] = @p25, [TwoFactorEnabled] = @p26, [UserName] = @p27
OUTPUT 1
WHERE [Id] = @p28 AND [ConcurrencyStamp] = @p29;
2024-11-18 15:58:40.435 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 15:58:40.448 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@p19='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='b305b4ef-cbab-48d0-8104-0d0714a3ace4' (Size = 4000), @p20='1a6b0257-298c-4e78-9f2f-5c5a604fea1c' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='' (Nullable = false) (Size = 4000), @p7='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p8='MINURMEMIZADE' (Size = 256), @p9='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p10='' (Nullable = false) (Size = 4000), @p11=NULL (Size = 4000), @p12='False', @p13='ZUAs0uxvEcZnu8c0hUFeTccM1B4cgzQvhgPP2sCR9WbRjKibiPnxt97MgyhsGavlOVG3jGudBJ6Bee+ZZVofiQ==' (Size = 4000), @p14='2025-01-17T15:58:40.4314451+04:00' (Nullable = true), @p15='2RWO6X3GTZNG25U4S3PARQ43JGBXFIKW' (Size = 4000), @p16='' (Nullable = false) (Size = 4000), @p17='False', @p18='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [Name] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [Phone] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpireTime] = @p14, [SecurityStamp] = @p15, [Surname] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2024-11-18 15:58:40.456 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 15:58:40.461 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p19='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='076104db-6cff-45a3-b79d-a17df18697db' (Size = 4000), @p20='b305b4ef-cbab-48d0-8104-0d0714a3ace4' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='' (Nullable = false) (Size = 4000), @p7='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p8='MINURMEMIZADE' (Size = 256), @p9='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p10='' (Nullable = false) (Size = 4000), @p11=NULL (Size = 4000), @p12='False', @p13='ZUAs0uxvEcZnu8c0hUFeTccM1B4cgzQvhgPP2sCR9WbRjKibiPnxt97MgyhsGavlOVG3jGudBJ6Bee+ZZVofiQ==' (Size = 4000), @p14='2025-01-17T15:58:40.4314451+04:00' (Nullable = true), @p15='N5JJA43Z5H7TCLFOWD24K5TKEPPTQ7GK' (Size = 4000), @p16='' (Nullable = false) (Size = 4000), @p17='False', @p18='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [Name] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [Phone] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpireTime] = @p14, [SecurityStamp] = @p15, [Surname] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2024-11-18 15:58:40.530 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true), @__p_1='Default' (Size = 450), @__p_2='AccessToken' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[LoginProvider] = @__p_1 AND [a].[Name] = @__p_2
2024-11-18 15:58:40.567 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 15:58:40.583 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='Default' (Nullable = false) (Size = 450), @p2='AccessToken' (Nullable = false) (Size = 450), @p3='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIzYjg2NTBkOS04M2Y3LTQxNTYtYjM1OC1jOGUwNjIzMDQ4ZDYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6Ijk0NGM3ZGM5LTUzMzctNDY3NC04ZTNhLTA4ZGQwM2VkZTg0NCIsImVtYWlsIjoibmRuZy5taW51cm1lbWl6YWRlQGdtYWlsLmNvbSIsImV4cCI6MTczMTkzMjAyMH0.dykvgg7SwCcSLRsEZo6e59Pdy8zoiArlCqW1rtStKwg' (Size = 4000), @p23='944c7dc9-5337-4674-8e3a-08dd03ede844', @p4='0', @p5='edfd6920-88ff-45dd-a2d9-bb6b0e392ee8' (Size = 4000), @p24='076104db-6cff-45a3-b79d-a17df18697db' (Size = 4000), @p6='ndng.minurmemizade@gmail.com' (Size = 256), @p7='True', @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='' (Nullable = false) (Size = 4000), @p11='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p12='MINURMEMIZADE' (Size = 256), @p13='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p14='' (Nullable = false) (Size = 4000), @p15=NULL (Size = 4000), @p16='False', @p17='ZUAs0uxvEcZnu8c0hUFeTccM1B4cgzQvhgPP2sCR9WbRjKibiPnxt97MgyhsGavlOVG3jGudBJ6Bee+ZZVofiQ==' (Size = 4000), @p18='2025-01-17T15:58:40.4314451+04:00' (Nullable = true), @p19='N5JJA43Z5H7TCLFOWD24K5TKEPPTQ7GK' (Size = 4000), @p20='' (Nullable = false) (Size = 4000), @p21='False', @p22='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUserTokens] SET [Value] = @p0
OUTPUT 1
WHERE [LoginProvider] = @p1 AND [Name] = @p2 AND [UserId] = @p3;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [Name] = @p10, [NormalizedEmail] = @p11, [NormalizedUserName] = @p12, [PasswordHash] = @p13, [Phone] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [RefreshToken] = @p17, [RefreshTokenExpireTime] = @p18, [SecurityStamp] = @p19, [Surname] = @p20, [TwoFactorEnabled] = @p21, [UserName] = @p22
OUTPUT 1
WHERE [Id] = @p23 AND [ConcurrencyStamp] = @p24;
2024-11-18 15:58:40.602 +04:00 [INF] Executing OkObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.ResponseDTO'.
2024-11-18 15:58:40.614 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 2613.9281ms
2024-11-18 15:58:40.617 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 15:58:40.628 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 200 null application/json; charset=utf-8 2777.074ms
2024-11-18 15:59:04.085 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-18 15:59:04.111 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-18 15:59:04.118 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-18 15:59:04.120 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 401 0 null 35.6258ms
2024-11-18 15:59:17.249 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-18 15:59:17.292 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 15:59:17.297 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 15:59:17.358 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year]
FROM [cars] AS [c]
2024-11-18 15:59:17.362 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 15:59:17.369 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 70.4812ms
2024-11-18 15:59:17.372 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 15:59:17.373 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 124.4353ms
2024-11-18 16:00:09.712 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Car/AddCar - multipart/form-data; boundary=----WebKitFormBoundaryvmbdnPaqjUof3XD7 392526
2024-11-18 16:00:09.717 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi)'
2024-11-18 16:00:09.723 +04:00 [INF] Route matched with {action = "AddCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCar(CarMarketplaceWebApi.Models.DTOs.CarDTO) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 16:00:09.798 +04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-18 16:00:09.815 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi) in 88.0176ms
2024-11-18 16:00:09.818 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi)'
2024-11-18 16:00:09.828 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Car/AddCar - 400 null application/problem+json; charset=utf-8 117.5934ms
2024-11-18 16:14:28.584 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 16:14:28.870 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 16:14:28.912 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 16:14:28.913 +04:00 [INF] Hosting environment: Development
2024-11-18 16:14:28.914 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 16:14:29.356 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 16:14:29.547 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 197.4895ms
2024-11-18 16:14:29.592 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 16:14:29.597 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 5.6805ms
2024-11-18 16:14:29.676 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 16:14:29.716 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.7075ms
2024-11-18 16:14:29.849 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 16:14:29.859 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.8311ms
2024-11-18 16:15:15.857 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 16:15:20.934 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 16:15:21.245 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-18 16:15:21.270 +04:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-18 16:15:21.272 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-18 16:15:21.272 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-18 16:15:21.299 +04:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-18 16:15:21.311 +04:00 [INF] Applying migration '20241118121516_v5'.
2024-11-18 16:15:21.429 +04:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Seller]') AND [c].[name] = N'Surname');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Seller] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Seller] ALTER COLUMN [Surname] nvarchar(max) NULL;
2024-11-18 16:15:21.443 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Seller]') AND [c].[name] = N'Phone');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Seller] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Seller] ALTER COLUMN [Phone] nvarchar(max) NULL;
2024-11-18 16:15:21.455 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Seller]') AND [c].[name] = N'Name');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [Seller] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [Seller] ALTER COLUMN [Name] nvarchar(max) NULL;
2024-11-18 16:15:21.457 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241118121516_v5', N'8.0.10');
2024-11-18 16:15:28.692 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 16:15:28.882 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 16:15:28.959 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 16:15:28.960 +04:00 [INF] Hosting environment: Development
2024-11-18 16:15:28.962 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 16:15:29.312 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 16:15:29.560 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 252.4322ms
2024-11-18 16:15:29.707 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 16:15:29.707 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 16:15:29.711 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 4.5243ms
2024-11-18 16:15:29.747 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.3009ms
2024-11-18 16:15:29.893 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 16:15:29.906 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.1351ms
2024-11-18 16:16:02.846 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 16:16:02.998 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 16:16:03.038 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 16:16:03.039 +04:00 [INF] Hosting environment: Development
2024-11-18 16:16:03.039 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 16:16:03.485 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 16:16:03.638 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 157.6405ms
2024-11-18 16:16:03.672 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 16:16:03.676 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 4.0078ms
2024-11-18 16:16:03.811 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 16:16:03.839 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.4801ms
2024-11-18 16:16:04.060 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 16:16:04.069 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.1554ms
2024-11-18 16:16:30.991 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 16:16:31.172 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 16:16:31.216 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 16:16:31.218 +04:00 [INF] Hosting environment: Development
2024-11-18 16:16:31.219 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 16:16:31.752 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 16:16:31.921 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 172.4654ms
2024-11-18 16:16:31.949 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 16:16:31.957 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 8.3215ms
2024-11-18 16:16:32.026 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 16:16:32.056 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.802ms
2024-11-18 16:16:32.198 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 16:16:32.208 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.2885ms
2024-11-18 16:17:06.620 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Register/Register - multipart/form-data; boundary=----WebKitFormBoundaryIqcAYE9vTIZeH8me 652
2024-11-18 16:17:06.650 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-18 16:17:06.715 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Register (CarMarketplaceWebApi)'
2024-11-18 16:17:06.750 +04:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CarMarketplaceWebApi.Models.DTOs.RegisterDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-18 16:17:07.944 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 16:17:08.907 +04:00 [INF] Executed DbCommand (69ms) [Parameters=[@__normalizedUserName_0='ASDDSA' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 16:17:09.180 +04:00 [ERR] Failed executing DbCommand (18ms) [Parameters=[@p0='02fe04b3-c742-4c6a-8ea4-08dd07caec89', @p1='0', @p2='7ad47535-a4cd-4ccb-bff7-443559c1d58f' (Size = 4000), @p3='asd@example.com' (Size = 256), @p4='False', @p5='True', @p6=NULL (DbType = DateTimeOffset), @p7=NULL (Nullable = false) (Size = 4000), @p8='ASD@EXAMPLE.COM' (Size = 256), @p9='ASDDSA' (Size = 256), @p10='AQAAAAIAAYagAAAAEEHhlpaEYjYq9oJyREy6fxrVzvIYTAznZzDRnMIobumUVFpiwWhlhXbxRNKWatE02Q==' (Size = 4000), @p11=NULL (Nullable = false) (Size = 4000), @p12=NULL (Size = 4000), @p13='False', @p14=NULL (Size = 4000), @p15=NULL (DbType = DateTime2), @p16='OCALDERM64YU3AVGXZKWP7RZ7HUBBODX' (Size = 4000), @p17=NULL (Nullable = false) (Size = 4000), @p18='False', @p19='asddsa' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [Phone], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpireTime], [SecurityStamp], [Surname], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
2024-11-18 16:17:09.211 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'CarMarketplaceWebApi.Context.AppDBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Name', table 'WebApiArc.dbo.AspNetUsers'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:82a825b2-6f17-425a-b015-091a6b4aa73a
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Name', table 'WebApiArc.dbo.AspNetUsers'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:82a825b2-6f17-425a-b015-091a6b4aa73a
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-11-18 16:17:09.413 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Register (CarMarketplaceWebApi) in 2652.826ms
2024-11-18 16:17:09.418 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Register (CarMarketplaceWebApi)'
2024-11-18 16:17:09.424 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Name', table 'WebApiArc.dbo.AspNetUsers'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:82a825b2-6f17-425a-b015-091a6b4aa73a
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.CreateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at CarMarketplaceWebApi.Services.Implementations.AuthService.RegisterAsync(RegisterDTO registerDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Services\Implementations\AuthService.cs:line 77
   at CarMarketplaceWebApi.Controllers.AuthController.Register(RegisterDTO registerDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Controllers\AuthController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-18 16:17:09.512 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Register/Register - 500 null text/plain; charset=utf-8 2892.1577ms
2024-11-18 16:17:31.492 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Register/Register - multipart/form-data; boundary=----WebKitFormBoundarym8LQ9ZE8ZjXvQkZN 655
2024-11-18 16:17:31.505 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Register (CarMarketplaceWebApi)'
2024-11-18 16:17:31.506 +04:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CarMarketplaceWebApi.Models.DTOs.RegisterDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-18 16:17:31.674 +04:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='ASDDSA' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[Surname], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 16:17:31.689 +04:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p0='60f5a101-e5a1-48cb-8ea5-08dd07caec89', @p1='0', @p2='bf93180f-f34f-4e5b-b65f-e309d9c961f0' (Size = 4000), @p3='asd@example.com' (Size = 256), @p4='False', @p5='True', @p6=NULL (DbType = DateTimeOffset), @p7=NULL (Nullable = false) (Size = 4000), @p8='ASD@EXAMPLE.COM' (Size = 256), @p9='ASDDSA' (Size = 256), @p10='AQAAAAIAAYagAAAAEDqLsmZZ9HEhXV3PUbiyUPiblfBUJfLCQote+qk3E7PJGvPxr4y65XrqOROyY0kDlA==' (Size = 4000), @p11=NULL (Nullable = false) (Size = 4000), @p12=NULL (Size = 4000), @p13='False', @p14=NULL (Size = 4000), @p15=NULL (DbType = DateTime2), @p16='MJP4RXHPKDJUQSBH3X2XH3F6NSGYHSQE' (Size = 4000), @p17=NULL (Nullable = false) (Size = 4000), @p18='False', @p19='asddsa' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [Phone], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpireTime], [SecurityStamp], [Surname], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
2024-11-18 16:17:31.705 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'CarMarketplaceWebApi.Context.AppDBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Name', table 'WebApiArc.dbo.AspNetUsers'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:82a825b2-6f17-425a-b015-091a6b4aa73a
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Name', table 'WebApiArc.dbo.AspNetUsers'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:82a825b2-6f17-425a-b015-091a6b4aa73a
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-11-18 16:17:31.842 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Register (CarMarketplaceWebApi) in 331.8176ms
2024-11-18 16:17:31.845 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Register (CarMarketplaceWebApi)'
2024-11-18 16:17:31.847 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Name', table 'WebApiArc.dbo.AspNetUsers'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:82a825b2-6f17-425a-b015-091a6b4aa73a
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.CreateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at CarMarketplaceWebApi.Services.Implementations.AuthService.RegisterAsync(RegisterDTO registerDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Services\Implementations\AuthService.cs:line 77
   at CarMarketplaceWebApi.Controllers.AuthController.Register(RegisterDTO registerDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Controllers\AuthController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-18 16:17:31.901 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Register/Register - 500 null text/plain; charset=utf-8 408.5502ms
2024-11-18 16:20:25.874 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 16:20:29.431 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 16:20:29.702 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-18 16:20:29.717 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-18 16:20:29.718 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-18 16:20:29.718 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-18 16:20:29.732 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-18 16:20:29.740 +04:00 [INF] Applying migration '20241118122026_v5.1'.
2024-11-18 16:20:29.788 +04:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Seller]') AND [c].[name] = N'Name');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Seller] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Seller] DROP COLUMN [Name];
2024-11-18 16:20:29.801 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AspNetUsers]') AND [c].[name] = N'Name');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [AspNetUsers] DROP COLUMN [Name];
2024-11-18 16:20:29.813 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AspNetUsers]') AND [c].[name] = N'Surname');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [AspNetUsers] DROP COLUMN [Surname];
2024-11-18 16:20:29.963 +04:00 [INF] Executed DbCommand (150ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Seller].[Surname]', N'UserName', N'COLUMN';
2024-11-18 16:20:30.691 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241118122026_v5.1', N'8.0.10');
2024-11-18 16:20:36.705 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 16:20:36.896 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 16:20:36.946 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 16:20:36.947 +04:00 [INF] Hosting environment: Development
2024-11-18 16:20:36.948 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 16:20:37.504 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 16:20:37.672 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 172.5695ms
2024-11-18 16:20:37.824 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 16:20:37.824 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 16:20:37.828 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 3.7314ms
2024-11-18 16:20:37.852 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.5171ms
2024-11-18 16:20:38.018 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 16:20:38.025 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 6.8111ms
2024-11-18 16:20:57.462 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 16:20:57.629 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 16:20:57.669 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 16:20:57.670 +04:00 [INF] Hosting environment: Development
2024-11-18 16:20:57.671 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 16:20:58.247 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 16:20:58.424 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 182.6083ms
2024-11-18 16:20:58.456 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 16:20:58.463 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 7.9879ms
2024-11-18 16:20:58.546 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 16:20:58.585 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.5596ms
2024-11-18 16:20:58.734 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 16:20:58.744 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.7457ms
2024-11-18 16:21:17.410 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Register/Register - multipart/form-data; boundary=----WebKitFormBoundaryraI9gYdsnu5Qu0SC 548
2024-11-18 16:21:17.427 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-18 16:21:17.462 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Register (CarMarketplaceWebApi)'
2024-11-18 16:21:17.478 +04:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CarMarketplaceWebApi.Models.DTOs.RegisterDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-18 16:21:18.373 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 16:21:19.273 +04:00 [INF] Executed DbCommand (66ms) [Parameters=[@__normalizedUserName_0='ASDDSA' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 16:21:19.507 +04:00 [ERR] Failed executing DbCommand (13ms) [Parameters=[@p0='683cfdec-0855-43f8-da7c-08dd07cb81c1', @p1='0', @p2='f6f7f6dd-a299-433d-8355-17bd8ca43cd0' (Size = 4000), @p3='asd@example.com' (Size = 256), @p4='False', @p5='True', @p6=NULL (DbType = DateTimeOffset), @p7='ASD@EXAMPLE.COM' (Size = 256), @p8='ASDDSA' (Size = 256), @p9='AQAAAAIAAYagAAAAEO+lQnW8P5mPpyloWk5Xr5pDzEV/C56j+utLsy7jMq42Bzcsbek5vQSeafjMvAaYbQ==' (Size = 4000), @p10=NULL (Nullable = false) (Size = 4000), @p11=NULL (Size = 4000), @p12='False', @p13=NULL (Size = 4000), @p14=NULL (DbType = DateTime2), @p15='LECJIKC7VNUSVDNT3ZHLKRTANIBYCBAK' (Size = 4000), @p16='False', @p17='asddsa' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [Phone], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpireTime], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2024-11-18 16:21:19.531 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'CarMarketplaceWebApi.Context.AppDBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Phone', table 'WebApiArc.dbo.AspNetUsers'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07a2ef3a-9d3e-472e-ac26-f7cb19cafbfc
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Phone', table 'WebApiArc.dbo.AspNetUsers'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07a2ef3a-9d3e-472e-ac26-f7cb19cafbfc
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-11-18 16:21:19.689 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Register (CarMarketplaceWebApi) in 2204.3142ms
2024-11-18 16:21:19.694 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Register (CarMarketplaceWebApi)'
2024-11-18 16:21:19.698 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Phone', table 'WebApiArc.dbo.AspNetUsers'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:07a2ef3a-9d3e-472e-ac26-f7cb19cafbfc
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.CreateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at CarMarketplaceWebApi.Services.Implementations.AuthService.RegisterAsync(RegisterDTO registerDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Services\Implementations\AuthService.cs:line 77
   at CarMarketplaceWebApi.Controllers.AuthController.Register(RegisterDTO registerDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Controllers\AuthController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-18 16:21:19.750 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Register/Register - 500 null text/plain; charset=utf-8 2340.1906ms
2024-11-18 16:22:13.866 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 16:22:17.988 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 16:22:18.241 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-18 16:22:18.257 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-18 16:22:18.259 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-18 16:22:18.259 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-18 16:22:18.270 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-18 16:22:18.279 +04:00 [INF] Applying migration '20241118122214_v5.2'.
2024-11-18 16:22:18.426 +04:00 [INF] Executed DbCommand (126ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Seller].[Phone]', N'Email', N'COLUMN';
2024-11-18 16:22:18.428 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241118122214_v5.2', N'8.0.10');
2024-11-18 16:22:23.393 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 16:22:23.558 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 16:22:23.592 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 16:22:23.593 +04:00 [INF] Hosting environment: Development
2024-11-18 16:22:23.594 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 16:22:24.160 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 16:22:24.353 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 196.9262ms
2024-11-18 16:22:24.375 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 16:22:24.381 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 6.1965ms
2024-11-18 16:22:24.460 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 16:22:24.495 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.3971ms
2024-11-18 16:22:24.639 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 16:22:24.646 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.196ms
2024-11-18 16:22:44.402 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Register/Register - multipart/form-data; boundary=----WebKitFormBoundary66UTBcYXqKju3fZ4 548
2024-11-18 16:22:44.417 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-18 16:22:44.464 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Register (CarMarketplaceWebApi)'
2024-11-18 16:22:44.479 +04:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CarMarketplaceWebApi.Models.DTOs.RegisterDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-18 16:22:45.539 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 16:22:46.344 +04:00 [INF] Executed DbCommand (56ms) [Parameters=[@__normalizedUserName_0='ASDSDA' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 16:22:46.637 +04:00 [ERR] Failed executing DbCommand (9ms) [Parameters=[@p0='91b3a0ed-b8a0-43b6-bfca-08dd07cbb5af', @p1='0', @p2='fd185129-0434-41e2-a1fa-a71355314421' (Size = 4000), @p3='asd@example.com' (Size = 256), @p4='False', @p5='True', @p6=NULL (DbType = DateTimeOffset), @p7='ASD@EXAMPLE.COM' (Size = 256), @p8='ASDSDA' (Size = 256), @p9='AQAAAAIAAYagAAAAEN0IJuVOrP9ArkAYi9j89eKeimUcrrfiDnO2GuVmGHgefMm1RHNed9i6tlUjzVAuKg==' (Size = 4000), @p10=NULL (Nullable = false) (Size = 4000), @p11=NULL (Size = 4000), @p12='False', @p13=NULL (Size = 4000), @p14=NULL (DbType = DateTime2), @p15='AMXTBGEXGGRDDV4K5OWX5IUYQX4DJTCR' (Size = 4000), @p16='False', @p17='asdsda' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [Phone], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpireTime], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2024-11-18 16:22:46.665 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'CarMarketplaceWebApi.Context.AppDBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Phone', table 'WebApiArc.dbo.AspNetUsers'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:0724a8b6-7256-40eb-a518-dcf39ff79b41
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Phone', table 'WebApiArc.dbo.AspNetUsers'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:0724a8b6-7256-40eb-a518-dcf39ff79b41
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-11-18 16:22:46.874 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Register (CarMarketplaceWebApi) in 2388.5136ms
2024-11-18 16:22:46.879 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Register (CarMarketplaceWebApi)'
2024-11-18 16:22:46.883 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Phone', table 'WebApiArc.dbo.AspNetUsers'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:0724a8b6-7256-40eb-a518-dcf39ff79b41
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.CreateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at CarMarketplaceWebApi.Services.Implementations.AuthService.RegisterAsync(RegisterDTO registerDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Services\Implementations\AuthService.cs:line 77
   at CarMarketplaceWebApi.Controllers.AuthController.Register(RegisterDTO registerDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Controllers\AuthController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-18 16:22:46.961 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Register/Register - 500 null text/plain; charset=utf-8 2559.0704ms
2024-11-18 16:23:22.897 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 16:23:26.159 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 16:23:26.449 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-18 16:23:26.468 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-18 16:23:26.470 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-18 16:23:26.471 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-18 16:23:26.484 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-18 16:23:26.494 +04:00 [INF] Applying migration '20241118122323_v5.3'.
2024-11-18 16:23:26.545 +04:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AspNetUsers]') AND [c].[name] = N'Phone');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [AspNetUsers] DROP COLUMN [Phone];
2024-11-18 16:23:26.547 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241118122323_v5.3', N'8.0.10');
2024-11-18 16:23:32.023 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 16:23:32.197 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 16:23:32.235 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 16:23:32.237 +04:00 [INF] Hosting environment: Development
2024-11-18 16:23:32.238 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 16:23:32.755 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 16:23:32.930 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 180.2807ms
2024-11-18 16:23:32.955 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 16:23:32.962 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 7.3211ms
2024-11-18 16:23:33.047 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 16:23:33.086 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.8626ms
2024-11-18 16:23:33.241 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 16:23:33.251 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.0091ms
2024-11-18 16:23:54.726 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Register/Register - multipart/form-data; boundary=----WebKitFormBoundaryfXfiY5gZV0PsQz4N 545
2024-11-18 16:23:54.736 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-18 16:23:54.786 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Register (CarMarketplaceWebApi)'
2024-11-18 16:23:54.812 +04:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CarMarketplaceWebApi.Models.DTOs.RegisterDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-18 16:23:55.638 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 16:23:56.561 +04:00 [INF] Executed DbCommand (58ms) [Parameters=[@__normalizedUserName_0='ASD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 16:23:56.716 +04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-11-18 16:23:56.750 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Register (CarMarketplaceWebApi) in 1932.2501ms
2024-11-18 16:23:56.754 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Register (CarMarketplaceWebApi)'
2024-11-18 16:23:56.762 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Register/Register - 201 null text/plain; charset=utf-8 2036.0357ms
2024-11-18 16:24:58.090 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 16:24:58.247 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 16:24:58.291 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 16:24:58.292 +04:00 [INF] Hosting environment: Development
2024-11-18 16:24:58.292 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 16:24:58.853 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 16:24:58.989 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 140.2268ms
2024-11-18 16:24:59.108 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 16:24:59.108 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 16:24:59.113 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 4.845ms
2024-11-18 16:24:59.134 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.2829ms
2024-11-18 16:24:59.243 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 16:24:59.252 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.9938ms
2024-11-18 16:25:25.315 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundaryGmYkgLqS61NH4nyg 256
2024-11-18 16:25:25.335 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-18 16:25:25.371 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 16:25:25.393 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-18 16:25:26.000 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 16:25:26.832 +04:00 [INF] Executed DbCommand (44ms) [Parameters=[@__normalizedEmail_0='ASD@EXAMPLE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-18 16:25:26.931 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 1533.9905ms
2024-11-18 16:25:26.933 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 16:25:26.935 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Email or Password is incorrect.
   at CarMarketplaceWebApi.Services.Implementations.AuthService.LoginAsync(LoginDTO loginDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Services\Implementations\AuthService.cs:line 31
   at CarMarketplaceWebApi.Controllers.AuthController.Login(LoginDTO loginDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Controllers\AuthController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-18 16:25:26.961 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 500 null text/plain; charset=utf-8 1645.8127ms
2024-11-18 16:25:43.756 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Register/Register - multipart/form-data; boundary=----WebKitFormBoundaryeUWvaBsxuiUljx2N 548
2024-11-18 16:25:43.763 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Register (CarMarketplaceWebApi)'
2024-11-18 16:25:43.770 +04:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CarMarketplaceWebApi.Models.DTOs.RegisterDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-18 16:25:43.941 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='ASDDSA' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 16:25:44.123 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='8a3b9387-a180-4ca5-381f-08dd07cc1f80', @p1='0', @p2='107dd8d7-7e5f-45c6-b336-7d8edfee8844' (Size = 4000), @p3='asd@example.com' (Size = 256), @p4='False', @p5='True', @p6=NULL (DbType = DateTimeOffset), @p7='ASD@EXAMPLE.COM' (Size = 256), @p8='ASDDSA' (Size = 256), @p9='AQAAAAIAAYagAAAAEOS/vS0IeYA+LklvaLDE+MIyq9ltYk3FH2ye1dcQ3A01wzcFsP/rGBvJARjzNQBBIQ==' (Size = 4000), @p10=NULL (Size = 4000), @p11='False', @p12=NULL (Size = 4000), @p13=NULL (DbType = DateTime2), @p14='KKLRLJVWWE6BC52LJQTMCHSUBVIYXXAQ' (Size = 4000), @p15='False', @p16='asddsa' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpireTime], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2024-11-18 16:25:44.153 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-11-18 16:25:44.388 +04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-11-18 16:25:44.392 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Register (CarMarketplaceWebApi) in 617.485ms
2024-11-18 16:25:44.393 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Register (CarMarketplaceWebApi)'
2024-11-18 16:25:44.394 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Register/Register - 201 null text/plain; charset=utf-8 638.3365ms
2024-11-18 16:26:21.098 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/VerifyEmail/VerifyEmail - multipart/form-data; boundary=----WebKitFormBoundaryjVwN6mUP92TA0Aol 714
2024-11-18 16:26:21.106 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.VerifyEmail (CarMarketplaceWebApi)'
2024-11-18 16:26:21.112 +04:00 [INF] Route matched with {action = "VerifyEmail", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyEmail(CarMarketplaceWebApi.Models.DTOs.VerificationDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-18 16:26:21.144 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='ASD@EXAMPLE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-18 16:26:21.158 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='ASDDSA' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 16:26:21.184 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p16='8a3b9387-a180-4ca5-381f-08dd07cc1f80', @p0='0', @p1='d3dbdf76-a058-499a-9d4d-b687956c8784' (Size = 4000), @p17='107dd8d7-7e5f-45c6-b336-7d8edfee8844' (Size = 4000), @p2='asd@example.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='ASD@EXAMPLE.COM' (Size = 256), @p7='ASDDSA' (Size = 256), @p8='AQAAAAIAAYagAAAAEOS/vS0IeYA+LklvaLDE+MIyq9ltYk3FH2ye1dcQ3A01wzcFsP/rGBvJARjzNQBBIQ==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11=NULL (Size = 4000), @p12=NULL (DbType = DateTime2), @p13='KKLRLJVWWE6BC52LJQTMCHSUBVIYXXAQ' (Size = 4000), @p14='False', @p15='asddsa' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 16:26:21.192 +04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-11-18 16:26:21.195 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.VerifyEmail (CarMarketplaceWebApi) in 80.7044ms
2024-11-18 16:26:21.199 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.VerifyEmail (CarMarketplaceWebApi)'
2024-11-18 16:26:21.201 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/VerifyEmail/VerifyEmail - 202 null text/plain; charset=utf-8 103.8866ms
2024-11-18 16:26:30.873 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundaryB3BPCeZX4FAFg8bQ 256
2024-11-18 16:26:30.876 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 16:26:30.877 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-18 16:26:30.884 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='ASD@EXAMPLE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-18 16:26:30.984 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='8a3b9387-a180-4ca5-381f-08dd07cc1f80'], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-18 16:26:31.011 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='ASDDSA' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 16:26:31.038 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='jti' (Size = 4000), @p1='8c6f0024-5a9a-4110-9728-08241df77c2e' (Size = 4000), @p2='8a3b9387-a180-4ca5-381f-08dd07cc1f80', @p3='http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier' (Size = 4000), @p4='8a3b9387-a180-4ca5-381f-08dd07cc1f80' (Size = 4000), @p5='8a3b9387-a180-4ca5-381f-08dd07cc1f80', @p6='email' (Size = 4000), @p7='asd@example.com' (Size = 4000), @p8='8a3b9387-a180-4ca5-381f-08dd07cc1f80', @p25='8a3b9387-a180-4ca5-381f-08dd07cc1f80', @p9='0', @p10='085d65ec-db39-4208-b520-d5ad4feb8966' (Size = 4000), @p26='d3dbdf76-a058-499a-9d4d-b687956c8784' (Size = 4000), @p11='asd@example.com' (Size = 256), @p12='True', @p13='True', @p14=NULL (DbType = DateTimeOffset), @p15='ASD@EXAMPLE.COM' (Size = 256), @p16='ASDDSA' (Size = 256), @p17='AQAAAAIAAYagAAAAEOS/vS0IeYA+LklvaLDE+MIyq9ltYk3FH2ye1dcQ3A01wzcFsP/rGBvJARjzNQBBIQ==' (Size = 4000), @p18=NULL (Size = 4000), @p19='False', @p20=NULL (Size = 4000), @p21=NULL (DbType = DateTime2), @p22='KKLRLJVWWE6BC52LJQTMCHSUBVIYXXAQ' (Size = 4000), @p23='False', @p24='asddsa' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [AspNetUserClaims] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2)) AS i ([ClaimType], [ClaimValue], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClaimType], [ClaimValue], [UserId])
VALUES (i.[ClaimType], i.[ClaimValue], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [RefreshToken] = @p20, [RefreshTokenExpireTime] = @p21, [SecurityStamp] = @p22, [TwoFactorEnabled] = @p23, [UserName] = @p24
OUTPUT 1
WHERE [Id] = @p25 AND [ConcurrencyStamp] = @p26;
2024-11-18 16:26:31.062 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='ASDDSA' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 16:26:31.070 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p16='8a3b9387-a180-4ca5-381f-08dd07cc1f80', @p0='0', @p1='51213268-1867-4b07-a6b3-ad2f54d41b01' (Size = 4000), @p17='085d65ec-db39-4208-b520-d5ad4feb8966' (Size = 4000), @p2='asd@example.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='ASD@EXAMPLE.COM' (Size = 256), @p7='ASDDSA' (Size = 256), @p8='AQAAAAIAAYagAAAAEOS/vS0IeYA+LklvaLDE+MIyq9ltYk3FH2ye1dcQ3A01wzcFsP/rGBvJARjzNQBBIQ==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='rYSz8Xq8UkrnihCYZ/Su7/exoXYogomkSZU1RmJJeDhQkuhyznZTiMLqe7ecknIgbfQrhK4Wsk2qw8KGdx6Xxg==' (Size = 4000), @p12='2025-01-17T16:26:31.0609994+04:00' (Nullable = true), @p13='KKLRLJVWWE6BC52LJQTMCHSUBVIYXXAQ' (Size = 4000), @p14='False', @p15='asddsa' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 16:26:31.077 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='ASDDSA' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 16:26:31.085 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p16='8a3b9387-a180-4ca5-381f-08dd07cc1f80', @p0='0', @p1='1e483d77-8138-406b-81d5-065f4adba065' (Size = 4000), @p17='51213268-1867-4b07-a6b3-ad2f54d41b01' (Size = 4000), @p2='asd@example.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='ASD@EXAMPLE.COM' (Size = 256), @p7='ASDDSA' (Size = 256), @p8='AQAAAAIAAYagAAAAEOS/vS0IeYA+LklvaLDE+MIyq9ltYk3FH2ye1dcQ3A01wzcFsP/rGBvJARjzNQBBIQ==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='rYSz8Xq8UkrnihCYZ/Su7/exoXYogomkSZU1RmJJeDhQkuhyznZTiMLqe7ecknIgbfQrhK4Wsk2qw8KGdx6Xxg==' (Size = 4000), @p12='2025-01-17T16:26:31.0609994+04:00' (Nullable = true), @p13='7DDMEUVZNUSSJZSQGCQY534WDB4RYIJU' (Size = 4000), @p14='False', @p15='asddsa' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 16:26:31.148 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='8a3b9387-a180-4ca5-381f-08dd07cc1f80' (Nullable = true), @__p_1='Default' (Size = 450), @__p_2='AccessToken' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[LoginProvider] = @__p_1 AND [a].[Name] = @__p_2
2024-11-18 16:26:31.165 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='ASDDSA' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 16:26:31.177 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='Default' (Nullable = false) (Size = 450), @p1='AccessToken' (Nullable = false) (Size = 450), @p2='8a3b9387-a180-4ca5-381f-08dd07cc1f80', @p3='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI4YzZmMDAyNC01YTlhLTQxMTAtOTcyOC0wODI0MWRmNzdjMmUiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjhhM2I5Mzg3LWExODAtNGNhNS0zODFmLTA4ZGQwN2NjMWY4MCIsImVtYWlsIjoiYXNkQGV4YW1wbGUuY29tIiwiZXhwIjoxNzMxOTMzNjkwfQ.deKhBt5Vb7xm_hT0hN99LLfswvwb4crkOS8gisebrUg' (Size = 4000), @p20='8a3b9387-a180-4ca5-381f-08dd07cc1f80', @p4='0', @p5='9452ee9d-eba1-41f7-92f7-b3307fe3b666' (Size = 4000), @p21='1e483d77-8138-406b-81d5-065f4adba065' (Size = 4000), @p6='asd@example.com' (Size = 256), @p7='True', @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='ASD@EXAMPLE.COM' (Size = 256), @p11='ASDDSA' (Size = 256), @p12='AQAAAAIAAYagAAAAEOS/vS0IeYA+LklvaLDE+MIyq9ltYk3FH2ye1dcQ3A01wzcFsP/rGBvJARjzNQBBIQ==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='rYSz8Xq8UkrnihCYZ/Su7/exoXYogomkSZU1RmJJeDhQkuhyznZTiMLqe7ecknIgbfQrhK4Wsk2qw8KGdx6Xxg==' (Size = 4000), @p16='2025-01-17T16:26:31.0609994+04:00' (Nullable = true), @p17='7DDMEUVZNUSSJZSQGCQY534WDB4RYIJU' (Size = 4000), @p18='False', @p19='asddsa' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserTokens] ([LoginProvider], [Name], [UserId], [Value])
VALUES (@p0, @p1, @p2, @p3);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpireTime] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-11-18 16:26:31.189 +04:00 [INF] Executing OkObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.ResponseDTO'.
2024-11-18 16:26:31.197 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 316.2145ms
2024-11-18 16:26:31.198 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 16:26:31.199 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 200 null application/json; charset=utf-8 326.3437ms
2024-11-18 16:27:20.239 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Car/AddCar - multipart/form-data; boundary=----WebKitFormBoundarygtXCz5Zv4Ik5fitW 392422
2024-11-18 16:27:20.295 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi)'
2024-11-18 16:27:20.301 +04:00 [INF] Route matched with {action = "AddCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCar(CarMarketplaceWebApi.Models.DTOs.CarDTO) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 16:27:20.364 +04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-18 16:27:20.380 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi) in 75.1562ms
2024-11-18 16:27:20.382 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi)'
2024-11-18 16:27:20.391 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Car/AddCar - 400 null application/problem+json; charset=utf-8 152.9531ms
2024-11-18 16:42:29.370 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 16:42:29.543 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 16:42:29.602 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 16:42:29.603 +04:00 [INF] Hosting environment: Development
2024-11-18 16:42:29.604 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 16:42:29.884 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 16:42:30.086 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 205.8122ms
2024-11-18 16:42:30.106 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 16:42:30.113 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 7.0864ms
2024-11-18 16:42:30.201 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 16:42:30.229 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.9828ms
2024-11-18 16:42:30.362 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 16:42:30.368 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 5.9892ms
2024-11-18 16:42:44.812 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundary0UouKqtIQY6w3XbZ 256
2024-11-18 16:42:44.826 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-18 16:42:44.865 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 16:42:44.895 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-18 16:42:45.481 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 16:42:46.273 +04:00 [INF] Executed DbCommand (46ms) [Parameters=[@__normalizedEmail_0='ASD@EXAMPLE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-18 16:42:46.548 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='8a3b9387-a180-4ca5-381f-08dd07cc1f80'], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-18 16:42:46.589 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='ASDDSA' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 16:42:46.740 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='jti' (Size = 4000), @p1='42d94870-83cd-4ca1-9ae0-b3738dff0b3e' (Size = 4000), @p2='8a3b9387-a180-4ca5-381f-08dd07cc1f80', @p3='http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier' (Size = 4000), @p4='8a3b9387-a180-4ca5-381f-08dd07cc1f80' (Size = 4000), @p5='8a3b9387-a180-4ca5-381f-08dd07cc1f80', @p6='email' (Size = 4000), @p7='asd@example.com' (Size = 4000), @p8='8a3b9387-a180-4ca5-381f-08dd07cc1f80', @p25='8a3b9387-a180-4ca5-381f-08dd07cc1f80', @p9='0', @p10='26adbae8-404d-41d6-a775-7afd6821be60' (Size = 4000), @p26='9452ee9d-eba1-41f7-92f7-b3307fe3b666' (Size = 4000), @p11='asd@example.com' (Size = 256), @p12='True', @p13='True', @p14=NULL (DbType = DateTimeOffset), @p15='ASD@EXAMPLE.COM' (Size = 256), @p16='ASDDSA' (Size = 256), @p17='AQAAAAIAAYagAAAAEOS/vS0IeYA+LklvaLDE+MIyq9ltYk3FH2ye1dcQ3A01wzcFsP/rGBvJARjzNQBBIQ==' (Size = 4000), @p18=NULL (Size = 4000), @p19='False', @p20='rYSz8Xq8UkrnihCYZ/Su7/exoXYogomkSZU1RmJJeDhQkuhyznZTiMLqe7ecknIgbfQrhK4Wsk2qw8KGdx6Xxg==' (Size = 4000), @p21='2025-01-17T16:26:31.0609994' (Nullable = true), @p22='7DDMEUVZNUSSJZSQGCQY534WDB4RYIJU' (Size = 4000), @p23='False', @p24='asddsa' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [AspNetUserClaims] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2)) AS i ([ClaimType], [ClaimValue], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClaimType], [ClaimValue], [UserId])
VALUES (i.[ClaimType], i.[ClaimValue], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [RefreshToken] = @p20, [RefreshTokenExpireTime] = @p21, [SecurityStamp] = @p22, [TwoFactorEnabled] = @p23, [UserName] = @p24
OUTPUT 1
WHERE [Id] = @p25 AND [ConcurrencyStamp] = @p26;
2024-11-18 16:42:46.787 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='ASDDSA' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 16:42:46.793 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p16='8a3b9387-a180-4ca5-381f-08dd07cc1f80', @p0='0', @p1='7b5454d4-9d88-473a-875a-f574367aedba' (Size = 4000), @p17='26adbae8-404d-41d6-a775-7afd6821be60' (Size = 4000), @p2='asd@example.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='ASD@EXAMPLE.COM' (Size = 256), @p7='ASDDSA' (Size = 256), @p8='AQAAAAIAAYagAAAAEOS/vS0IeYA+LklvaLDE+MIyq9ltYk3FH2ye1dcQ3A01wzcFsP/rGBvJARjzNQBBIQ==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='yWLmoa2IYFoGrI30PiiCflrhQ7fgdjMquwMqql6gaeKUiC/MD0/FGhDLhoEMKAStcRmYpGYfjCdpSX0tPH0xVA==' (Size = 4000), @p12='2025-01-17T16:42:46.7837863+04:00' (Nullable = true), @p13='7DDMEUVZNUSSJZSQGCQY534WDB4RYIJU' (Size = 4000), @p14='False', @p15='asddsa' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 16:42:46.799 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='ASDDSA' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 16:42:46.803 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p16='8a3b9387-a180-4ca5-381f-08dd07cc1f80', @p0='0', @p1='490163d0-d97a-4198-a9b2-9abe2b914fd7' (Size = 4000), @p17='7b5454d4-9d88-473a-875a-f574367aedba' (Size = 4000), @p2='asd@example.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='ASD@EXAMPLE.COM' (Size = 256), @p7='ASDDSA' (Size = 256), @p8='AQAAAAIAAYagAAAAEOS/vS0IeYA+LklvaLDE+MIyq9ltYk3FH2ye1dcQ3A01wzcFsP/rGBvJARjzNQBBIQ==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='yWLmoa2IYFoGrI30PiiCflrhQ7fgdjMquwMqql6gaeKUiC/MD0/FGhDLhoEMKAStcRmYpGYfjCdpSX0tPH0xVA==' (Size = 4000), @p12='2025-01-17T16:42:46.7837863+04:00' (Nullable = true), @p13='ATVTSH4A235ZSU3RFHAWGMWYZCUYKNXG' (Size = 4000), @p14='False', @p15='asddsa' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 16:42:46.852 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='8a3b9387-a180-4ca5-381f-08dd07cc1f80' (Nullable = true), @__p_1='Default' (Size = 450), @__p_2='AccessToken' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[LoginProvider] = @__p_1 AND [a].[Name] = @__p_2
2024-11-18 16:42:46.867 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='ASDDSA' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 16:42:46.875 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='Default' (Nullable = false) (Size = 450), @p2='AccessToken' (Nullable = false) (Size = 450), @p3='8a3b9387-a180-4ca5-381f-08dd07cc1f80', @p0='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI0MmQ5NDg3MC04M2NkLTRjYTEtOWFlMC1iMzczOGRmZjBiM2UiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjhhM2I5Mzg3LWExODAtNGNhNS0zODFmLTA4ZGQwN2NjMWY4MCIsImVtYWlsIjoiYXNkQGV4YW1wbGUuY29tIiwiZXhwIjoxNzMxOTM0NjY2fQ.DWX841odPC0d7AogvB8ONviuXraVHbLeQEM4mnwj0Tc' (Size = 4000), @p20='8a3b9387-a180-4ca5-381f-08dd07cc1f80', @p4='0', @p5='1013aef1-04e4-4b5b-b492-d977accd0840' (Size = 4000), @p21='490163d0-d97a-4198-a9b2-9abe2b914fd7' (Size = 4000), @p6='asd@example.com' (Size = 256), @p7='True', @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='ASD@EXAMPLE.COM' (Size = 256), @p11='ASDDSA' (Size = 256), @p12='AQAAAAIAAYagAAAAEOS/vS0IeYA+LklvaLDE+MIyq9ltYk3FH2ye1dcQ3A01wzcFsP/rGBvJARjzNQBBIQ==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='yWLmoa2IYFoGrI30PiiCflrhQ7fgdjMquwMqql6gaeKUiC/MD0/FGhDLhoEMKAStcRmYpGYfjCdpSX0tPH0xVA==' (Size = 4000), @p16='2025-01-17T16:42:46.7837863+04:00' (Nullable = true), @p17='ATVTSH4A235ZSU3RFHAWGMWYZCUYKNXG' (Size = 4000), @p18='False', @p19='asddsa' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUserTokens] SET [Value] = @p0
OUTPUT 1
WHERE [LoginProvider] = @p1 AND [Name] = @p2 AND [UserId] = @p3;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpireTime] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-11-18 16:42:46.885 +04:00 [INF] Executing OkObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.ResponseDTO'.
2024-11-18 16:42:46.893 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 1993.1511ms
2024-11-18 16:42:46.895 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 16:42:46.900 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 200 null application/json; charset=utf-8 2088.7663ms
2024-11-18 16:43:32.588 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Car/AddCar - multipart/form-data; boundary=----WebKitFormBoundaryJFaCLuTEaJ68BJRD 392442
2024-11-18 16:43:32.629 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi)'
2024-11-18 16:43:32.634 +04:00 [INF] Route matched with {action = "AddCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCar(CarMarketplaceWebApi.Models.DTOs.CarDTO) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 16:43:32.724 +04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-18 16:43:32.738 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi) in 101.75ms
2024-11-18 16:43:32.744 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi)'
2024-11-18 16:43:32.748 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Car/AddCar - 400 null application/problem+json; charset=utf-8 160.2595ms
2024-11-18 16:43:58.205 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Car/AddCar - multipart/form-data; boundary=----WebKitFormBoundaryzHNb053hrE0HEUQt 392466
2024-11-18 16:43:58.212 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi)'
2024-11-18 16:43:58.214 +04:00 [INF] Route matched with {action = "AddCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCar(CarMarketplaceWebApi.Models.DTOs.CarDTO) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 16:43:58.254 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='8a3b9387-a180-4ca5-381f-08dd07cc1f80' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-18 16:43:58.354 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='b56aab28-033b-4869-9c70-08dd07ceabc8', @p1='asd@example.com' (Size = 4000), @p2='asddsa' (Size = 4000), @p3='0a4a41f8-b9a9-418d-c05d-08dd07ceabc4', @p4='asd' (Nullable = false) (Size = 4000), @p5='asd' (Nullable = false) (Size = 4000), @p6='["https://www.example.com/uploads/63226f34-6341-46a3-add2-d4ca9464e8a2_1920x1080-2605032-pacman-hd-wallpaper-for-free-download.png"]' (Nullable = false) (Size = 4000), @p7='True', @p8='asdas' (Nullable = false) (Size = 4000), @p9='asd' (Nullable = false) (Size = 4000), @p10='asdas' (Nullable = false) (Size = 4000), @p11='123', @p12='b56aab28-033b-4869-9c70-08dd07ceabc8', @p13='asd' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Seller] ([Id], [Email], [UserName])
VALUES (@p0, @p1, @p2);
INSERT INTO [cars] ([Id], [Class], [Color], [ImageUrls], [IsNew], [Make], [Mileage], [Model], [Price], [SellerId], [Year])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2024-11-18 16:43:58.361 +04:00 [INF] Executing ObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.CarDTO'.
2024-11-18 16:43:58.377 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi) in 161.4259ms
2024-11-18 16:43:58.379 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi)'
2024-11-18 16:43:58.381 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Car/AddCar - 201 null application/json; charset=utf-8 175.5472ms
2024-11-18 16:44:08.194 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-18 16:44:08.198 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 16:44:08.202 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 16:44:08.217 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year]
FROM [cars] AS [c]
2024-11-18 16:44:08.221 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 16:44:08.227 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 22.8058ms
2024-11-18 16:44:08.228 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 16:44:08.229 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 35.8676ms
2024-11-18 16:46:05.072 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 16:46:05.207 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 16:46:05.245 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 16:46:05.246 +04:00 [INF] Hosting environment: Development
2024-11-18 16:46:05.247 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 16:46:05.633 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 16:46:05.763 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 134.1929ms
2024-11-18 16:46:05.777 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 16:46:05.782 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 4.6179ms
2024-11-18 16:46:05.849 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 16:46:05.875 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.1364ms
2024-11-18 16:46:05.993 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 16:46:05.999 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 6.1739ms
2024-11-18 16:46:35.562 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundaryAoyNU5DTdR5Zbwwi 269
2024-11-18 16:46:35.598 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-18 16:46:35.643 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 16:46:35.677 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-18 16:46:36.368 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 16:46:37.156 +04:00 [INF] Executed DbCommand (45ms) [Parameters=[@__normalizedEmail_0='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-18 16:46:37.374 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='944c7dc9-5337-4674-8e3a-08dd03ede844'], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-18 16:46:37.417 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 16:46:37.501 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='jti' (Size = 4000), @p1='d0f29651-0944-4a3d-9e6f-9492cf83c81c' (Size = 4000), @p2='944c7dc9-5337-4674-8e3a-08dd03ede844', @p3='http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier' (Size = 4000), @p4='944c7dc9-5337-4674-8e3a-08dd03ede844' (Size = 4000), @p5='944c7dc9-5337-4674-8e3a-08dd03ede844', @p6='email' (Size = 4000), @p7='ndng.minurmemizade@gmail.com' (Size = 4000), @p8='944c7dc9-5337-4674-8e3a-08dd03ede844', @p25='944c7dc9-5337-4674-8e3a-08dd03ede844', @p9='0', @p10='f3e03f00-ebd9-47c2-bcca-a907c1de496d' (Size = 4000), @p26='edfd6920-88ff-45dd-a2d9-bb6b0e392ee8' (Size = 4000), @p11='ndng.minurmemizade@gmail.com' (Size = 256), @p12='True', @p13='True', @p14=NULL (DbType = DateTimeOffset), @p15='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p16='MINURMEMIZADE' (Size = 256), @p17='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p18=NULL (Size = 4000), @p19='False', @p20='ZUAs0uxvEcZnu8c0hUFeTccM1B4cgzQvhgPP2sCR9WbRjKibiPnxt97MgyhsGavlOVG3jGudBJ6Bee+ZZVofiQ==' (Size = 4000), @p21='2025-01-17T15:58:40.4314451' (Nullable = true), @p22='N5JJA43Z5H7TCLFOWD24K5TKEPPTQ7GK' (Size = 4000), @p23='False', @p24='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [AspNetUserClaims] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2)) AS i ([ClaimType], [ClaimValue], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClaimType], [ClaimValue], [UserId])
VALUES (i.[ClaimType], i.[ClaimValue], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [RefreshToken] = @p20, [RefreshTokenExpireTime] = @p21, [SecurityStamp] = @p22, [TwoFactorEnabled] = @p23, [UserName] = @p24
OUTPUT 1
WHERE [Id] = @p25 AND [ConcurrencyStamp] = @p26;
2024-11-18 16:46:37.527 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 16:46:37.532 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='5c41eaa7-4e34-4380-b58c-ea0c18d6ceb8' (Size = 4000), @p17='f3e03f00-ebd9-47c2-bcca-a907c1de496d' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='BkE8nx+l3FloWxSt9t4Ej2V1dGWc6hpgHfeqwnyOva0fwzA4zZYDPCL9rqdzvWKzErWxE9XHpDHKL3+4eMQA3A==' (Size = 4000), @p12='2025-01-17T16:46:37.5247312+04:00' (Nullable = true), @p13='N5JJA43Z5H7TCLFOWD24K5TKEPPTQ7GK' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 16:46:37.537 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 16:46:37.543 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='d973316f-e1d5-4f87-9f79-712f342abf44' (Size = 4000), @p17='5c41eaa7-4e34-4380-b58c-ea0c18d6ceb8' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='BkE8nx+l3FloWxSt9t4Ej2V1dGWc6hpgHfeqwnyOva0fwzA4zZYDPCL9rqdzvWKzErWxE9XHpDHKL3+4eMQA3A==' (Size = 4000), @p12='2025-01-17T16:46:37.5247312+04:00' (Nullable = true), @p13='ZSUEVWJO75DROCDDCFXHNEAJY424XGND' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 16:46:37.616 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true), @__p_1='Default' (Size = 450), @__p_2='AccessToken' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[LoginProvider] = @__p_1 AND [a].[Name] = @__p_2
2024-11-18 16:46:37.629 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 16:46:37.637 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='Default' (Nullable = false) (Size = 450), @p2='AccessToken' (Nullable = false) (Size = 450), @p3='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJkMGYyOTY1MS0wOTQ0LTRhM2QtOWU2Zi05NDkyY2Y4M2M4MWMiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6Ijk0NGM3ZGM5LTUzMzctNDY3NC04ZTNhLTA4ZGQwM2VkZTg0NCIsImVtYWlsIjoibmRuZy5taW51cm1lbWl6YWRlQGdtYWlsLmNvbSIsImV4cCI6MTczMTkzNDg5N30.gJa86klnF8_8PHNkJ9L_SeuU_Eie8UcJpQUUyvSJM_8' (Size = 4000), @p20='944c7dc9-5337-4674-8e3a-08dd03ede844', @p4='0', @p5='3c2ce201-55e0-439c-9764-6e1f2bde27ac' (Size = 4000), @p21='d973316f-e1d5-4f87-9f79-712f342abf44' (Size = 4000), @p6='ndng.minurmemizade@gmail.com' (Size = 256), @p7='True', @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p11='MINURMEMIZADE' (Size = 256), @p12='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='BkE8nx+l3FloWxSt9t4Ej2V1dGWc6hpgHfeqwnyOva0fwzA4zZYDPCL9rqdzvWKzErWxE9XHpDHKL3+4eMQA3A==' (Size = 4000), @p16='2025-01-17T16:46:37.5247312+04:00' (Nullable = true), @p17='ZSUEVWJO75DROCDDCFXHNEAJY424XGND' (Size = 4000), @p18='False', @p19='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUserTokens] SET [Value] = @p0
OUTPUT 1
WHERE [LoginProvider] = @p1 AND [Name] = @p2 AND [UserId] = @p3;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpireTime] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-11-18 16:46:37.646 +04:00 [INF] Executing OkObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.ResponseDTO'.
2024-11-18 16:46:37.657 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 1974.2311ms
2024-11-18 16:46:37.659 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 16:46:37.668 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 200 null application/json; charset=utf-8 2106.0582ms
2024-11-18 16:46:58.741 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-18 16:46:58.770 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-18 16:46:58.785 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-18 16:46:58.786 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 401 0 null 45.01ms
2024-11-18 16:47:10.151 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundaryZOyqpInqWh9SdjJo 269
2024-11-18 16:47:10.182 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 16:47:10.184 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-18 16:47:10.236 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-18 16:47:10.342 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='944c7dc9-5337-4674-8e3a-08dd03ede844'], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-18 16:47:10.346 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 16:47:10.350 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='jti' (Size = 4000), @p1='b1767fe2-23f4-4358-ba63-71cb86ddf0c9' (Size = 4000), @p2='944c7dc9-5337-4674-8e3a-08dd03ede844', @p3='http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier' (Size = 4000), @p4='944c7dc9-5337-4674-8e3a-08dd03ede844' (Size = 4000), @p5='944c7dc9-5337-4674-8e3a-08dd03ede844', @p6='email' (Size = 4000), @p7='ndng.minurmemizade@gmail.com' (Size = 4000), @p8='944c7dc9-5337-4674-8e3a-08dd03ede844', @p25='944c7dc9-5337-4674-8e3a-08dd03ede844', @p9='0', @p10='34ddabea-9279-44c0-b723-7f402af12695' (Size = 4000), @p26='3c2ce201-55e0-439c-9764-6e1f2bde27ac' (Size = 4000), @p11='ndng.minurmemizade@gmail.com' (Size = 256), @p12='True', @p13='True', @p14=NULL (DbType = DateTimeOffset), @p15='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p16='MINURMEMIZADE' (Size = 256), @p17='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p18=NULL (Size = 4000), @p19='False', @p20='BkE8nx+l3FloWxSt9t4Ej2V1dGWc6hpgHfeqwnyOva0fwzA4zZYDPCL9rqdzvWKzErWxE9XHpDHKL3+4eMQA3A==' (Size = 4000), @p21='2025-01-17T16:46:37.5247312' (Nullable = true), @p22='ZSUEVWJO75DROCDDCFXHNEAJY424XGND' (Size = 4000), @p23='False', @p24='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [AspNetUserClaims] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2)) AS i ([ClaimType], [ClaimValue], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClaimType], [ClaimValue], [UserId])
VALUES (i.[ClaimType], i.[ClaimValue], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [RefreshToken] = @p20, [RefreshTokenExpireTime] = @p21, [SecurityStamp] = @p22, [TwoFactorEnabled] = @p23, [UserName] = @p24
OUTPUT 1
WHERE [Id] = @p25 AND [ConcurrencyStamp] = @p26;
2024-11-18 16:47:10.355 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 16:47:10.360 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='8b0cc474-8a50-47ea-9a14-97fcbc9f8751' (Size = 4000), @p17='34ddabea-9279-44c0-b723-7f402af12695' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='iEDaZlGnQ8pshFEaYXwAen+mrI+YH+925EwpU9/FBnfufwBol7p+Ya9LeHq8X63yXIk/yujSAyHqD+wsvo/8Fg==' (Size = 4000), @p12='2025-01-17T16:47:10.3549317+04:00' (Nullable = true), @p13='ZSUEVWJO75DROCDDCFXHNEAJY424XGND' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 16:47:10.363 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 16:47:10.367 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='2966fd6f-473c-4526-bf75-5b68451d844a' (Size = 4000), @p17='8b0cc474-8a50-47ea-9a14-97fcbc9f8751' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='iEDaZlGnQ8pshFEaYXwAen+mrI+YH+925EwpU9/FBnfufwBol7p+Ya9LeHq8X63yXIk/yujSAyHqD+wsvo/8Fg==' (Size = 4000), @p12='2025-01-17T16:47:10.3549317+04:00' (Nullable = true), @p13='F56E2L4A2VUPG42KGUBK6JJ6TYT5QMNI' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 16:47:10.372 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true), @__p_1='Default' (Size = 450), @__p_2='AccessToken' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[LoginProvider] = @__p_1 AND [a].[Name] = @__p_2
2024-11-18 16:47:10.376 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 16:47:10.380 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='Default' (Nullable = false) (Size = 450), @p2='AccessToken' (Nullable = false) (Size = 450), @p3='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJiMTc2N2ZlMi0yM2Y0LTQzNTgtYmE2My03MWNiODZkZGYwYzkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6Ijk0NGM3ZGM5LTUzMzctNDY3NC04ZTNhLTA4ZGQwM2VkZTg0NCIsImVtYWlsIjoibmRuZy5taW51cm1lbWl6YWRlQGdtYWlsLmNvbSIsImV4cCI6MTczMTkzNDkzMH0.VXB_7sj6nrWGMDet-IiO_uf03rACvzQ1OFAYD5RUmIU' (Size = 4000), @p20='944c7dc9-5337-4674-8e3a-08dd03ede844', @p4='0', @p5='56144547-513a-47ce-92a6-54f021ed7f9e' (Size = 4000), @p21='2966fd6f-473c-4526-bf75-5b68451d844a' (Size = 4000), @p6='ndng.minurmemizade@gmail.com' (Size = 256), @p7='True', @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p11='MINURMEMIZADE' (Size = 256), @p12='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='iEDaZlGnQ8pshFEaYXwAen+mrI+YH+925EwpU9/FBnfufwBol7p+Ya9LeHq8X63yXIk/yujSAyHqD+wsvo/8Fg==' (Size = 4000), @p16='2025-01-17T16:47:10.3549317+04:00' (Nullable = true), @p17='F56E2L4A2VUPG42KGUBK6JJ6TYT5QMNI' (Size = 4000), @p18='False', @p19='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUserTokens] SET [Value] = @p0
OUTPUT 1
WHERE [LoginProvider] = @p1 AND [Name] = @p2 AND [UserId] = @p3;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpireTime] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-11-18 16:47:10.384 +04:00 [INF] Executing OkObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.ResponseDTO'.
2024-11-18 16:47:10.385 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 199.0677ms
2024-11-18 16:47:10.386 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 16:47:10.387 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 200 null application/json; charset=utf-8 236.1762ms
2024-11-18 16:47:14.273 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-18 16:47:14.279 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 16:47:14.285 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 16:47:14.332 +04:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year]
FROM [cars] AS [c]
2024-11-18 16:47:14.350 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 16:47:14.358 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 69.2788ms
2024-11-18 16:47:14.360 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 16:47:14.362 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 88.7278ms
2024-11-18 16:47:47.995 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Car/AddCar - multipart/form-data; boundary=----WebKitFormBoundarycjpET3BDWPQ8ABu6 783442
2024-11-18 16:47:48.003 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi)'
2024-11-18 16:47:48.010 +04:00 [INF] Route matched with {action = "AddCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCar(CarMarketplaceWebApi.Models.DTOs.CarDTO) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 16:47:48.089 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-18 16:47:48.148 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='b5be9e31-08aa-4ce2-6e7e-08dd07cf34c0', @p1='ndng.minurmemizade@gmail.com' (Size = 4000), @p2='MinurMemizade' (Size = 4000), @p3='67f03526-859a-4b29-ab22-08dd07cf34bf', @p4='asd' (Nullable = false) (Size = 4000), @p5='dsa' (Nullable = false) (Size = 4000), @p6='["https://www.example.com/uploads/be6f7f26-3722-4c91-a985-33ebba9a093e_1920x1080-2605032-pacman-hd-wallpaper-for-free-download.png","https://www.example.com/uploads/b16bdd66-821b-4cbf-9132-fce841bb04df_1920x1080-2605032-pacman-hd-wallpaper-for-free-download.png"]' (Nullable = false) (Size = 4000), @p7='True', @p8='Ford' (Nullable = false) (Size = 4000), @p9='dsa' (Nullable = false) (Size = 4000), @p10='asd' (Nullable = false) (Size = 4000), @p11='123', @p12='b5be9e31-08aa-4ce2-6e7e-08dd07cf34c0', @p13='asd' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Seller] ([Id], [Email], [UserName])
VALUES (@p0, @p1, @p2);
INSERT INTO [cars] ([Id], [Class], [Color], [ImageUrls], [IsNew], [Make], [Mileage], [Model], [Price], [SellerId], [Year])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2024-11-18 16:47:48.153 +04:00 [INF] Executing ObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.CarDTO'.
2024-11-18 16:47:48.165 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi) in 153.3868ms
2024-11-18 16:47:48.167 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi)'
2024-11-18 16:47:48.169 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Car/AddCar - 201 null application/json; charset=utf-8 174.1345ms
2024-11-18 16:47:53.494 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-18 16:47:53.499 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 16:47:53.500 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 16:47:53.519 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year]
FROM [cars] AS [c]
2024-11-18 16:47:53.522 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 16:47:53.523 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 22.2569ms
2024-11-18 16:47:53.527 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 16:47:53.528 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 34.6175ms
2024-11-18 17:13:05.418 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 17:13:05.643 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 17:13:05.720 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 17:13:05.723 +04:00 [INF] Hosting environment: Development
2024-11-18 17:13:05.725 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 17:13:06.578 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 17:13:06.828 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 254.3787ms
2024-11-18 17:13:06.862 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 17:13:06.872 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 10.3112ms
2024-11-18 17:13:06.982 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 17:13:07.035 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.0791ms
2024-11-18 17:13:07.348 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 17:13:07.374 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.4265ms
2024-11-18 17:13:40.852 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 17:13:41.123 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 17:13:41.174 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 17:13:41.176 +04:00 [INF] Hosting environment: Development
2024-11-18 17:13:41.178 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 17:13:41.897 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 17:13:42.133 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 243.6043ms
2024-11-18 17:13:42.185 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 17:13:42.193 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 8.9925ms
2024-11-18 17:13:42.358 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 17:13:42.397 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.015ms
2024-11-18 17:13:42.634 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 17:13:42.644 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.2351ms
2024-11-18 17:14:08.285 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundaryYVOBfE2n5gSejD4U 269
2024-11-18 17:14:08.302 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-18 17:14:08.357 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 17:14:08.385 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-18 17:14:09.398 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 17:14:10.811 +04:00 [INF] Executed DbCommand (123ms) [Parameters=[@__normalizedEmail_0='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-18 17:14:11.170 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='944c7dc9-5337-4674-8e3a-08dd03ede844'], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-18 17:14:11.264 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 17:14:11.453 +04:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='jti' (Size = 4000), @p1='f78bfefc-684e-4961-81d2-8f780fec05e4' (Size = 4000), @p2='944c7dc9-5337-4674-8e3a-08dd03ede844', @p3='http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier' (Size = 4000), @p4='944c7dc9-5337-4674-8e3a-08dd03ede844' (Size = 4000), @p5='944c7dc9-5337-4674-8e3a-08dd03ede844', @p6='email' (Size = 4000), @p7='ndng.minurmemizade@gmail.com' (Size = 4000), @p8='944c7dc9-5337-4674-8e3a-08dd03ede844', @p25='944c7dc9-5337-4674-8e3a-08dd03ede844', @p9='0', @p10='03a48139-1bdb-421b-adc6-eb52774476cb' (Size = 4000), @p26='56144547-513a-47ce-92a6-54f021ed7f9e' (Size = 4000), @p11='ndng.minurmemizade@gmail.com' (Size = 256), @p12='True', @p13='True', @p14=NULL (DbType = DateTimeOffset), @p15='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p16='MINURMEMIZADE' (Size = 256), @p17='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p18=NULL (Size = 4000), @p19='False', @p20='iEDaZlGnQ8pshFEaYXwAen+mrI+YH+925EwpU9/FBnfufwBol7p+Ya9LeHq8X63yXIk/yujSAyHqD+wsvo/8Fg==' (Size = 4000), @p21='2025-01-17T16:47:10.3549317' (Nullable = true), @p22='F56E2L4A2VUPG42KGUBK6JJ6TYT5QMNI' (Size = 4000), @p23='False', @p24='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [AspNetUserClaims] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2)) AS i ([ClaimType], [ClaimValue], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClaimType], [ClaimValue], [UserId])
VALUES (i.[ClaimType], i.[ClaimValue], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [RefreshToken] = @p20, [RefreshTokenExpireTime] = @p21, [SecurityStamp] = @p22, [TwoFactorEnabled] = @p23, [UserName] = @p24
OUTPUT 1
WHERE [Id] = @p25 AND [ConcurrencyStamp] = @p26;
2024-11-18 17:14:11.534 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 17:14:11.545 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='d48933a9-a863-4c4f-ab5f-ee9c2b51a137' (Size = 4000), @p17='03a48139-1bdb-421b-adc6-eb52774476cb' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='z1IRrgDEwzcZEI4cDa9q9RB0INPJ7zRRG6eD6n1tv4zuY8kkH4mJr9AOQPZLl6WXNPyXkuxhPJ6mF6f60ZKY3A==' (Size = 4000), @p12='2025-01-17T17:14:11.5292096+04:00' (Nullable = true), @p13='F56E2L4A2VUPG42KGUBK6JJ6TYT5QMNI' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 17:14:11.555 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 17:14:11.560 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='a5364299-dc80-4d41-84da-d40eefdf7d11' (Size = 4000), @p17='d48933a9-a863-4c4f-ab5f-ee9c2b51a137' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='z1IRrgDEwzcZEI4cDa9q9RB0INPJ7zRRG6eD6n1tv4zuY8kkH4mJr9AOQPZLl6WXNPyXkuxhPJ6mF6f60ZKY3A==' (Size = 4000), @p12='2025-01-17T17:14:11.5292096+04:00' (Nullable = true), @p13='XJJHMPY2S6ULKXAMLDPYUND3GJD7JD3O' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 17:14:11.638 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true), @__p_1='Default' (Size = 450), @__p_2='AccessToken' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[LoginProvider] = @__p_1 AND [a].[Name] = @__p_2
2024-11-18 17:14:11.683 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 17:14:11.701 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='Default' (Nullable = false) (Size = 450), @p2='AccessToken' (Nullable = false) (Size = 450), @p3='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJmNzhiZmVmYy02ODRlLTQ5NjEtODFkMi04Zjc4MGZlYzA1ZTQiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6Ijk0NGM3ZGM5LTUzMzctNDY3NC04ZTNhLTA4ZGQwM2VkZTg0NCIsImVtYWlsIjoibmRuZy5taW51cm1lbWl6YWRlQGdtYWlsLmNvbSIsImV4cCI6MTczMTkzNjU1MX0.IOM2DlyqPcpTM64Y5IJS8MlGe9r8VduzVy3pRjlDpyg' (Size = 4000), @p20='944c7dc9-5337-4674-8e3a-08dd03ede844', @p4='0', @p5='a4eee49c-22d7-4aff-8973-795083cb5ec9' (Size = 4000), @p21='a5364299-dc80-4d41-84da-d40eefdf7d11' (Size = 4000), @p6='ndng.minurmemizade@gmail.com' (Size = 256), @p7='True', @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p11='MINURMEMIZADE' (Size = 256), @p12='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='z1IRrgDEwzcZEI4cDa9q9RB0INPJ7zRRG6eD6n1tv4zuY8kkH4mJr9AOQPZLl6WXNPyXkuxhPJ6mF6f60ZKY3A==' (Size = 4000), @p16='2025-01-17T17:14:11.5292096+04:00' (Nullable = true), @p17='XJJHMPY2S6ULKXAMLDPYUND3GJD7JD3O' (Size = 4000), @p18='False', @p19='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUserTokens] SET [Value] = @p0
OUTPUT 1
WHERE [LoginProvider] = @p1 AND [Name] = @p2 AND [UserId] = @p3;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpireTime] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-11-18 17:14:11.720 +04:00 [INF] Executing OkObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.ResponseDTO'.
2024-11-18 17:14:11.733 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 3342.646ms
2024-11-18 17:14:11.742 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 17:14:11.755 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 200 null application/json; charset=utf-8 3470.7601ms
2024-11-18 17:14:31.990 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-18 17:14:32.071 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 17:14:32.082 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 17:14:32.159 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year]
FROM [cars] AS [c]
2024-11-18 17:14:32.192 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 17:14:32.208 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 119.5882ms
2024-11-18 17:14:32.212 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 17:14:32.215 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 224.851ms
2024-11-18 17:14:42.828 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/Search?search=Ford - null null
2024-11-18 17:14:42.854 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.Search (CarMarketplaceWebApi)'
2024-11-18 17:14:42.859 +04:00 [INF] Route matched with {action = "Search", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(System.String) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 17:14:43.062 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.Search (CarMarketplaceWebApi) in 201.1117ms
2024-11-18 17:14:43.066 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.Search (CarMarketplaceWebApi)'
2024-11-18 17:14:43.069 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Car>()
    .Where(c => EF.Property<string>(c, "Make").Contains(
        value: __search_0, 
        comparisonType: OrdinalIgnoreCase))' could not be translated. Additional information: Translation of method 'string.Contains' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CarMarketplaceWebApi.Repositories.Implementations.Repository`1.SearchByName(String search) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Repositories\Implementations\Repository.cs:line 58
   at CarMarketplaceWebApi.Services.Implementations.CarService.SearchByName(String search) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Services\Implementations\CarService.cs:line 70
   at CarMarketplaceWebApi.Controllers.CarController.Search(String search) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Controllers\CarController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-18 17:14:43.122 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/Search?search=Ford - 500 null text/plain; charset=utf-8 294.5803ms
2024-11-18 17:19:25.137 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 17:19:25.502 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 17:19:25.579 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 17:19:25.581 +04:00 [INF] Hosting environment: Development
2024-11-18 17:19:25.582 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 17:19:25.965 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 17:19:26.232 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 276.1192ms
2024-11-18 17:19:26.275 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 17:19:26.283 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 8.0546ms
2024-11-18 17:19:26.416 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 17:19:26.467 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.1718ms
2024-11-18 17:19:26.679 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 17:19:26.693 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.953ms
2024-11-18 17:19:31.848 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-18 17:19:31.867 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-18 17:19:31.948 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 17:19:31.990 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 17:19:33.285 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 17:19:34.450 +04:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year]
FROM [cars] AS [c]
2024-11-18 17:19:34.617 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 17:19:34.640 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 2642.4397ms
2024-11-18 17:19:34.645 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 17:19:34.654 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 2806.3168ms
2024-11-18 17:19:43.926 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/Search?search=asd - null null
2024-11-18 17:19:43.949 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.Search (CarMarketplaceWebApi)'
2024-11-18 17:19:43.964 +04:00 [INF] Route matched with {action = "Search", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(System.String) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 17:19:44.273 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.Search (CarMarketplaceWebApi) in 305.2649ms
2024-11-18 17:19:44.278 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.Search (CarMarketplaceWebApi)'
2024-11-18 17:19:44.282 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Translation of 'EF.Property<string>(StructuralTypeShaperExpression: 
    CarMarketplaceWebApi.Models.Car
    ValueBufferExpression: 
        ProjectionBindingExpression: EmptyProjectionMember
    IsNullable: False
, "Name")' failed. Either the query source is not an entity type, or the specified property does not exist on the entity type.
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CarMarketplaceWebApi.Repositories.Implementations.Repository`1.SearchByName(String search) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Repositories\Implementations\Repository.cs:line 58
   at CarMarketplaceWebApi.Services.Implementations.CarService.SearchByName(String search) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Services\Implementations\CarService.cs:line 70
   at CarMarketplaceWebApi.Controllers.CarController.Search(String search) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Controllers\CarController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-18 17:19:44.364 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/Search?search=asd - 500 null text/plain; charset=utf-8 441.7323ms
2024-11-18 17:23:29.938 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 17:23:30.211 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 17:23:30.293 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 17:23:30.295 +04:00 [INF] Hosting environment: Development
2024-11-18 17:23:30.296 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 17:23:30.707 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 17:23:31.089 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 391.1128ms
2024-11-18 17:23:31.380 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 17:23:31.380 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 17:23:31.386 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 5.8565ms
2024-11-18 17:23:31.429 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.4314ms
2024-11-18 17:23:31.616 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 17:23:31.626 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.5307ms
2024-11-18 17:23:43.347 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-18 17:23:43.358 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-18 17:23:43.425 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 17:23:43.442 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 17:23:44.399 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 17:23:45.390 +04:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year]
FROM [cars] AS [c]
2024-11-18 17:23:45.511 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 17:23:45.576 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 2127.1741ms
2024-11-18 17:23:45.583 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 17:23:45.595 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 2247.7522ms
2024-11-18 17:23:58.957 +04:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5074/api/Car/DeleteCar?id=b5be9e31-08aa-4ce2-6e7e-08dd07cf34c0 - null null
2024-11-18 17:23:58.970 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-18 17:23:58.975 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-18 17:23:58.977 +04:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5074/api/Car/DeleteCar?id=b5be9e31-08aa-4ce2-6e7e-08dd07cf34c0 - 401 0 null 20.5766ms
2024-11-18 17:24:19.692 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundaryATOo9RTV74etjcGS 269
2024-11-18 17:24:19.707 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 17:24:19.736 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-18 17:24:19.983 +04:00 [INF] Executed DbCommand (40ms) [Parameters=[@__normalizedEmail_0='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-18 17:24:20.238 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='944c7dc9-5337-4674-8e3a-08dd03ede844'], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-18 17:24:20.317 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 17:24:20.511 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='jti' (Size = 4000), @p1='e8353921-db92-49d5-a139-8734ba868b69' (Size = 4000), @p2='944c7dc9-5337-4674-8e3a-08dd03ede844', @p3='http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier' (Size = 4000), @p4='944c7dc9-5337-4674-8e3a-08dd03ede844' (Size = 4000), @p5='944c7dc9-5337-4674-8e3a-08dd03ede844', @p6='email' (Size = 4000), @p7='ndng.minurmemizade@gmail.com' (Size = 4000), @p8='944c7dc9-5337-4674-8e3a-08dd03ede844', @p25='944c7dc9-5337-4674-8e3a-08dd03ede844', @p9='0', @p10='3d17bf64-cdb6-4b8b-a6f8-d406d5633843' (Size = 4000), @p26='a4eee49c-22d7-4aff-8973-795083cb5ec9' (Size = 4000), @p11='ndng.minurmemizade@gmail.com' (Size = 256), @p12='True', @p13='True', @p14=NULL (DbType = DateTimeOffset), @p15='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p16='MINURMEMIZADE' (Size = 256), @p17='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p18=NULL (Size = 4000), @p19='False', @p20='z1IRrgDEwzcZEI4cDa9q9RB0INPJ7zRRG6eD6n1tv4zuY8kkH4mJr9AOQPZLl6WXNPyXkuxhPJ6mF6f60ZKY3A==' (Size = 4000), @p21='2025-01-17T17:14:11.5292096' (Nullable = true), @p22='XJJHMPY2S6ULKXAMLDPYUND3GJD7JD3O' (Size = 4000), @p23='False', @p24='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [AspNetUserClaims] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2)) AS i ([ClaimType], [ClaimValue], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClaimType], [ClaimValue], [UserId])
VALUES (i.[ClaimType], i.[ClaimValue], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [RefreshToken] = @p20, [RefreshTokenExpireTime] = @p21, [SecurityStamp] = @p22, [TwoFactorEnabled] = @p23, [UserName] = @p24
OUTPUT 1
WHERE [Id] = @p25 AND [ConcurrencyStamp] = @p26;
2024-11-18 17:24:20.590 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 17:24:20.603 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='7cbb2814-bed7-4382-93cc-8496b81ce9c7' (Size = 4000), @p17='3d17bf64-cdb6-4b8b-a6f8-d406d5633843' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='HubpBt7RXFRsylN+30up+peDx5nBN3kRGiPN6vVajphhbMWZvEsbGEG2sgpPxcFi2CW+6ztTIm/Bfsr3kQpQJA==' (Size = 4000), @p12='2025-01-17T17:24:20.5826243+04:00' (Nullable = true), @p13='XJJHMPY2S6ULKXAMLDPYUND3GJD7JD3O' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 17:24:20.615 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 17:24:20.626 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='e2584aa1-41f3-4bcf-92f2-9efd34192e5a' (Size = 4000), @p17='7cbb2814-bed7-4382-93cc-8496b81ce9c7' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='HubpBt7RXFRsylN+30up+peDx5nBN3kRGiPN6vVajphhbMWZvEsbGEG2sgpPxcFi2CW+6ztTIm/Bfsr3kQpQJA==' (Size = 4000), @p12='2025-01-17T17:24:20.5826243+04:00' (Nullable = true), @p13='EZFC4TLVDPTN4DZE2DX3V2KKZJ3CMDKY' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 17:24:20.728 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true), @__p_1='Default' (Size = 450), @__p_2='AccessToken' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[LoginProvider] = @__p_1 AND [a].[Name] = @__p_2
2024-11-18 17:24:20.758 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 17:24:20.772 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='Default' (Nullable = false) (Size = 450), @p2='AccessToken' (Nullable = false) (Size = 450), @p3='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJlODM1MzkyMS1kYjkyLTQ5ZDUtYTEzOS04NzM0YmE4NjhiNjkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6Ijk0NGM3ZGM5LTUzMzctNDY3NC04ZTNhLTA4ZGQwM2VkZTg0NCIsImVtYWlsIjoibmRuZy5taW51cm1lbWl6YWRlQGdtYWlsLmNvbSIsImV4cCI6MTczMTkzNzE2MH0.fkohH0o6Mj4cQ_9GA3mwP7-qFEeTQGm_VCMCqg4Bps0' (Size = 4000), @p20='944c7dc9-5337-4674-8e3a-08dd03ede844', @p4='0', @p5='38b120bf-7f1f-4591-89a3-85fa41cfa6d9' (Size = 4000), @p21='e2584aa1-41f3-4bcf-92f2-9efd34192e5a' (Size = 4000), @p6='ndng.minurmemizade@gmail.com' (Size = 256), @p7='True', @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p11='MINURMEMIZADE' (Size = 256), @p12='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='HubpBt7RXFRsylN+30up+peDx5nBN3kRGiPN6vVajphhbMWZvEsbGEG2sgpPxcFi2CW+6ztTIm/Bfsr3kQpQJA==' (Size = 4000), @p16='2025-01-17T17:24:20.5826243+04:00' (Nullable = true), @p17='EZFC4TLVDPTN4DZE2DX3V2KKZJ3CMDKY' (Size = 4000), @p18='False', @p19='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUserTokens] SET [Value] = @p0
OUTPUT 1
WHERE [LoginProvider] = @p1 AND [Name] = @p2 AND [UserId] = @p3;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpireTime] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-11-18 17:24:20.782 +04:00 [INF] Executing OkObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.ResponseDTO'.
2024-11-18 17:24:20.792 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 1049.9009ms
2024-11-18 17:24:20.796 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 17:24:20.799 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 200 null application/json; charset=utf-8 1106.7226ms
2024-11-18 17:24:42.889 +04:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5074/api/Car/DeleteCar?id=b5be9e31-08aa-4ce2-6e7e-08dd07cf34c0 - null null
2024-11-18 17:24:42.962 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.DeleteCar (CarMarketplaceWebApi)'
2024-11-18 17:24:42.968 +04:00 [INF] Route matched with {action = "DeleteCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteCar(System.Guid) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 17:24:42.999 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='b5be9e31-08aa-4ce2-6e7e-08dd07cf34c0' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year]
FROM [cars] AS [c]
WHERE [c].[Id] = @__get_Item_0
2024-11-18 17:24:43.011 +04:00 [INF] Executing ObjectResult, writing value of type 'null'.
2024-11-18 17:24:43.012 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.DeleteCar (CarMarketplaceWebApi) in 42.3364ms
2024-11-18 17:24:43.015 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.DeleteCar (CarMarketplaceWebApi)'
2024-11-18 17:24:43.017 +04:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5074/api/Car/DeleteCar?id=b5be9e31-08aa-4ce2-6e7e-08dd07cf34c0 - 202 0 null 128.2407ms
2024-11-18 17:24:45.872 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-18 17:24:45.884 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 17:24:45.886 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 17:24:45.914 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year]
FROM [cars] AS [c]
2024-11-18 17:24:45.918 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 17:24:45.920 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 29.2516ms
2024-11-18 17:24:45.923 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 17:24:45.926 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 53.7176ms
2024-11-18 17:24:54.879 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-18 17:24:54.885 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 17:24:54.886 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 17:24:54.893 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year]
FROM [cars] AS [c]
2024-11-18 17:24:54.896 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 17:24:54.897 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 7.9664ms
2024-11-18 17:24:54.899 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 17:24:54.900 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 21.0589ms
2024-11-18 17:24:57.983 +04:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5074/api/Car/DeleteCar?id=b5be9e31-08aa-4ce2-6e7e-08dd07cf34c0 - null null
2024-11-18 17:24:57.993 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.DeleteCar (CarMarketplaceWebApi)'
2024-11-18 17:24:57.995 +04:00 [INF] Route matched with {action = "DeleteCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteCar(System.Guid) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 17:24:58.004 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='b5be9e31-08aa-4ce2-6e7e-08dd07cf34c0' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year]
FROM [cars] AS [c]
WHERE [c].[Id] = @__get_Item_0
2024-11-18 17:24:58.009 +04:00 [INF] Executing ObjectResult, writing value of type 'null'.
2024-11-18 17:24:58.010 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.DeleteCar (CarMarketplaceWebApi) in 12.5779ms
2024-11-18 17:24:58.011 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.DeleteCar (CarMarketplaceWebApi)'
2024-11-18 17:24:58.013 +04:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5074/api/Car/DeleteCar?id=b5be9e31-08aa-4ce2-6e7e-08dd07cf34c0 - 202 0 null 29.7929ms
2024-11-18 17:25:02.053 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-18 17:25:02.064 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 17:25:02.067 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 17:25:02.088 +04:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year]
FROM [cars] AS [c]
2024-11-18 17:25:02.092 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 17:25:02.093 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 24.4739ms
2024-11-18 17:25:02.096 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 17:25:02.098 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 45.1579ms
2024-11-18 17:25:50.591 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 17:25:50.767 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 17:25:50.806 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 17:25:50.809 +04:00 [INF] Hosting environment: Development
2024-11-18 17:25:50.810 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 17:25:51.494 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 17:25:51.675 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 184.5699ms
2024-11-18 17:25:51.699 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 17:25:51.704 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 4.7331ms
2024-11-18 17:25:51.856 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 17:25:51.887 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.5263ms
2024-11-18 17:25:52.183 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 17:25:52.194 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.2955ms
2024-11-18 17:26:06.807 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundarykNIC45UkBBasMuFN 269
2024-11-18 17:26:06.818 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-18 17:26:06.879 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 17:26:06.911 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-18 17:26:07.932 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 17:26:09.031 +04:00 [INF] Executed DbCommand (68ms) [Parameters=[@__normalizedEmail_0='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-18 17:26:09.343 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='944c7dc9-5337-4674-8e3a-08dd03ede844'], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-18 17:26:09.398 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 17:26:09.598 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='jti' (Size = 4000), @p1='b8a71a02-9aa4-41df-a563-3ff435b935e7' (Size = 4000), @p2='944c7dc9-5337-4674-8e3a-08dd03ede844', @p3='http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier' (Size = 4000), @p4='944c7dc9-5337-4674-8e3a-08dd03ede844' (Size = 4000), @p5='944c7dc9-5337-4674-8e3a-08dd03ede844', @p6='email' (Size = 4000), @p7='ndng.minurmemizade@gmail.com' (Size = 4000), @p8='944c7dc9-5337-4674-8e3a-08dd03ede844', @p25='944c7dc9-5337-4674-8e3a-08dd03ede844', @p9='0', @p10='b2c1c783-c4e9-4eb0-818c-84a882aa664b' (Size = 4000), @p26='38b120bf-7f1f-4591-89a3-85fa41cfa6d9' (Size = 4000), @p11='ndng.minurmemizade@gmail.com' (Size = 256), @p12='True', @p13='True', @p14=NULL (DbType = DateTimeOffset), @p15='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p16='MINURMEMIZADE' (Size = 256), @p17='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p18=NULL (Size = 4000), @p19='False', @p20='HubpBt7RXFRsylN+30up+peDx5nBN3kRGiPN6vVajphhbMWZvEsbGEG2sgpPxcFi2CW+6ztTIm/Bfsr3kQpQJA==' (Size = 4000), @p21='2025-01-17T17:24:20.5826243' (Nullable = true), @p22='EZFC4TLVDPTN4DZE2DX3V2KKZJ3CMDKY' (Size = 4000), @p23='False', @p24='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [AspNetUserClaims] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2)) AS i ([ClaimType], [ClaimValue], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClaimType], [ClaimValue], [UserId])
VALUES (i.[ClaimType], i.[ClaimValue], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [RefreshToken] = @p20, [RefreshTokenExpireTime] = @p21, [SecurityStamp] = @p22, [TwoFactorEnabled] = @p23, [UserName] = @p24
OUTPUT 1
WHERE [Id] = @p25 AND [ConcurrencyStamp] = @p26;
2024-11-18 17:26:09.658 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 17:26:09.678 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='92e20c0a-b266-46de-a77a-4dd97bc21769' (Size = 4000), @p17='b2c1c783-c4e9-4eb0-818c-84a882aa664b' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='zSYJLfOrWc37IbKVHVOhGBIsHx6lZZbNNvCm7rAVDbKdl5cx5m0fpxs49dsgwbypc2RS0MYDOZCuQ1GSkbSONw==' (Size = 4000), @p12='2025-01-17T17:26:09.6509073+04:00' (Nullable = true), @p13='EZFC4TLVDPTN4DZE2DX3V2KKZJ3CMDKY' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 17:26:09.687 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 17:26:09.692 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='5dc5a88f-82aa-4d5c-a4aa-750b53b5c5f5' (Size = 4000), @p17='92e20c0a-b266-46de-a77a-4dd97bc21769' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='zSYJLfOrWc37IbKVHVOhGBIsHx6lZZbNNvCm7rAVDbKdl5cx5m0fpxs49dsgwbypc2RS0MYDOZCuQ1GSkbSONw==' (Size = 4000), @p12='2025-01-17T17:26:09.6509073+04:00' (Nullable = true), @p13='QSWGGFAW7BXKSVPEL3K5Q4EUSYWQ47F6' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 17:26:09.787 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true), @__p_1='Default' (Size = 450), @__p_2='AccessToken' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[LoginProvider] = @__p_1 AND [a].[Name] = @__p_2
2024-11-18 17:26:09.827 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 17:26:09.845 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='Default' (Nullable = false) (Size = 450), @p2='AccessToken' (Nullable = false) (Size = 450), @p3='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJiOGE3MWEwMi05YWE0LTQxZGYtYTU2My0zZmY0MzViOTM1ZTciLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6Ijk0NGM3ZGM5LTUzMzctNDY3NC04ZTNhLTA4ZGQwM2VkZTg0NCIsImVtYWlsIjoibmRuZy5taW51cm1lbWl6YWRlQGdtYWlsLmNvbSIsImV4cCI6MTczMTkzNzI2OX0.BcMiNnNFEUGqCpK3Aa36rsuxRtHZ3C9tCyx3AMPjmCU' (Size = 4000), @p20='944c7dc9-5337-4674-8e3a-08dd03ede844', @p4='0', @p5='e269c807-2104-4bd7-9a13-3641ad09bf49' (Size = 4000), @p21='5dc5a88f-82aa-4d5c-a4aa-750b53b5c5f5' (Size = 4000), @p6='ndng.minurmemizade@gmail.com' (Size = 256), @p7='True', @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p11='MINURMEMIZADE' (Size = 256), @p12='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='zSYJLfOrWc37IbKVHVOhGBIsHx6lZZbNNvCm7rAVDbKdl5cx5m0fpxs49dsgwbypc2RS0MYDOZCuQ1GSkbSONw==' (Size = 4000), @p16='2025-01-17T17:26:09.6509073+04:00' (Nullable = true), @p17='QSWGGFAW7BXKSVPEL3K5Q4EUSYWQ47F6' (Size = 4000), @p18='False', @p19='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUserTokens] SET [Value] = @p0
OUTPUT 1
WHERE [LoginProvider] = @p1 AND [Name] = @p2 AND [UserId] = @p3;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpireTime] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-11-18 17:26:09.865 +04:00 [INF] Executing OkObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.ResponseDTO'.
2024-11-18 17:26:09.882 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 2963.367ms
2024-11-18 17:26:09.886 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 17:26:09.902 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 200 null application/json; charset=utf-8 3095.1279ms
2024-11-18 17:26:28.475 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-18 17:26:28.536 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 17:26:28.542 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 17:26:28.609 +04:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year]
FROM [cars] AS [c]
2024-11-18 17:26:28.633 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 17:26:28.642 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 98.553ms
2024-11-18 17:26:28.644 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 17:26:28.646 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 170.9866ms
2024-11-18 17:26:40.494 +04:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5074/api/Car/DeleteCar?id=b5be9e31-08aa-4ce2-6e7e-08dd07cf34c0 - null null
2024-11-18 17:26:40.503 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.DeleteCar (CarMarketplaceWebApi)'
2024-11-18 17:26:40.509 +04:00 [INF] Route matched with {action = "DeleteCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteCar(System.Guid) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 17:26:40.545 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='b5be9e31-08aa-4ce2-6e7e-08dd07cf34c0' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year]
FROM [cars] AS [c]
WHERE [c].[Id] = @__get_Item_0
2024-11-18 17:26:40.550 +04:00 [INF] Executing ObjectResult, writing value of type 'null'.
2024-11-18 17:26:40.551 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.DeleteCar (CarMarketplaceWebApi) in 39.2544ms
2024-11-18 17:26:40.551 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.DeleteCar (CarMarketplaceWebApi)'
2024-11-18 17:26:40.552 +04:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5074/api/Car/DeleteCar?id=b5be9e31-08aa-4ce2-6e7e-08dd07cf34c0 - 202 0 null 58.4297ms
2024-11-18 17:26:46.946 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-18 17:26:46.963 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 17:26:46.964 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 17:26:46.979 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year]
FROM [cars] AS [c]
2024-11-18 17:26:46.990 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 17:26:46.991 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 23.5284ms
2024-11-18 17:26:46.994 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 17:26:46.996 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 50.5117ms
2024-11-18 17:28:24.626 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 17:28:24.800 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 17:28:24.841 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 17:28:24.842 +04:00 [INF] Hosting environment: Development
2024-11-18 17:28:24.843 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 17:28:25.337 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 17:28:25.495 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 162.5368ms
2024-11-18 17:28:25.514 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 17:28:25.519 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 4.1919ms
2024-11-18 17:28:25.615 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 17:28:25.646 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.3819ms
2024-11-18 17:28:25.789 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 17:28:25.797 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.7826ms
2024-11-18 17:28:33.933 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-18 17:28:33.956 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-18 17:28:34.012 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 17:28:34.026 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 17:28:34.798 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 17:28:35.713 +04:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year]
FROM [cars] AS [c]
2024-11-18 17:28:35.817 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 17:28:35.836 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 1804.3492ms
2024-11-18 17:28:35.840 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 17:28:35.849 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 1916.1665ms
2024-11-18 17:28:54.432 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundary4Vh07DG0lMenFSaY 269
2024-11-18 17:28:54.439 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 17:28:54.453 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-18 17:28:54.703 +04:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedEmail_0='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-18 17:28:54.925 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='944c7dc9-5337-4674-8e3a-08dd03ede844'], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-18 17:28:54.994 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 17:28:55.120 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='jti' (Size = 4000), @p1='6f43647c-208d-4d90-996e-61acd8c1132b' (Size = 4000), @p2='944c7dc9-5337-4674-8e3a-08dd03ede844', @p3='http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier' (Size = 4000), @p4='944c7dc9-5337-4674-8e3a-08dd03ede844' (Size = 4000), @p5='944c7dc9-5337-4674-8e3a-08dd03ede844', @p6='email' (Size = 4000), @p7='ndng.minurmemizade@gmail.com' (Size = 4000), @p8='944c7dc9-5337-4674-8e3a-08dd03ede844', @p25='944c7dc9-5337-4674-8e3a-08dd03ede844', @p9='0', @p10='96aecc13-b4ee-43d8-b680-874031a92bda' (Size = 4000), @p26='e269c807-2104-4bd7-9a13-3641ad09bf49' (Size = 4000), @p11='ndng.minurmemizade@gmail.com' (Size = 256), @p12='True', @p13='True', @p14=NULL (DbType = DateTimeOffset), @p15='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p16='MINURMEMIZADE' (Size = 256), @p17='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p18=NULL (Size = 4000), @p19='False', @p20='zSYJLfOrWc37IbKVHVOhGBIsHx6lZZbNNvCm7rAVDbKdl5cx5m0fpxs49dsgwbypc2RS0MYDOZCuQ1GSkbSONw==' (Size = 4000), @p21='2025-01-17T17:26:09.6509073' (Nullable = true), @p22='QSWGGFAW7BXKSVPEL3K5Q4EUSYWQ47F6' (Size = 4000), @p23='False', @p24='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [AspNetUserClaims] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2)) AS i ([ClaimType], [ClaimValue], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClaimType], [ClaimValue], [UserId])
VALUES (i.[ClaimType], i.[ClaimValue], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [RefreshToken] = @p20, [RefreshTokenExpireTime] = @p21, [SecurityStamp] = @p22, [TwoFactorEnabled] = @p23, [UserName] = @p24
OUTPUT 1
WHERE [Id] = @p25 AND [ConcurrencyStamp] = @p26;
2024-11-18 17:28:55.178 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 17:28:55.193 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='c6e87ad6-1c92-430b-8b25-b05998d33c72' (Size = 4000), @p17='96aecc13-b4ee-43d8-b680-874031a92bda' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='rc287QK6HdeT7Q0kpsWXVDJxBPIRQUQ/zpVv68cQoLuADvR9Tr+8s2bkp+5CICT56Z3l/SoQr5D4f+yo0l3OLQ==' (Size = 4000), @p12='2025-01-17T17:28:55.1738712+04:00' (Nullable = true), @p13='QSWGGFAW7BXKSVPEL3K5Q4EUSYWQ47F6' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 17:28:55.203 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 17:28:55.208 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='f688f404-d392-4c4a-b10c-8cc933d3956a' (Size = 4000), @p17='c6e87ad6-1c92-430b-8b25-b05998d33c72' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='rc287QK6HdeT7Q0kpsWXVDJxBPIRQUQ/zpVv68cQoLuADvR9Tr+8s2bkp+5CICT56Z3l/SoQr5D4f+yo0l3OLQ==' (Size = 4000), @p12='2025-01-17T17:28:55.1738712+04:00' (Nullable = true), @p13='F3WHL2RILAXQR5DL7ZXC5ZLTNDDA7TK4' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 17:28:55.267 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true), @__p_1='Default' (Size = 450), @__p_2='AccessToken' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[LoginProvider] = @__p_1 AND [a].[Name] = @__p_2
2024-11-18 17:28:55.299 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 17:28:55.309 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='Default' (Nullable = false) (Size = 450), @p2='AccessToken' (Nullable = false) (Size = 450), @p3='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI2ZjQzNjQ3Yy0yMDhkLTRkOTAtOTk2ZS02MWFjZDhjMTEzMmIiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6Ijk0NGM3ZGM5LTUzMzctNDY3NC04ZTNhLTA4ZGQwM2VkZTg0NCIsImVtYWlsIjoibmRuZy5taW51cm1lbWl6YWRlQGdtYWlsLmNvbSIsImV4cCI6MTczMTkzNzQzNH0.nPXxZ48SfKhzUxlbUNw66ODqx3S1qBAIw33llZNoj2k' (Size = 4000), @p20='944c7dc9-5337-4674-8e3a-08dd03ede844', @p4='0', @p5='1d5a67b2-dad1-4e3a-b01a-d3c26d7448b2' (Size = 4000), @p21='f688f404-d392-4c4a-b10c-8cc933d3956a' (Size = 4000), @p6='ndng.minurmemizade@gmail.com' (Size = 256), @p7='True', @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p11='MINURMEMIZADE' (Size = 256), @p12='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='rc287QK6HdeT7Q0kpsWXVDJxBPIRQUQ/zpVv68cQoLuADvR9Tr+8s2bkp+5CICT56Z3l/SoQr5D4f+yo0l3OLQ==' (Size = 4000), @p16='2025-01-17T17:28:55.1738712+04:00' (Nullable = true), @p17='F3WHL2RILAXQR5DL7ZXC5ZLTNDDA7TK4' (Size = 4000), @p18='False', @p19='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUserTokens] SET [Value] = @p0
OUTPUT 1
WHERE [LoginProvider] = @p1 AND [Name] = @p2 AND [UserId] = @p3;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpireTime] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-11-18 17:28:55.320 +04:00 [INF] Executing OkObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.ResponseDTO'.
2024-11-18 17:28:55.327 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 869.84ms
2024-11-18 17:28:55.329 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 17:28:55.330 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 200 null application/json; charset=utf-8 898.1357ms
2024-11-18 17:29:27.782 +04:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5074/api/Car/DeleteCar?id=67f03526-859a-4b29-ab22-08dd07cf34bf - null null
2024-11-18 17:29:27.844 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.DeleteCar (CarMarketplaceWebApi)'
2024-11-18 17:29:27.848 +04:00 [INF] Route matched with {action = "DeleteCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteCar(System.Guid) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 17:29:27.876 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='67f03526-859a-4b29-ab22-08dd07cf34bf' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year]
FROM [cars] AS [c]
WHERE [c].[Id] = @__get_Item_0
2024-11-18 17:29:27.901 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='67f03526-859a-4b29-ab22-08dd07cf34bf'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [cars]
OUTPUT 1
WHERE [Id] = @p0;
2024-11-18 17:29:27.906 +04:00 [INF] Executing ObjectResult, writing value of type 'null'.
2024-11-18 17:29:27.907 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.DeleteCar (CarMarketplaceWebApi) in 57.3593ms
2024-11-18 17:29:27.909 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.DeleteCar (CarMarketplaceWebApi)'
2024-11-18 17:29:27.910 +04:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5074/api/Car/DeleteCar?id=67f03526-859a-4b29-ab22-08dd07cf34bf - 202 0 null 128.1743ms
2024-11-18 17:29:31.867 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-18 17:29:31.880 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 17:29:31.881 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 17:29:31.894 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year]
FROM [cars] AS [c]
2024-11-18 17:29:31.898 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 17:29:31.900 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 16.6063ms
2024-11-18 17:29:31.902 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 17:29:31.903 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 35.8186ms
2024-11-18 19:07:37.621 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 19:07:43.621 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 19:07:43.881 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-18 19:07:43.897 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-18 19:07:43.898 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-11-18 19:07:43.899 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-11-18 19:07:43.912 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-11-18 19:07:43.919 +04:00 [INF] Applying migration '20241118150737_v5.4'.
2024-11-18 19:07:43.950 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD [createdTime] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';
2024-11-18 19:07:43.952 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD [eStatus] int NOT NULL DEFAULT 0;
2024-11-18 19:07:43.953 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [cars] ADD [soldTime] datetime2 NULL;
2024-11-18 19:07:43.954 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241118150737_v5.4', N'8.0.10');
2024-11-18 19:09:25.879 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 19:09:26.029 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 19:09:26.064 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 19:09:26.065 +04:00 [INF] Hosting environment: Development
2024-11-18 19:09:26.065 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 19:09:26.616 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 19:09:26.761 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 148.0686ms
2024-11-18 19:09:26.803 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 19:09:26.807 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 4.6341ms
2024-11-18 19:09:26.862 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 19:09:26.897 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.6385ms
2024-11-18 19:09:27.022 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 19:09:27.028 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 6.4197ms
2024-11-18 19:09:55.370 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Register/Register - multipart/form-data; boundary=----WebKitFormBoundary2PDi4oGAxkATtIKI 548
2024-11-18 19:09:55.387 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-18 19:09:55.433 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Register (CarMarketplaceWebApi)'
2024-11-18 19:09:55.455 +04:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CarMarketplaceWebApi.Models.DTOs.RegisterDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-18 19:09:56.239 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 19:09:57.027 +04:00 [INF] Executed DbCommand (42ms) [Parameters=[@__normalizedUserName_0='DADADD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 19:09:57.265 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p1='0', @p2='f936b08f-00bc-4321-bbea-ce74a6708f81' (Size = 4000), @p3='dad@example.com' (Size = 256), @p4='False', @p5='True', @p6=NULL (DbType = DateTimeOffset), @p7='DAD@EXAMPLE.COM' (Size = 256), @p8='DADADD' (Size = 256), @p9='AQAAAAIAAYagAAAAEKqpN4ZNd5bsXNbmC9syNbvvMQtHHrjDRk6jgQh7G88FVAdZAPcGewzEOzTx0vLvig==' (Size = 4000), @p10=NULL (Size = 4000), @p11='False', @p12=NULL (Size = 4000), @p13=NULL (DbType = DateTime2), @p14='27L3NG2DPWSUWDBGTHFQ7P3MCGGZ445U' (Size = 4000), @p15='False', @p16='dadadd' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpireTime], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2024-11-18 19:09:57.287 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='ADMIN' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-11-18 19:09:57.296 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='ADMIN' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-11-18 19:09:57.320 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='adde36ef-f2c6-43b1-9df9-3e3370322b33', @p1='b832c4da-a7b3-4147-907e-ad410e154f7c' (Size = 4000), @p2='admin' (Size = 256), @p3='ADMIN' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2024-11-18 19:09:57.353 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='ADMIN' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-11-18 19:09:57.398 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='6ea60fa6-e2fb-44a4-24c2-08dd07e31068' (Nullable = true), @__get_Item_1='adde36ef-f2c6-43b1-9df9-3e3370322b33' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[RoleId] = @__get_Item_1
2024-11-18 19:09:57.405 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='ADMIN' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-11-18 19:09:57.418 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='DADADD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 19:09:57.445 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='adde36ef-f2c6-43b1-9df9-3e3370322b33', @p1='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p18='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p2='0', @p3='87375efd-f1f5-4df0-a57c-432d3b140bf1' (Size = 4000), @p19='f936b08f-00bc-4321-bbea-ce74a6708f81' (Size = 4000), @p4='dad@example.com' (Size = 256), @p5='False', @p6='True', @p7=NULL (DbType = DateTimeOffset), @p8='DAD@EXAMPLE.COM' (Size = 256), @p9='DADADD' (Size = 256), @p10='AQAAAAIAAYagAAAAEKqpN4ZNd5bsXNbmC9syNbvvMQtHHrjDRk6jgQh7G88FVAdZAPcGewzEOzTx0vLvig==' (Size = 4000), @p11=NULL (Size = 4000), @p12='False', @p13=NULL (Size = 4000), @p14=NULL (DbType = DateTime2), @p15='27L3NG2DPWSUWDBGTHFQ7P3MCGGZ445U' (Size = 4000), @p16='False', @p17='dadadd' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpireTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2024-11-18 19:09:57.555 +04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-11-18 19:09:57.569 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Register (CarMarketplaceWebApi) in 2097.6601ms
2024-11-18 19:09:57.571 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Register (CarMarketplaceWebApi)'
2024-11-18 19:09:57.579 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Register/Register - 201 null text/plain; charset=utf-8 2212.7779ms
2024-11-18 19:10:38.789 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/VerifyEmail/VerifyEmail - multipart/form-data; boundary=----WebKitFormBoundaryJBThKPhdXNW4Nv0y 714
2024-11-18 19:10:38.798 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.VerifyEmail (CarMarketplaceWebApi)'
2024-11-18 19:10:38.802 +04:00 [INF] Route matched with {action = "VerifyEmail", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyEmail(CarMarketplaceWebApi.Models.DTOs.VerificationDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-18 19:10:38.859 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='DAD@EXAMPLE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-18 19:10:38.867 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='DADADD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 19:10:38.873 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p16='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p0='0', @p1='992f35d2-2a40-4e53-bcd5-5c8dff542e27' (Size = 4000), @p17='87375efd-f1f5-4df0-a57c-432d3b140bf1' (Size = 4000), @p2='dad@example.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='DAD@EXAMPLE.COM' (Size = 256), @p7='DADADD' (Size = 256), @p8='AQAAAAIAAYagAAAAEKqpN4ZNd5bsXNbmC9syNbvvMQtHHrjDRk6jgQh7G88FVAdZAPcGewzEOzTx0vLvig==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11=NULL (Size = 4000), @p12=NULL (DbType = DateTime2), @p13='27L3NG2DPWSUWDBGTHFQ7P3MCGGZ445U' (Size = 4000), @p14='False', @p15='dadadd' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 19:10:38.877 +04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-11-18 19:10:38.878 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.VerifyEmail (CarMarketplaceWebApi) in 74.2192ms
2024-11-18 19:10:38.879 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.VerifyEmail (CarMarketplaceWebApi)'
2024-11-18 19:10:38.879 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/VerifyEmail/VerifyEmail - 202 null text/plain; charset=utf-8 94.4335ms
2024-11-18 21:16:40.925 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 21:16:41.056 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 21:16:41.089 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 21:16:41.090 +04:00 [INF] Hosting environment: Development
2024-11-18 21:16:41.091 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 21:16:41.556 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 21:16:41.713 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 159.9652ms
2024-11-18 21:16:41.733 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 21:16:41.738 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 4.9602ms
2024-11-18 21:16:41.804 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 21:16:41.836 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.8835ms
2024-11-18 21:16:41.963 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 21:16:41.970 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - CarMarketplaceWebApi.Controllers.CarController.ApproveCarRequest (CarMarketplaceWebApi). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-18 21:16:41.975 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 12.293ms
2024-11-18 21:17:33.937 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 21:17:34.087 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 21:17:34.125 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 21:17:34.125 +04:00 [INF] Hosting environment: Development
2024-11-18 21:17:34.126 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 21:17:34.471 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 21:17:34.632 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 163.9289ms
2024-11-18 21:17:34.659 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 21:17:34.663 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 4.1425ms
2024-11-18 21:17:34.828 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 21:17:34.856 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.993ms
2024-11-18 21:17:35.111 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 21:17:35.120 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.1262ms
2024-11-18 21:18:01.216 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Car/AddCar - multipart/form-data; boundary=----WebKitFormBoundaryuLN9XCkqdteiAQqN 1456868
2024-11-18 21:18:01.231 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-18 21:18:01.262 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-18 21:18:01.264 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-18 21:18:01.265 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Car/AddCar - 401 0 null 49.1857ms
2024-11-18 21:18:01.270 +04:00 [INF] Connection id "0HN87UJI6FRTR", Request id "0HN87UJI6FRTR:00000005": the application completed without reading the entire request body.
2024-11-18 21:18:18.697 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundaryqzB1smnvdhAUrajA 269
2024-11-18 21:18:18.704 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 21:18:18.722 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-18 21:18:19.419 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 21:18:20.211 +04:00 [INF] Executed DbCommand (59ms) [Parameters=[@__normalizedEmail_0='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-18 21:18:20.463 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='944c7dc9-5337-4674-8e3a-08dd03ede844'], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-18 21:18:20.515 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 21:18:20.633 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='jti' (Size = 4000), @p1='af9058f3-39a2-4c21-a5c9-4283b1e780c8' (Size = 4000), @p2='944c7dc9-5337-4674-8e3a-08dd03ede844', @p3='http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier' (Size = 4000), @p4='944c7dc9-5337-4674-8e3a-08dd03ede844' (Size = 4000), @p5='944c7dc9-5337-4674-8e3a-08dd03ede844', @p6='email' (Size = 4000), @p7='ndng.minurmemizade@gmail.com' (Size = 4000), @p8='944c7dc9-5337-4674-8e3a-08dd03ede844', @p25='944c7dc9-5337-4674-8e3a-08dd03ede844', @p9='0', @p10='5192d53f-b4de-40b7-8f0a-272a9aad6119' (Size = 4000), @p26='1d5a67b2-dad1-4e3a-b01a-d3c26d7448b2' (Size = 4000), @p11='ndng.minurmemizade@gmail.com' (Size = 256), @p12='True', @p13='True', @p14=NULL (DbType = DateTimeOffset), @p15='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p16='MINURMEMIZADE' (Size = 256), @p17='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p18=NULL (Size = 4000), @p19='False', @p20='rc287QK6HdeT7Q0kpsWXVDJxBPIRQUQ/zpVv68cQoLuADvR9Tr+8s2bkp+5CICT56Z3l/SoQr5D4f+yo0l3OLQ==' (Size = 4000), @p21='2025-01-17T17:28:55.1738712' (Nullable = true), @p22='F3WHL2RILAXQR5DL7ZXC5ZLTNDDA7TK4' (Size = 4000), @p23='False', @p24='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [AspNetUserClaims] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2)) AS i ([ClaimType], [ClaimValue], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClaimType], [ClaimValue], [UserId])
VALUES (i.[ClaimType], i.[ClaimValue], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [RefreshToken] = @p20, [RefreshTokenExpireTime] = @p21, [SecurityStamp] = @p22, [TwoFactorEnabled] = @p23, [UserName] = @p24
OUTPUT 1
WHERE [Id] = @p25 AND [ConcurrencyStamp] = @p26;
2024-11-18 21:18:20.687 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 21:18:20.694 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='9c659cbc-f65c-4c6e-b3e3-a8bcf15298ff' (Size = 4000), @p17='5192d53f-b4de-40b7-8f0a-272a9aad6119' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='lrd84pdqNIHdGQILNrVk52hpdJxfmzd5hu/CrUS65laBUwece9I7ZA8jPSmmJhc1UxrcF2vCr75UZc2Oy3ICVg==' (Size = 4000), @p12='2025-01-17T21:18:20.6837474+04:00' (Nullable = true), @p13='F3WHL2RILAXQR5DL7ZXC5ZLTNDDA7TK4' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 21:18:20.702 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 21:18:20.708 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='517c1fa4-3c38-45ea-be98-f3ea7e1dfa69' (Size = 4000), @p17='9c659cbc-f65c-4c6e-b3e3-a8bcf15298ff' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='lrd84pdqNIHdGQILNrVk52hpdJxfmzd5hu/CrUS65laBUwece9I7ZA8jPSmmJhc1UxrcF2vCr75UZc2Oy3ICVg==' (Size = 4000), @p12='2025-01-17T21:18:20.6837474+04:00' (Nullable = true), @p13='2HW7QFJ2KEEYJ6S3XKEBGI4E5IVBLKT7' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 21:18:20.763 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true), @__p_1='Default' (Size = 450), @__p_2='AccessToken' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[LoginProvider] = @__p_1 AND [a].[Name] = @__p_2
2024-11-18 21:18:20.786 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 21:18:20.797 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='Default' (Nullable = false) (Size = 450), @p2='AccessToken' (Nullable = false) (Size = 450), @p3='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJhZjkwNThmMy0zOWEyLTRjMjEtYTVjOS00MjgzYjFlNzgwYzgiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6Ijk0NGM3ZGM5LTUzMzctNDY3NC04ZTNhLTA4ZGQwM2VkZTg0NCIsImVtYWlsIjoibmRuZy5taW51cm1lbWl6YWRlQGdtYWlsLmNvbSIsImV4cCI6MTczMTk1MTIwMH0.h1LZUSyZdxD6Pxm1hSf3Ga0pLE_C1PsAD00u1BLLCQI' (Size = 4000), @p20='944c7dc9-5337-4674-8e3a-08dd03ede844', @p4='0', @p5='4daf5789-8e73-4297-bf77-7bc8ff56f20c' (Size = 4000), @p21='517c1fa4-3c38-45ea-be98-f3ea7e1dfa69' (Size = 4000), @p6='ndng.minurmemizade@gmail.com' (Size = 256), @p7='True', @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p11='MINURMEMIZADE' (Size = 256), @p12='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='lrd84pdqNIHdGQILNrVk52hpdJxfmzd5hu/CrUS65laBUwece9I7ZA8jPSmmJhc1UxrcF2vCr75UZc2Oy3ICVg==' (Size = 4000), @p16='2025-01-17T21:18:20.6837474+04:00' (Nullable = true), @p17='2HW7QFJ2KEEYJ6S3XKEBGI4E5IVBLKT7' (Size = 4000), @p18='False', @p19='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUserTokens] SET [Value] = @p0
OUTPUT 1
WHERE [LoginProvider] = @p1 AND [Name] = @p2 AND [UserId] = @p3;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpireTime] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-11-18 21:18:20.809 +04:00 [INF] Executing OkObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.ResponseDTO'.
2024-11-18 21:18:20.817 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 2090.2504ms
2024-11-18 21:18:20.819 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 21:18:20.826 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 200 null application/json; charset=utf-8 2128.6094ms
2024-11-18 21:18:34.594 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Car/AddCar - multipart/form-data; boundary=----WebKitFormBoundaryNfFVs2tta1Rv3iui 1456868
2024-11-18 21:18:34.637 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi)'
2024-11-18 21:18:34.645 +04:00 [INF] Route matched with {action = "AddCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCar(CarMarketplaceWebApi.Models.DTOs.CarDTO) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 21:18:34.801 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-18 21:18:34.914 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='b11b8aaf-f07c-4df9-f983-08dd07f50892', @p1='ndng.minurmemizade@gmail.com' (Size = 4000), @p2='MinurMemizade' (Size = 4000), @p3='0f7f239b-b5b6-4044-bdff-08dd07f5088e', @p4='asd' (Nullable = false) (Size = 4000), @p5='asd' (Nullable = false) (Size = 4000), @p6='["https://www.example.com/uploads/70d6b37e-3ca8-4a04-9fcf-9f98bb58fb9e_4ea1fd11-7cd1-43c3-b5df-7f927d5826d9.jpg"]' (Nullable = false) (Size = 4000), @p7='False', @p8='ford' (Nullable = false) (Size = 4000), @p9='asd' (Nullable = false) (Size = 4000), @p10='asd' (Nullable = false) (Size = 4000), @p11='123', @p12='b11b8aaf-f07c-4df9-f983-08dd07f50892', @p13='asd' (Nullable = false) (Size = 4000), @p14='2024-11-18T17:18:34.8271180Z', @p15='1', @p16=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Seller] ([Id], [Email], [UserName])
VALUES (@p0, @p1, @p2);
INSERT INTO [cars] ([Id], [Class], [Color], [ImageUrls], [IsNew], [Make], [Mileage], [Model], [Price], [SellerId], [Year], [createdTime], [eStatus], [soldTime])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2024-11-18 21:18:34.918 +04:00 [INF] Executing ObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.CarDTO'.
2024-11-18 21:18:34.928 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi) in 281.0259ms
2024-11-18 21:18:34.930 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi)'
2024-11-18 21:18:34.932 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Car/AddCar - 201 null application/json; charset=utf-8 338.2415ms
2024-11-18 21:19:05.037 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-18 21:19:05.044 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 21:19:05.048 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 21:19:05.072 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
2024-11-18 21:19:05.082 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 21:19:05.092 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 42.7828ms
2024-11-18 21:19:05.093 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 21:19:05.095 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 59.2535ms
2024-11-18 21:19:26.289 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Car/Approve - multipart/form-data; boundary=----WebKitFormBoundarynAFtDwmjLLt9eUVp 270
2024-11-18 21:19:26.295 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.ApproveCarRequest (CarMarketplaceWebApi)'
2024-11-18 21:19:26.300 +04:00 [INF] Route matched with {action = "ApproveCarRequest", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveCarRequest(System.Guid, System.String) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 21:19:26.326 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='0f7f239b-b5b6-4044-bdff-08dd07f5088e' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
WHERE [c].[Id] = @__get_Item_0
2024-11-18 21:19:26.390 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.ApproveCarRequest (CarMarketplaceWebApi) in 87.7972ms
2024-11-18 21:19:26.392 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.ApproveCarRequest (CarMarketplaceWebApi)'
2024-11-18 21:19:26.395 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: An error occured.
   at CarMarketplaceWebApi.Services.Implementations.CarService.ApproveRequest(Guid id, String action) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Services\Implementations\CarService.cs:line 97
   at CarMarketplaceWebApi.Controllers.CarController.ApproveCarRequest(Guid id, String status) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Controllers\CarController.cs:line 65
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-18 21:19:26.413 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Car/Approve - 500 null text/plain; charset=utf-8 124.1692ms
2024-11-18 21:20:27.505 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Car/Approve - multipart/form-data; boundary=----WebKitFormBoundarypt7rRI3m6ohC2ssk 269
2024-11-18 21:20:27.512 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.ApproveCarRequest (CarMarketplaceWebApi)'
2024-11-18 21:20:27.513 +04:00 [INF] Route matched with {action = "ApproveCarRequest", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveCarRequest(System.Guid, System.String) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 21:20:27.523 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='0f7f239b-b5b6-4044-bdff-08dd07f5088e' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
WHERE [c].[Id] = @__get_Item_0
2024-11-18 21:20:27.532 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p13='0f7f239b-b5b6-4044-bdff-08dd07f5088e', @p0='asd' (Nullable = false) (Size = 4000), @p1='asd' (Nullable = false) (Size = 4000), @p2='["https://www.example.com/uploads/70d6b37e-3ca8-4a04-9fcf-9f98bb58fb9e_4ea1fd11-7cd1-43c3-b5df-7f927d5826d9.jpg"]' (Nullable = false) (Size = 4000), @p3='False', @p4='ford' (Nullable = false) (Size = 4000), @p5='asd' (Nullable = false) (Size = 4000), @p6='asd' (Nullable = false) (Size = 4000), @p7='123', @p8='b11b8aaf-f07c-4df9-f983-08dd07f50892', @p9='asd' (Nullable = false) (Size = 4000), @p10='2024-11-18T17:18:34.8271180', @p11='0', @p12=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [cars] SET [Class] = @p0, [Color] = @p1, [ImageUrls] = @p2, [IsNew] = @p3, [Make] = @p4, [Mileage] = @p5, [Model] = @p6, [Price] = @p7, [SellerId] = @p8, [Year] = @p9, [createdTime] = @p10, [eStatus] = @p11, [soldTime] = @p12
OUTPUT 1
WHERE [Id] = @p13;
2024-11-18 21:20:27.539 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 202
2024-11-18 21:20:27.540 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.ApproveCarRequest (CarMarketplaceWebApi) in 25.0626ms
2024-11-18 21:20:27.543 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.ApproveCarRequest (CarMarketplaceWebApi)'
2024-11-18 21:20:27.544 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Car/Approve - 202 0 null 39.8049ms
2024-11-18 21:20:34.265 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetApprovedCars - null null
2024-11-18 21:20:34.280 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetApprovedCars (CarMarketplaceWebApi)'
2024-11-18 21:20:34.284 +04:00 [INF] Route matched with {action = "GetApprovedCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovedCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 21:20:34.295 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.IEnumerable`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[CarMarketplaceWebApi.Services.Implementations.CarService+<GetApprovedCars>d__11, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 21:20:34.299 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__status_0='0'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
WHERE [c].[eStatus] = @__status_0
2024-11-18 21:20:34.302 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetApprovedCars (CarMarketplaceWebApi) in 14.1502ms
2024-11-18 21:20:34.304 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetApprovedCars (CarMarketplaceWebApi)'
2024-11-18 21:20:34.305 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[System.Collections.Generic.IEnumerable`1[CarMarketplaceWebApi.Models.Car],CarMarketplaceWebApi.Services.Implementations.CarService+<GetApprovedCars>d__11]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfo(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-18 21:20:34.314 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetApprovedCars - 500 null text/plain; charset=utf-8 49.9078ms
2024-11-18 21:23:07.941 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 21:23:08.086 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 21:23:08.120 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 21:23:08.121 +04:00 [INF] Hosting environment: Development
2024-11-18 21:23:08.122 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 21:23:08.722 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 21:23:08.855 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 136.7765ms
2024-11-18 21:23:08.971 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 21:23:08.971 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 21:23:08.974 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 3.3659ms
2024-11-18 21:23:08.999 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.3119ms
2024-11-18 21:23:09.112 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 21:23:09.118 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 6.4586ms
2024-11-18 21:23:14.145 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetApprovedCars - null null
2024-11-18 21:23:14.152 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-18 21:23:14.187 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetApprovedCars (CarMarketplaceWebApi)'
2024-11-18 21:23:14.199 +04:00 [INF] Route matched with {action = "GetApprovedCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovedCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 21:23:14.825 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 21:23:15.363 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.IEnumerable`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[CarMarketplaceWebApi.Services.Implementations.CarService+<GetApprovedCars>d__11, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 21:23:15.381 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetApprovedCars (CarMarketplaceWebApi) in 1178.1294ms
2024-11-18 21:23:15.384 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetApprovedCars (CarMarketplaceWebApi)'
2024-11-18 21:23:15.387 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[System.Collections.Generic.IEnumerable`1[CarMarketplaceWebApi.Models.Car],CarMarketplaceWebApi.Services.Implementations.CarService+<GetApprovedCars>d__11]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfo(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-18 21:23:15.425 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetApprovedCars - 500 null text/plain; charset=utf-8 1279.209ms
2024-11-18 21:23:15.429 +04:00 [ERR] An error occurred using the connection to database 'WebApiArc' on server 'MSI\SQLEXPRESS'.
2024-11-18 21:26:53.898 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 21:26:54.141 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 21:26:54.194 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 21:26:54.195 +04:00 [INF] Hosting environment: Development
2024-11-18 21:26:54.197 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 21:26:55.096 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 21:26:55.350 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 259.3576ms
2024-11-18 21:26:55.577 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 21:26:55.577 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 21:26:55.586 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 9.1914ms
2024-11-18 21:26:55.628 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.834ms
2024-11-18 21:26:55.863 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 21:26:55.878 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.8018ms
2024-11-18 21:27:01.425 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-18 21:27:01.495 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-18 21:27:01.659 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 21:27:01.702 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 21:27:02.985 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 21:27:03.923 +04:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
2024-11-18 21:27:03.980 +04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CarMarketplaceWebApi.Context.AppDBContext'.
System.InvalidCastException: Unable to cast object of type 'System.Int32' to type 'System.String'.
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method18(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidCastException: Unable to cast object of type 'System.Int32' to type 'System.String'.
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method18(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2024-11-18 21:27:04.147 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 2436.6617ms
2024-11-18 21:27:04.151 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 21:27:04.158 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidCastException: Unable to cast object of type 'System.Int32' to type 'System.String'.
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method18(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CarMarketplaceWebApi.Repositories.Implementations.Repository`1.GetAllAsync() in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Repositories\Implementations\Repository.cs:line 39
   at CarMarketplaceWebApi.Services.Implementations.CarService.GetAllAsync() in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Services\Implementations\CarService.cs:line 63
   at CarMarketplaceWebApi.Controllers.CarController.GetAllCars() in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Controllers\CarController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-18 21:27:04.190 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 500 null text/plain; charset=utf-8 2765.6128ms
2024-11-18 21:27:43.258 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 21:27:43.495 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 21:27:43.559 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 21:27:43.563 +04:00 [INF] Hosting environment: Development
2024-11-18 21:27:43.565 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 21:27:44.365 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 21:27:44.595 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 236.772ms
2024-11-18 21:27:44.643 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 21:27:44.651 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 7.9309ms
2024-11-18 21:27:44.851 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 21:27:44.896 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.7578ms
2024-11-18 21:27:45.207 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 21:27:45.217 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.9775ms
2024-11-18 21:28:01.551 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundaryw1y1sA5slUSHhMxJ 269
2024-11-18 21:28:01.563 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-18 21:28:01.627 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 21:28:01.659 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-18 21:28:02.724 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 21:28:03.766 +04:00 [INF] Executed DbCommand (59ms) [Parameters=[@__normalizedEmail_0='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-18 21:28:04.101 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='944c7dc9-5337-4674-8e3a-08dd03ede844'], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-18 21:28:04.171 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 21:28:04.427 +04:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='jti' (Size = 4000), @p1='fcdfffc0-dd68-415f-9a1d-21e6e7e4a40a' (Size = 4000), @p2='944c7dc9-5337-4674-8e3a-08dd03ede844', @p3='http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier' (Size = 4000), @p4='944c7dc9-5337-4674-8e3a-08dd03ede844' (Size = 4000), @p5='944c7dc9-5337-4674-8e3a-08dd03ede844', @p6='email' (Size = 4000), @p7='ndng.minurmemizade@gmail.com' (Size = 4000), @p8='944c7dc9-5337-4674-8e3a-08dd03ede844', @p25='944c7dc9-5337-4674-8e3a-08dd03ede844', @p9='0', @p10='05371187-fb03-4da4-8b19-b6220bc44a49' (Size = 4000), @p26='4daf5789-8e73-4297-bf77-7bc8ff56f20c' (Size = 4000), @p11='ndng.minurmemizade@gmail.com' (Size = 256), @p12='True', @p13='True', @p14=NULL (DbType = DateTimeOffset), @p15='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p16='MINURMEMIZADE' (Size = 256), @p17='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p18=NULL (Size = 4000), @p19='False', @p20='lrd84pdqNIHdGQILNrVk52hpdJxfmzd5hu/CrUS65laBUwece9I7ZA8jPSmmJhc1UxrcF2vCr75UZc2Oy3ICVg==' (Size = 4000), @p21='2025-01-17T21:18:20.6837474' (Nullable = true), @p22='2HW7QFJ2KEEYJ6S3XKEBGI4E5IVBLKT7' (Size = 4000), @p23='False', @p24='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [AspNetUserClaims] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2)) AS i ([ClaimType], [ClaimValue], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClaimType], [ClaimValue], [UserId])
VALUES (i.[ClaimType], i.[ClaimValue], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [RefreshToken] = @p20, [RefreshTokenExpireTime] = @p21, [SecurityStamp] = @p22, [TwoFactorEnabled] = @p23, [UserName] = @p24
OUTPUT 1
WHERE [Id] = @p25 AND [ConcurrencyStamp] = @p26;
2024-11-18 21:28:04.500 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 21:28:04.525 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='87a46485-e61f-44db-8e08-4d03b31529fe' (Size = 4000), @p17='05371187-fb03-4da4-8b19-b6220bc44a49' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='1YxUvoGeApTjWSN7Uc32pKeF6sauwIzz/TNrebN79z72+oOtfN35a5quRkjkq81KqcaWCXoA+4vO5cv7vmviuQ==' (Size = 4000), @p12='2025-01-17T21:28:04.4940841+04:00' (Nullable = true), @p13='2HW7QFJ2KEEYJ6S3XKEBGI4E5IVBLKT7' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 21:28:04.669 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 21:28:04.675 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='f1b15e5c-5f94-4168-9c5f-5671c24e2f87' (Size = 4000), @p17='87a46485-e61f-44db-8e08-4d03b31529fe' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='1YxUvoGeApTjWSN7Uc32pKeF6sauwIzz/TNrebN79z72+oOtfN35a5quRkjkq81KqcaWCXoA+4vO5cv7vmviuQ==' (Size = 4000), @p12='2025-01-17T21:28:04.4940841+04:00' (Nullable = true), @p13='XR5KKRXFJGTQ5Y7FEHZTGUCCNXTU5VY4' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 21:28:04.748 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true), @__p_1='Default' (Size = 450), @__p_2='AccessToken' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[LoginProvider] = @__p_1 AND [a].[Name] = @__p_2
2024-11-18 21:28:04.778 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 21:28:04.792 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='Default' (Nullable = false) (Size = 450), @p2='AccessToken' (Nullable = false) (Size = 450), @p3='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJmY2RmZmZjMC1kZDY4LTQxNWYtOWExZC0yMWU2ZTdlNGE0MGEiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6Ijk0NGM3ZGM5LTUzMzctNDY3NC04ZTNhLTA4ZGQwM2VkZTg0NCIsImVtYWlsIjoibmRuZy5taW51cm1lbWl6YWRlQGdtYWlsLmNvbSIsImV4cCI6MTczMTk1MTc4NH0.LAA02y0DLq35rh3JOMPB-rS7P_Aa10hsEkiKVmX63_U' (Size = 4000), @p20='944c7dc9-5337-4674-8e3a-08dd03ede844', @p4='0', @p5='9d13e4ad-e59e-4c76-b65e-b047204bb62a' (Size = 4000), @p21='f1b15e5c-5f94-4168-9c5f-5671c24e2f87' (Size = 4000), @p6='ndng.minurmemizade@gmail.com' (Size = 256), @p7='True', @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p11='MINURMEMIZADE' (Size = 256), @p12='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='1YxUvoGeApTjWSN7Uc32pKeF6sauwIzz/TNrebN79z72+oOtfN35a5quRkjkq81KqcaWCXoA+4vO5cv7vmviuQ==' (Size = 4000), @p16='2025-01-17T21:28:04.4940841+04:00' (Nullable = true), @p17='XR5KKRXFJGTQ5Y7FEHZTGUCCNXTU5VY4' (Size = 4000), @p18='False', @p19='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUserTokens] SET [Value] = @p0
OUTPUT 1
WHERE [LoginProvider] = @p1 AND [Name] = @p2 AND [UserId] = @p3;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpireTime] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-11-18 21:28:04.809 +04:00 [INF] Executing OkObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.ResponseDTO'.
2024-11-18 21:28:04.824 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 3148.487ms
2024-11-18 21:28:04.826 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 21:28:04.840 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 200 null application/json; charset=utf-8 3288.7571ms
2024-11-18 21:28:24.730 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-18 21:28:24.814 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 21:28:24.854 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 21:28:24.940 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
2024-11-18 21:28:24.949 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 21:28:24.964 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 104.8672ms
2024-11-18 21:28:24.967 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 21:28:24.969 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 239.3269ms
2024-11-18 21:28:51.396 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Car/AddCar - multipart/form-data; boundary=----WebKitFormBoundarydeB3m7yLWFd3aFEA 392126
2024-11-18 21:28:51.448 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi)'
2024-11-18 21:28:51.456 +04:00 [INF] Route matched with {action = "AddCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCar(CarMarketplaceWebApi.Models.DTOs.CarDTO) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 21:28:51.556 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-18 21:28:51.692 +04:00 [ERR] Failed executing DbCommand (40ms) [Parameters=[@p0='e3d37e5a-dcd7-4aaf-2e56-08dd07f6782f', @p1='ndng.minurmemizade@gmail.com' (Size = 4000), @p2='MinurMemizade' (Size = 4000), @p3='ff3e030a-0716-429d-77ab-08dd07f67829', @p4='sdaasd' (Nullable = false) (Size = 4000), @p5='asd' (Nullable = false) (Size = 4000), @p6='["https://www.example.com/uploads/9e55ce55-8c28-492a-bf9f-2c28184edf4b_1920x1080-2605032-pacman-hd-wallpaper-for-free-download.png"]' (Nullable = false) (Size = 4000), @p7='True', @p8='asd' (Nullable = false) (Size = 4000), @p9='asd' (Nullable = false) (Size = 4000), @p10='asd' (Nullable = false) (Size = 4000), @p11='123', @p12='e3d37e5a-dcd7-4aaf-2e56-08dd07f6782f', @p13='asd' (Nullable = false) (Size = 4000), @p14='2024-11-18T17:28:51.5629053Z', @p15='PENDING' (Nullable = false) (Size = 4000), @p16=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Seller] ([Id], [Email], [UserName])
VALUES (@p0, @p1, @p2);
INSERT INTO [cars] ([Id], [Class], [Color], [ImageUrls], [IsNew], [Make], [Mileage], [Model], [Price], [SellerId], [Year], [createdTime], [eStatus], [soldTime])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2024-11-18 21:28:51.736 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'CarMarketplaceWebApi.Context.AppDBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Conversion failed when converting the nvarchar value 'PENDING' to data type int.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ddbf2dbf-be9e-4068-a686-63d4d2b4a1be
Error Number:245,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Conversion failed when converting the nvarchar value 'PENDING' to data type int.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ddbf2dbf-be9e-4068-a686-63d4d2b4a1be
Error Number:245,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-11-18 21:28:52.050 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi) in 590.3733ms
2024-11-18 21:28:52.056 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi)'
2024-11-18 21:28:52.060 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Conversion failed when converting the nvarchar value 'PENDING' to data type int.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ddbf2dbf-be9e-4068-a686-63d4d2b4a1be
Error Number:245,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CarMarketplaceWebApi.Repositories.Implementations.Repository`1.CreateAsync(T entity) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Repositories\Implementations\Repository.cs:line 24
   at CarMarketplaceWebApi.Services.Implementations.CarService.CreateAsync(CarDTO carDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Services\Implementations\CarService.cs:line 53
   at CarMarketplaceWebApi.Controllers.CarController.AddCar(CarDTO carDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Controllers\CarController.cs:line 42
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-18 21:28:52.104 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Car/AddCar - 500 null text/plain; charset=utf-8 709.0443ms
2024-11-18 21:31:29.021 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 21:31:29.253 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 21:31:29.324 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 21:31:29.325 +04:00 [INF] Hosting environment: Development
2024-11-18 21:31:29.326 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 21:31:29.803 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 21:31:30.097 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 302.91ms
2024-11-18 21:31:30.129 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 21:31:30.138 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 9.2544ms
2024-11-18 21:31:30.271 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 21:31:30.331 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.607ms
2024-11-18 21:31:30.543 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 21:31:30.557 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.3258ms
2024-11-18 21:31:55.237 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 21:31:55.492 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 21:31:55.574 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 21:31:55.576 +04:00 [INF] Hosting environment: Development
2024-11-18 21:31:55.578 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 21:31:55.997 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 21:31:56.265 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 274.4444ms
2024-11-18 21:31:56.548 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 21:31:56.548 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 21:31:56.553 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 4.2714ms
2024-11-18 21:31:56.597 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.6956ms
2024-11-18 21:31:56.869 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 21:31:56.884 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.5969ms
2024-11-18 21:32:21.647 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Car/AddCar - multipart/form-data; boundary=----WebKitFormBoundaryOBrj9AU7iuxMe2EN 1456866
2024-11-18 21:32:21.665 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-18 21:32:21.725 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi)'
2024-11-18 21:32:21.760 +04:00 [INF] Route matched with {action = "AddCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCar(CarMarketplaceWebApi.Models.DTOs.CarDTO) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 21:32:22.622 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 21:32:46.949 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 21:32:47.264 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 21:32:47.321 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 21:32:47.325 +04:00 [INF] Hosting environment: Development
2024-11-18 21:32:47.328 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 21:32:48.080 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 21:32:48.367 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 297.4424ms
2024-11-18 21:32:48.607 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 21:32:48.607 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 21:32:48.619 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 12.5912ms
2024-11-18 21:32:48.658 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.9904ms
2024-11-18 21:32:48.842 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 21:32:48.859 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.4665ms
2024-11-18 21:33:10.207 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundaryCo21OBGIvqUK8ODz 269
2024-11-18 21:33:10.235 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-18 21:33:10.290 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 21:33:10.311 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-18 21:33:11.410 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 21:33:12.730 +04:00 [INF] Executed DbCommand (64ms) [Parameters=[@__normalizedEmail_0='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-18 21:33:13.056 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='944c7dc9-5337-4674-8e3a-08dd03ede844'], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-18 21:33:13.129 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 21:33:13.252 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='jti' (Size = 4000), @p1='9d616d3a-321c-4756-8cee-c0ffaabae17a' (Size = 4000), @p2='944c7dc9-5337-4674-8e3a-08dd03ede844', @p3='http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier' (Size = 4000), @p4='944c7dc9-5337-4674-8e3a-08dd03ede844' (Size = 4000), @p5='944c7dc9-5337-4674-8e3a-08dd03ede844', @p6='email' (Size = 4000), @p7='ndng.minurmemizade@gmail.com' (Size = 4000), @p8='944c7dc9-5337-4674-8e3a-08dd03ede844', @p25='944c7dc9-5337-4674-8e3a-08dd03ede844', @p9='0', @p10='8706f536-59b2-47dc-b96a-dd4d0a2f17e1' (Size = 4000), @p26='9d13e4ad-e59e-4c76-b65e-b047204bb62a' (Size = 4000), @p11='ndng.minurmemizade@gmail.com' (Size = 256), @p12='True', @p13='True', @p14=NULL (DbType = DateTimeOffset), @p15='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p16='MINURMEMIZADE' (Size = 256), @p17='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p18=NULL (Size = 4000), @p19='False', @p20='1YxUvoGeApTjWSN7Uc32pKeF6sauwIzz/TNrebN79z72+oOtfN35a5quRkjkq81KqcaWCXoA+4vO5cv7vmviuQ==' (Size = 4000), @p21='2025-01-17T21:28:04.4940841' (Nullable = true), @p22='XR5KKRXFJGTQ5Y7FEHZTGUCCNXTU5VY4' (Size = 4000), @p23='False', @p24='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [AspNetUserClaims] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2)) AS i ([ClaimType], [ClaimValue], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClaimType], [ClaimValue], [UserId])
VALUES (i.[ClaimType], i.[ClaimValue], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [RefreshToken] = @p20, [RefreshTokenExpireTime] = @p21, [SecurityStamp] = @p22, [TwoFactorEnabled] = @p23, [UserName] = @p24
OUTPUT 1
WHERE [Id] = @p25 AND [ConcurrencyStamp] = @p26;
2024-11-18 21:33:13.303 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 21:33:13.315 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='2be49f91-ad66-4c0d-8233-f46392b09763' (Size = 4000), @p17='8706f536-59b2-47dc-b96a-dd4d0a2f17e1' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='OYHHJXbdTvdjwDevyXeAsPSM+5Hd1Kqp345F3QTYq6io0KWgZeSMZa/OucsCLjuJuv7PASXmINnriJpH+iJ6qA==' (Size = 4000), @p12='2025-01-17T21:33:13.2964809+04:00' (Nullable = true), @p13='XR5KKRXFJGTQ5Y7FEHZTGUCCNXTU5VY4' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 21:33:13.336 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 21:33:13.343 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='6d605dcb-55d0-443b-9098-a70a21ce85fa' (Size = 4000), @p17='2be49f91-ad66-4c0d-8233-f46392b09763' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='OYHHJXbdTvdjwDevyXeAsPSM+5Hd1Kqp345F3QTYq6io0KWgZeSMZa/OucsCLjuJuv7PASXmINnriJpH+iJ6qA==' (Size = 4000), @p12='2025-01-17T21:33:13.2964809+04:00' (Nullable = true), @p13='FNRZSSFWHNOJRR4HQKRPCWROGAHG2HG7' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 21:33:13.419 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true), @__p_1='Default' (Size = 450), @__p_2='AccessToken' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[LoginProvider] = @__p_1 AND [a].[Name] = @__p_2
2024-11-18 21:33:13.440 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 21:33:13.457 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='Default' (Nullable = false) (Size = 450), @p2='AccessToken' (Nullable = false) (Size = 450), @p3='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI5ZDYxNmQzYS0zMjFjLTQ3NTYtOGNlZS1jMGZmYWFiYWUxN2EiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6Ijk0NGM3ZGM5LTUzMzctNDY3NC04ZTNhLTA4ZGQwM2VkZTg0NCIsImVtYWlsIjoibmRuZy5taW51cm1lbWl6YWRlQGdtYWlsLmNvbSIsImV4cCI6MTczMTk1MjA5M30.EEepGPZbU6WHaTHxOczaSEUrws89LIx8o3T3UT1eZCQ' (Size = 4000), @p20='944c7dc9-5337-4674-8e3a-08dd03ede844', @p4='0', @p5='ba30a279-69af-4ca1-81c6-a2c074436daa' (Size = 4000), @p21='6d605dcb-55d0-443b-9098-a70a21ce85fa' (Size = 4000), @p6='ndng.minurmemizade@gmail.com' (Size = 256), @p7='True', @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p11='MINURMEMIZADE' (Size = 256), @p12='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='OYHHJXbdTvdjwDevyXeAsPSM+5Hd1Kqp345F3QTYq6io0KWgZeSMZa/OucsCLjuJuv7PASXmINnriJpH+iJ6qA==' (Size = 4000), @p16='2025-01-17T21:33:13.2964809+04:00' (Nullable = true), @p17='FNRZSSFWHNOJRR4HQKRPCWROGAHG2HG7' (Size = 4000), @p18='False', @p19='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUserTokens] SET [Value] = @p0
OUTPUT 1
WHERE [LoginProvider] = @p1 AND [Name] = @p2 AND [UserId] = @p3;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpireTime] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-11-18 21:33:13.473 +04:00 [INF] Executing OkObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.ResponseDTO'.
2024-11-18 21:33:13.487 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 3168.3511ms
2024-11-18 21:33:13.490 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 21:33:13.499 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 200 null application/json; charset=utf-8 3292.2607ms
2024-11-18 21:34:00.540 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Car/AddCar - multipart/form-data; boundary=----WebKitFormBoundary7iz3d0VAQl5UAuhr 1456866
2024-11-18 21:34:00.590 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi)'
2024-11-18 21:34:00.597 +04:00 [INF] Route matched with {action = "AddCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCar(CarMarketplaceWebApi.Models.DTOs.CarDTO) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 21:34:00.786 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-18 21:34:00.898 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='83032991-8da6-4e35-574f-08dd07f7307f', @p1='ndng.minurmemizade@gmail.com' (Size = 4000), @p2='MinurMemizade' (Size = 4000), @p3='84acaa27-c9d4-45cd-f127-08dd07f7307a', @p4='asd' (Nullable = false) (Size = 4000), @p5='asd' (Nullable = false) (Size = 4000), @p6='["https://www.example.com/uploads/2542b943-90c1-4410-b11c-f502020f0def_4ea1fd11-7cd1-43c3-b5df-7f927d5826d9.jpg"]' (Nullable = false) (Size = 4000), @p7='True', @p8='asd' (Nullable = false) (Size = 4000), @p9='asd' (Nullable = false) (Size = 4000), @p10='asd' (Nullable = false) (Size = 4000), @p11='123', @p12='83032991-8da6-4e35-574f-08dd07f7307f', @p13='asd' (Nullable = false) (Size = 4000), @p14='2024-11-18T17:34:00.8003836Z', @p15='0', @p16=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Seller] ([Id], [Email], [UserName])
VALUES (@p0, @p1, @p2);
INSERT INTO [cars] ([Id], [Class], [Color], [ImageUrls], [IsNew], [Make], [Mileage], [Model], [Price], [SellerId], [Year], [createdTime], [eStatus], [soldTime])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2024-11-18 21:34:00.907 +04:00 [INF] Executing ObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.CarDTO'.
2024-11-18 21:34:00.925 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi) in 325.8369ms
2024-11-18 21:34:00.928 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi)'
2024-11-18 21:34:00.932 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Car/AddCar - 201 null application/json; charset=utf-8 394.1482ms
2024-11-18 21:34:13.999 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-18 21:34:14.025 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 21:34:14.032 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 21:34:14.065 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
2024-11-18 21:34:14.073 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 21:34:14.090 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 54.2898ms
2024-11-18 21:34:14.093 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 21:34:14.095 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 96.3121ms
2024-11-18 21:34:39.388 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Car/Approve - multipart/form-data; boundary=----WebKitFormBoundaryfqhsAnKmeWXGv9Vb 269
2024-11-18 21:34:39.410 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.ApproveCarRequest (CarMarketplaceWebApi)'
2024-11-18 21:34:39.423 +04:00 [INF] Route matched with {action = "ApproveCarRequest", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveCarRequest(System.Guid, System.String) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 21:34:39.452 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='84acaa27-c9d4-45cd-f127-08dd07f7307a' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
WHERE [c].[Id] = @__get_Item_0
2024-11-18 21:34:39.464 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@p13='84acaa27-c9d4-45cd-f127-08dd07f7307a', @p0='asd' (Nullable = false) (Size = 4000), @p1='asd' (Nullable = false) (Size = 4000), @p2='["https://www.example.com/uploads/2542b943-90c1-4410-b11c-f502020f0def_4ea1fd11-7cd1-43c3-b5df-7f927d5826d9.jpg"]' (Nullable = false) (Size = 4000), @p3='True', @p4='asd' (Nullable = false) (Size = 4000), @p5='asd' (Nullable = false) (Size = 4000), @p6='asd' (Nullable = false) (Size = 4000), @p7='123', @p8='83032991-8da6-4e35-574f-08dd07f7307f', @p9='asd' (Nullable = false) (Size = 4000), @p10='2024-11-18T17:34:00.8003836', @p11='1', @p12=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [cars] SET [Class] = @p0, [Color] = @p1, [ImageUrls] = @p2, [IsNew] = @p3, [Make] = @p4, [Mileage] = @p5, [Model] = @p6, [Price] = @p7, [SellerId] = @p8, [Year] = @p9, [createdTime] = @p10, [eStatus] = @p11, [soldTime] = @p12
OUTPUT 1
WHERE [Id] = @p13;
2024-11-18 21:34:39.471 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 202
2024-11-18 21:34:39.472 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.ApproveCarRequest (CarMarketplaceWebApi) in 47.238ms
2024-11-18 21:34:39.476 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.ApproveCarRequest (CarMarketplaceWebApi)'
2024-11-18 21:34:39.478 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Car/Approve - 202 0 null 89.3562ms
2024-11-18 21:34:45.974 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetApprovedCars - null null
2024-11-18 21:34:45.991 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetApprovedCars (CarMarketplaceWebApi)'
2024-11-18 21:34:45.999 +04:00 [INF] Route matched with {action = "GetApprovedCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovedCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 21:34:46.012 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.IEnumerable`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[CarMarketplaceWebApi.Services.Implementations.CarService+<GetApprovedCars>d__11, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 21:34:46.012 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__status_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
WHERE [c].[eStatus] = @__status_0
2024-11-18 21:34:46.020 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetApprovedCars (CarMarketplaceWebApi) in 18.8095ms
2024-11-18 21:34:46.025 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetApprovedCars (CarMarketplaceWebApi)'
2024-11-18 21:34:46.030 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[System.Collections.Generic.IEnumerable`1[CarMarketplaceWebApi.Models.Car],CarMarketplaceWebApi.Services.Implementations.CarService+<GetApprovedCars>d__11]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfo(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-18 21:34:46.054 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetApprovedCars - 500 null text/plain; charset=utf-8 81.6162ms
2024-11-18 21:34:58.626 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Car/AddCar - multipart/form-data; boundary=----WebKitFormBoundaryBmjCrEJbO4LCd0SA 1456866
2024-11-18 21:34:58.657 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi)'
2024-11-18 21:34:58.663 +04:00 [INF] Route matched with {action = "AddCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCar(CarMarketplaceWebApi.Models.DTOs.CarDTO) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 21:34:58.735 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-18 21:34:58.773 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='c13803d2-1a2c-4b21-5750-08dd07f7307f', @p1='ndng.minurmemizade@gmail.com' (Size = 4000), @p2='MinurMemizade' (Size = 4000), @p3='d1889ca3-d755-4c48-f128-08dd07f7307a', @p4='asd' (Nullable = false) (Size = 4000), @p5='asd' (Nullable = false) (Size = 4000), @p6='["https://www.example.com/uploads/8a01a77b-fda3-49de-9f7d-e59ca6e7a63d_4ea1fd11-7cd1-43c3-b5df-7f927d5826d9.jpg"]' (Nullable = false) (Size = 4000), @p7='True', @p8='asd' (Nullable = false) (Size = 4000), @p9='asd' (Nullable = false) (Size = 4000), @p10='asd' (Nullable = false) (Size = 4000), @p11='123', @p12='c13803d2-1a2c-4b21-5750-08dd07f7307f', @p13='asd' (Nullable = false) (Size = 4000), @p14='2024-11-18T17:34:58.7676770Z', @p15='0', @p16=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Seller] ([Id], [Email], [UserName])
VALUES (@p0, @p1, @p2);
INSERT INTO [cars] ([Id], [Class], [Color], [ImageUrls], [IsNew], [Make], [Mileage], [Model], [Price], [SellerId], [Year], [createdTime], [eStatus], [soldTime])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2024-11-18 21:34:58.801 +04:00 [INF] Executing ObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.CarDTO'.
2024-11-18 21:34:58.803 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi) in 137.0704ms
2024-11-18 21:34:58.804 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi)'
2024-11-18 21:34:58.806 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Car/AddCar - 201 null application/json; charset=utf-8 181.2212ms
2024-11-18 21:35:13.996 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-18 21:35:14.023 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 21:35:14.026 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 21:35:14.037 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
2024-11-18 21:35:14.041 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 21:35:14.043 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 11.3489ms
2024-11-18 21:35:14.048 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 21:35:14.051 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 54.4634ms
2024-11-18 21:38:51.078 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 21:38:51.317 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 21:38:51.369 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 21:38:51.371 +04:00 [INF] Hosting environment: Development
2024-11-18 21:38:51.371 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 21:38:52.168 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 21:38:52.391 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 228.5946ms
2024-11-18 21:38:52.427 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 21:38:52.437 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 10.5639ms
2024-11-18 21:38:52.564 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 21:38:52.614 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.6953ms
2024-11-18 21:38:52.801 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 21:38:52.819 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.3176ms
2024-11-18 21:38:58.316 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetApprovedCars - null null
2024-11-18 21:38:58.340 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-18 21:38:58.432 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetApprovedCars (CarMarketplaceWebApi)'
2024-11-18 21:38:58.494 +04:00 [INF] Route matched with {action = "GetApprovedCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovedCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 21:38:59.665 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 21:39:00.482 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.IEnumerable`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[CarMarketplaceWebApi.Services.Implementations.CarService+<GetApprovedCars>d__11, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 21:39:00.503 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetApprovedCars (CarMarketplaceWebApi) in 1992.9776ms
2024-11-18 21:39:00.513 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetApprovedCars (CarMarketplaceWebApi)'
2024-11-18 21:39:00.542 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[System.Collections.Generic.IEnumerable`1[CarMarketplaceWebApi.Models.Car],CarMarketplaceWebApi.Services.Implementations.CarService+<GetApprovedCars>d__11]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfo(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-18 21:39:00.586 +04:00 [ERR] An error occurred using the connection to database 'WebApiArc' on server 'MSI\SQLEXPRESS'.
2024-11-18 21:39:00.590 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetApprovedCars - 500 null text/plain; charset=utf-8 2273.2225ms
2024-11-18 21:51:39.961 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 21:51:40.243 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 21:51:40.331 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 21:51:40.333 +04:00 [INF] Hosting environment: Development
2024-11-18 21:51:40.335 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 21:51:40.767 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 21:51:41.037 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 274.6977ms
2024-11-18 21:51:41.084 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 21:51:41.094 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 10.274ms
2024-11-18 21:51:41.206 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 21:51:41.264 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.9383ms
2024-11-18 21:51:41.524 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 21:51:41.541 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.8926ms
2024-11-18 21:51:47.060 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetApprovedCars - null null
2024-11-18 21:51:47.076 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-18 21:51:47.153 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetApprovedCars (CarMarketplaceWebApi)'
2024-11-18 21:51:47.185 +04:00 [INF] Route matched with {action = "GetApprovedCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovedCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 21:51:48.554 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 21:51:49.891 +04:00 [INF] Executed DbCommand (67ms) [Parameters=[@__status_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
WHERE [c].[eStatus] = @__status_0
2024-11-18 21:51:50.038 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 21:51:50.077 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetApprovedCars (CarMarketplaceWebApi) in 2864.9645ms
2024-11-18 21:51:50.080 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetApprovedCars (CarMarketplaceWebApi)'
2024-11-18 21:51:50.091 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetApprovedCars - 200 null application/json; charset=utf-8 3031.2506ms
2024-11-18 21:52:03.365 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetPendingCars - null null
2024-11-18 21:52:03.394 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetPendingCars (CarMarketplaceWebApi)'
2024-11-18 21:52:03.402 +04:00 [INF] Route matched with {action = "GetPendingCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPendingCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 21:52:03.493 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[@__status_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
WHERE [c].[eStatus] = @__status_0
2024-11-18 21:52:03.498 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 21:52:03.500 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetPendingCars (CarMarketplaceWebApi) in 94.2196ms
2024-11-18 21:52:03.501 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetPendingCars (CarMarketplaceWebApi)'
2024-11-18 21:52:03.503 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetPendingCars - 200 null application/json; charset=utf-8 138.065ms
2024-11-18 21:52:36.502 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 21:52:36.757 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 21:52:36.815 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 21:52:36.817 +04:00 [INF] Hosting environment: Development
2024-11-18 21:52:36.819 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 21:52:37.212 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 21:52:37.461 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 255.9921ms
2024-11-18 21:52:37.514 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 21:52:37.522 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 7.6297ms
2024-11-18 21:52:37.717 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 21:52:37.771 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.625ms
2024-11-18 21:52:38.098 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 21:52:38.111 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.2923ms
2024-11-18 21:53:05.321 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetPendingCars - null null
2024-11-18 21:53:05.353 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-18 21:53:05.416 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetPendingCars (CarMarketplaceWebApi)'
2024-11-18 21:53:05.441 +04:00 [INF] Route matched with {action = "GetPendingCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPendingCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 21:53:06.332 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 21:53:07.298 +04:00 [INF] Executed DbCommand (66ms) [Parameters=[@__status_0='0'], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
WHERE [c].[eStatus] = @__status_0
2024-11-18 21:53:07.433 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 21:53:07.490 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetPendingCars (CarMarketplaceWebApi) in 2040.0511ms
2024-11-18 21:53:07.493 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetPendingCars (CarMarketplaceWebApi)'
2024-11-18 21:53:07.504 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetPendingCars - 200 null application/json; charset=utf-8 2182.8753ms
2024-11-18 21:53:37.792 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetCarsById?id=d1889ca3-d755-4c48-f128-08dd07f7307a - null null
2024-11-18 21:53:37.801 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetCarsById (CarMarketplaceWebApi)'
2024-11-18 21:53:37.824 +04:00 [INF] Route matched with {action = "GetCarsById", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCarsById(System.Guid) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 21:53:37.999 +04:00 [INF] Executed DbCommand (17ms) [Parameters=[@__get_Item_0='d1889ca3-d755-4c48-f128-08dd07f7307a' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
WHERE [c].[Id] = @__get_Item_0
2024-11-18 21:53:38.010 +04:00 [INF] Executing ObjectResult, writing value of type 'CarMarketplaceWebApi.Models.Car'.
2024-11-18 21:53:38.012 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetCarsById (CarMarketplaceWebApi) in 184.0883ms
2024-11-18 21:53:38.020 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetCarsById (CarMarketplaceWebApi)'
2024-11-18 21:53:38.024 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetCarsById?id=d1889ca3-d755-4c48-f128-08dd07f7307a - 200 null application/json; charset=utf-8 231.3171ms
2024-11-18 21:53:57.884 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundaryZtXmBa1Rc0MhXnlj 269
2024-11-18 21:53:57.895 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 21:53:57.902 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-18 21:53:57.956 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-18 21:53:58.157 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='944c7dc9-5337-4674-8e3a-08dd03ede844'], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-18 21:53:58.218 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 21:53:58.375 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='jti' (Size = 4000), @p1='3593429f-f5d8-4801-8fb6-ec32df66827b' (Size = 4000), @p2='944c7dc9-5337-4674-8e3a-08dd03ede844', @p3='http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier' (Size = 4000), @p4='944c7dc9-5337-4674-8e3a-08dd03ede844' (Size = 4000), @p5='944c7dc9-5337-4674-8e3a-08dd03ede844', @p6='email' (Size = 4000), @p7='ndng.minurmemizade@gmail.com' (Size = 4000), @p8='944c7dc9-5337-4674-8e3a-08dd03ede844', @p25='944c7dc9-5337-4674-8e3a-08dd03ede844', @p9='0', @p10='62e68cb9-0034-49b0-8278-42e09e688291' (Size = 4000), @p26='ba30a279-69af-4ca1-81c6-a2c074436daa' (Size = 4000), @p11='ndng.minurmemizade@gmail.com' (Size = 256), @p12='True', @p13='True', @p14=NULL (DbType = DateTimeOffset), @p15='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p16='MINURMEMIZADE' (Size = 256), @p17='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p18=NULL (Size = 4000), @p19='False', @p20='OYHHJXbdTvdjwDevyXeAsPSM+5Hd1Kqp345F3QTYq6io0KWgZeSMZa/OucsCLjuJuv7PASXmINnriJpH+iJ6qA==' (Size = 4000), @p21='2025-01-17T21:33:13.2964809' (Nullable = true), @p22='FNRZSSFWHNOJRR4HQKRPCWROGAHG2HG7' (Size = 4000), @p23='False', @p24='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [AspNetUserClaims] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2)) AS i ([ClaimType], [ClaimValue], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClaimType], [ClaimValue], [UserId])
VALUES (i.[ClaimType], i.[ClaimValue], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [RefreshToken] = @p20, [RefreshTokenExpireTime] = @p21, [SecurityStamp] = @p22, [TwoFactorEnabled] = @p23, [UserName] = @p24
OUTPUT 1
WHERE [Id] = @p25 AND [ConcurrencyStamp] = @p26;
2024-11-18 21:53:58.431 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 21:53:58.460 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='e697d827-7b70-49ca-b88a-06d0f0f85443' (Size = 4000), @p17='62e68cb9-0034-49b0-8278-42e09e688291' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='coUI4We4aW7H6dK5Gugxkctbq92EygimQQ7D9ro9j/yqndZOW47+GjWYFgJCwC2aUe63gxAV31mkLixtCNAyCg==' (Size = 4000), @p12='2025-01-17T21:53:58.4249498+04:00' (Nullable = true), @p13='FNRZSSFWHNOJRR4HQKRPCWROGAHG2HG7' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 21:53:58.472 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 21:53:58.482 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='fede849c-dfa0-4cab-b4e4-192b8b1d92b7' (Size = 4000), @p17='e697d827-7b70-49ca-b88a-06d0f0f85443' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='coUI4We4aW7H6dK5Gugxkctbq92EygimQQ7D9ro9j/yqndZOW47+GjWYFgJCwC2aUe63gxAV31mkLixtCNAyCg==' (Size = 4000), @p12='2025-01-17T21:53:58.4249498+04:00' (Nullable = true), @p13='GABNEKDY4SJR4CYVAIRJJD242UBZ2QRO' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 21:53:58.541 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true), @__p_1='Default' (Size = 450), @__p_2='AccessToken' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[LoginProvider] = @__p_1 AND [a].[Name] = @__p_2
2024-11-18 21:53:58.568 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 21:53:58.582 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='Default' (Nullable = false) (Size = 450), @p2='AccessToken' (Nullable = false) (Size = 450), @p3='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIzNTkzNDI5Zi1mNWQ4LTQ4MDEtOGZiNi1lYzMyZGY2NjgyN2IiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6Ijk0NGM3ZGM5LTUzMzctNDY3NC04ZTNhLTA4ZGQwM2VkZTg0NCIsImVtYWlsIjoibmRuZy5taW51cm1lbWl6YWRlQGdtYWlsLmNvbSIsImV4cCI6MTczMTk1MzMzOH0.7Qqi88Xq5dD12EM3xJe4iAtRgf-Fr5Z5oYIbsUdUXxk' (Size = 4000), @p20='944c7dc9-5337-4674-8e3a-08dd03ede844', @p4='0', @p5='fa3a0aea-8d2f-4be9-b640-5dc083e050f2' (Size = 4000), @p21='fede849c-dfa0-4cab-b4e4-192b8b1d92b7' (Size = 4000), @p6='ndng.minurmemizade@gmail.com' (Size = 256), @p7='True', @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p11='MINURMEMIZADE' (Size = 256), @p12='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='coUI4We4aW7H6dK5Gugxkctbq92EygimQQ7D9ro9j/yqndZOW47+GjWYFgJCwC2aUe63gxAV31mkLixtCNAyCg==' (Size = 4000), @p16='2025-01-17T21:53:58.4249498+04:00' (Nullable = true), @p17='GABNEKDY4SJR4CYVAIRJJD242UBZ2QRO' (Size = 4000), @p18='False', @p19='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUserTokens] SET [Value] = @p0
OUTPUT 1
WHERE [LoginProvider] = @p1 AND [Name] = @p2 AND [UserId] = @p3;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpireTime] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-11-18 21:53:58.605 +04:00 [INF] Executing OkObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.ResponseDTO'.
2024-11-18 21:53:58.630 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 724.1557ms
2024-11-18 21:53:58.631 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 21:53:58.633 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 200 null application/json; charset=utf-8 748.7661ms
2024-11-18 21:55:47.616 +04:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5074/api/Car/UpdateCar - multipart/form-data; boundary=----WebKitFormBoundary40DmL5Drg89UVaqL 1456997
2024-11-18 21:55:47.679 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi)'
2024-11-18 21:55:47.689 +04:00 [INF] Route matched with {action = "UpdateCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCar(CarMarketplaceWebApi.Models.DTOs.UpdateCarDTO) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 21:55:47.815 +04:00 [INF] Executing ObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.UpdateCarDTO'.
2024-11-18 21:55:47.858 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi) in 166.4198ms
2024-11-18 21:55:47.862 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi)'
2024-11-18 21:55:47.866 +04:00 [INF] Executed DbCommand (17ms) [Parameters=[@p13='d1889ca3-d755-4c48-f128-08dd07f7307a', @p0='asd' (Nullable = false) (Size = 4000), @p1='asd' (Nullable = false) (Size = 4000), @p2='["https://www.example.com/uploads/fc2f695f-60cf-4527-b8c9-b91faf36f3e9_4ea1fd11-7cd1-43c3-b5df-7f927d5826d9.jpg"]' (Nullable = false) (Size = 4000), @p3='False', @p4='Ford' (Nullable = false) (Size = 4000), @p5='asd' (Nullable = false) (Size = 4000), @p6='Mustang' (Nullable = false) (Size = 4000), @p7='123', @p8='00000000-0000-0000-0000-000000000000', @p9='asd' (Nullable = false) (Size = 4000), @p10='0001-01-01T00:00:00.0000000', @p11='0', @p12=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [cars] SET [Class] = @p0, [Color] = @p1, [ImageUrls] = @p2, [IsNew] = @p3, [Make] = @p4, [Mileage] = @p5, [Model] = @p6, [Price] = @p7, [SellerId] = @p8, [Year] = @p9, [createdTime] = @p10, [eStatus] = @p11, [soldTime] = @p12
OUTPUT 1
WHERE [Id] = @p13;
2024-11-18 21:55:47.870 +04:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5074/api/Car/UpdateCar - 202 null application/json; charset=utf-8 255.3413ms
2024-11-18 21:56:01.142 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-18 21:56:01.167 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 21:56:01.174 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 21:56:01.194 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
2024-11-18 21:56:01.202 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 21:56:01.205 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 26.9957ms
2024-11-18 21:56:01.206 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 21:56:01.209 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 66.2742ms
2024-11-18 21:56:21.310 +04:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5074/api/Car/DeleteCar?id=d1889ca3-d755-4c48-f128-08dd07f7307a - null null
2024-11-18 21:56:21.325 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.DeleteCar (CarMarketplaceWebApi)'
2024-11-18 21:56:21.333 +04:00 [INF] Route matched with {action = "DeleteCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteCar(System.Guid) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 21:56:21.349 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='d1889ca3-d755-4c48-f128-08dd07f7307a' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
WHERE [c].[Id] = @__get_Item_0
2024-11-18 21:56:21.381 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='d1889ca3-d755-4c48-f128-08dd07f7307a'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [cars]
OUTPUT 1
WHERE [Id] = @p0;
2024-11-18 21:56:21.391 +04:00 [INF] Executing ObjectResult, writing value of type 'null'.
2024-11-18 21:56:21.393 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.DeleteCar (CarMarketplaceWebApi) in 56.4904ms
2024-11-18 21:56:21.395 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.DeleteCar (CarMarketplaceWebApi)'
2024-11-18 21:56:21.397 +04:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5074/api/Car/DeleteCar?id=d1889ca3-d755-4c48-f128-08dd07f7307a - 202 0 null 87.8647ms
2024-11-18 21:56:28.707 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-18 21:56:28.735 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 21:56:28.738 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 21:56:28.746 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
2024-11-18 21:56:28.756 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 21:56:28.759 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 17.9921ms
2024-11-18 21:56:28.763 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 21:56:28.766 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 59.2285ms
2024-11-18 21:57:23.426 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 21:57:23.656 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 21:57:23.711 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 21:57:23.715 +04:00 [INF] Hosting environment: Development
2024-11-18 21:57:23.718 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 21:57:24.387 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 21:57:24.682 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 303.9648ms
2024-11-18 21:57:24.716 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 21:57:24.724 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 7.7786ms
2024-11-18 21:57:24.921 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 21:57:24.965 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.8859ms
2024-11-18 21:57:25.327 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 21:57:25.341 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.5237ms
2024-11-18 21:57:41.200 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundary8t1IpykHEyqW3NLJ 269
2024-11-18 21:57:41.214 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-18 21:57:41.282 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 21:57:41.311 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-18 21:57:42.405 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 21:57:43.905 +04:00 [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedEmail_0='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-18 21:57:44.384 +04:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='944c7dc9-5337-4674-8e3a-08dd03ede844'], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-18 21:57:44.490 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 21:57:44.730 +04:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='jti' (Size = 4000), @p1='4f2a9db0-fc3f-4b09-9f3f-d62da67b11aa' (Size = 4000), @p2='944c7dc9-5337-4674-8e3a-08dd03ede844', @p3='http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier' (Size = 4000), @p4='944c7dc9-5337-4674-8e3a-08dd03ede844' (Size = 4000), @p5='944c7dc9-5337-4674-8e3a-08dd03ede844', @p6='email' (Size = 4000), @p7='ndng.minurmemizade@gmail.com' (Size = 4000), @p8='944c7dc9-5337-4674-8e3a-08dd03ede844', @p25='944c7dc9-5337-4674-8e3a-08dd03ede844', @p9='0', @p10='4c243047-ad64-4410-9912-971206ba4f39' (Size = 4000), @p26='fa3a0aea-8d2f-4be9-b640-5dc083e050f2' (Size = 4000), @p11='ndng.minurmemizade@gmail.com' (Size = 256), @p12='True', @p13='True', @p14=NULL (DbType = DateTimeOffset), @p15='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p16='MINURMEMIZADE' (Size = 256), @p17='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p18=NULL (Size = 4000), @p19='False', @p20='coUI4We4aW7H6dK5Gugxkctbq92EygimQQ7D9ro9j/yqndZOW47+GjWYFgJCwC2aUe63gxAV31mkLixtCNAyCg==' (Size = 4000), @p21='2025-01-17T21:53:58.4249498' (Nullable = true), @p22='GABNEKDY4SJR4CYVAIRJJD242UBZ2QRO' (Size = 4000), @p23='False', @p24='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [AspNetUserClaims] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2)) AS i ([ClaimType], [ClaimValue], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClaimType], [ClaimValue], [UserId])
VALUES (i.[ClaimType], i.[ClaimValue], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [RefreshToken] = @p20, [RefreshTokenExpireTime] = @p21, [SecurityStamp] = @p22, [TwoFactorEnabled] = @p23, [UserName] = @p24
OUTPUT 1
WHERE [Id] = @p25 AND [ConcurrencyStamp] = @p26;
2024-11-18 21:57:44.795 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 21:57:44.808 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='0d127968-0418-4fef-aa01-3a586605c05e' (Size = 4000), @p17='4c243047-ad64-4410-9912-971206ba4f39' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='Rc/t9RG7mSgzbRxW+qlsn9zszjKb6McpUpRkY4kzpHGdLhGfUTzVTnxC4d+CjIiWDo3C3ezHoRslr0rveF81BQ==' (Size = 4000), @p12='2025-01-17T21:57:44.7864802+04:00' (Nullable = true), @p13='GABNEKDY4SJR4CYVAIRJJD242UBZ2QRO' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 21:57:44.825 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 21:57:44.842 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='026c38eb-f417-4475-91e1-9f13b7695423' (Size = 4000), @p17='0d127968-0418-4fef-aa01-3a586605c05e' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='Rc/t9RG7mSgzbRxW+qlsn9zszjKb6McpUpRkY4kzpHGdLhGfUTzVTnxC4d+CjIiWDo3C3ezHoRslr0rveF81BQ==' (Size = 4000), @p12='2025-01-17T21:57:44.7864802+04:00' (Nullable = true), @p13='2Q63ASLWY5WVOQNBC6URAEGTA6SQM7HM' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 21:57:44.973 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true), @__p_1='Default' (Size = 450), @__p_2='AccessToken' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[LoginProvider] = @__p_1 AND [a].[Name] = @__p_2
2024-11-18 21:57:45.009 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 21:57:45.028 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='Default' (Nullable = false) (Size = 450), @p2='AccessToken' (Nullable = false) (Size = 450), @p3='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI0ZjJhOWRiMC1mYzNmLTRiMDktOWYzZi1kNjJkYTY3YjExYWEiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6Ijk0NGM3ZGM5LTUzMzctNDY3NC04ZTNhLTA4ZGQwM2VkZTg0NCIsImVtYWlsIjoibmRuZy5taW51cm1lbWl6YWRlQGdtYWlsLmNvbSIsImV4cCI6MTczMTk1MzU2NH0.AfoRoXmwMkyOQSnZ38MwOZaRau78d302tdUa3Qm4-Hc' (Size = 4000), @p20='944c7dc9-5337-4674-8e3a-08dd03ede844', @p4='0', @p5='6b033533-35f8-40fb-894e-7255a37f8e5c' (Size = 4000), @p21='026c38eb-f417-4475-91e1-9f13b7695423' (Size = 4000), @p6='ndng.minurmemizade@gmail.com' (Size = 256), @p7='True', @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p11='MINURMEMIZADE' (Size = 256), @p12='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='Rc/t9RG7mSgzbRxW+qlsn9zszjKb6McpUpRkY4kzpHGdLhGfUTzVTnxC4d+CjIiWDo3C3ezHoRslr0rveF81BQ==' (Size = 4000), @p16='2025-01-17T21:57:44.7864802+04:00' (Nullable = true), @p17='2Q63ASLWY5WVOQNBC6URAEGTA6SQM7HM' (Size = 4000), @p18='False', @p19='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUserTokens] SET [Value] = @p0
OUTPUT 1
WHERE [LoginProvider] = @p1 AND [Name] = @p2 AND [UserId] = @p3;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpireTime] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-11-18 21:57:45.054 +04:00 [INF] Executing OkObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.ResponseDTO'.
2024-11-18 21:57:45.080 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 3761.1603ms
2024-11-18 21:57:45.084 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 21:57:45.101 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 200 null application/json; charset=utf-8 3901.5489ms
2024-11-18 21:58:29.392 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-18 21:58:29.467 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 21:58:29.474 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 21:58:29.575 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
2024-11-18 21:58:29.625 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 21:58:29.653 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 176.2768ms
2024-11-18 21:58:29.658 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 21:58:29.662 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 270.683ms
2024-11-18 21:59:17.623 +04:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5074/api/Car/UpdateCar - multipart/form-data; boundary=----WebKitFormBoundaryCgKTmNgle7d4Ehwo 392254
2024-11-18 21:59:17.647 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi)'
2024-11-18 21:59:17.655 +04:00 [INF] Route matched with {action = "UpdateCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCar(CarMarketplaceWebApi.Models.DTOs.UpdateCarDTO) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 21:59:17.723 +04:00 [INF] Executing ObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.UpdateCarDTO'.
2024-11-18 21:59:17.755 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi) in 95.6875ms
2024-11-18 21:59:17.756 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi)'
2024-11-18 21:59:17.764 +04:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5074/api/Car/UpdateCar - 202 null application/json; charset=utf-8 141.1247ms
2024-11-18 21:59:17.777 +04:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@p13='84acaa27-c9d4-45cd-f127-08dd07f7307a', @p0='asd' (Nullable = false) (Size = 4000), @p1='asd' (Nullable = false) (Size = 4000), @p2='["https://www.example.com/uploads/c76d2840-d94c-4e5d-937b-ef5501d50f9e_1920x1080-2605032-pacman-hd-wallpaper-for-free-download.png"]' (Nullable = false) (Size = 4000), @p3='False', @p4='Ford' (Nullable = false) (Size = 4000), @p5='asd' (Nullable = false) (Size = 4000), @p6='Mustang' (Nullable = false) (Size = 4000), @p7='231', @p8='00000000-0000-0000-0000-000000000000', @p9='asd' (Nullable = false) (Size = 4000), @p10='0001-01-01T00:00:00.0000000', @p11='0', @p12=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [cars] SET [Class] = @p0, [Color] = @p1, [ImageUrls] = @p2, [IsNew] = @p3, [Make] = @p4, [Mileage] = @p5, [Model] = @p6, [Price] = @p7, [SellerId] = @p8, [Year] = @p9, [createdTime] = @p10, [eStatus] = @p11, [soldTime] = @p12
OUTPUT 1
WHERE [Id] = @p13;
2024-11-18 21:59:24.103 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-18 21:59:24.127 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 21:59:24.130 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 21:59:24.153 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
2024-11-18 21:59:24.157 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 21:59:24.159 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 23.0565ms
2024-11-18 21:59:24.163 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 21:59:24.165 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 62.1706ms
2024-11-18 22:00:28.050 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 22:00:28.328 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 22:00:28.389 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 22:00:28.391 +04:00 [INF] Hosting environment: Development
2024-11-18 22:00:28.393 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 22:00:29.021 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 22:00:29.317 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 306.258ms
2024-11-18 22:00:29.369 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 22:00:29.375 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 6.4454ms
2024-11-18 22:00:29.548 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 22:00:29.587 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.3811ms
2024-11-18 22:00:29.998 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 22:00:30.012 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.2418ms
2024-11-18 22:00:48.767 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundaryGTZmBzgziRN9egOm 269
2024-11-18 22:00:48.783 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-18 22:00:48.849 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 22:00:48.872 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-18 22:00:49.892 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 22:00:51.097 +04:00 [INF] Executed DbCommand (86ms) [Parameters=[@__normalizedEmail_0='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-18 22:00:51.588 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='944c7dc9-5337-4674-8e3a-08dd03ede844'], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-18 22:00:51.667 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 22:00:51.829 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='jti' (Size = 4000), @p1='0e6f1bd7-e70a-4306-8ab7-5baf534ebd8f' (Size = 4000), @p2='944c7dc9-5337-4674-8e3a-08dd03ede844', @p3='http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier' (Size = 4000), @p4='944c7dc9-5337-4674-8e3a-08dd03ede844' (Size = 4000), @p5='944c7dc9-5337-4674-8e3a-08dd03ede844', @p6='email' (Size = 4000), @p7='ndng.minurmemizade@gmail.com' (Size = 4000), @p8='944c7dc9-5337-4674-8e3a-08dd03ede844', @p25='944c7dc9-5337-4674-8e3a-08dd03ede844', @p9='0', @p10='7e4a72ff-6401-433d-b8d5-a93ae4f699d9' (Size = 4000), @p26='6b033533-35f8-40fb-894e-7255a37f8e5c' (Size = 4000), @p11='ndng.minurmemizade@gmail.com' (Size = 256), @p12='True', @p13='True', @p14=NULL (DbType = DateTimeOffset), @p15='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p16='MINURMEMIZADE' (Size = 256), @p17='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p18=NULL (Size = 4000), @p19='False', @p20='Rc/t9RG7mSgzbRxW+qlsn9zszjKb6McpUpRkY4kzpHGdLhGfUTzVTnxC4d+CjIiWDo3C3ezHoRslr0rveF81BQ==' (Size = 4000), @p21='2025-01-17T21:57:44.7864802' (Nullable = true), @p22='2Q63ASLWY5WVOQNBC6URAEGTA6SQM7HM' (Size = 4000), @p23='False', @p24='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [AspNetUserClaims] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2)) AS i ([ClaimType], [ClaimValue], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClaimType], [ClaimValue], [UserId])
VALUES (i.[ClaimType], i.[ClaimValue], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p9, [ConcurrencyStamp] = @p10, [Email] = @p11, [EmailConfirmed] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [RefreshToken] = @p20, [RefreshTokenExpireTime] = @p21, [SecurityStamp] = @p22, [TwoFactorEnabled] = @p23, [UserName] = @p24
OUTPUT 1
WHERE [Id] = @p25 AND [ConcurrencyStamp] = @p26;
2024-11-18 22:00:51.938 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 22:00:51.950 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='a1293ec4-a3ce-4143-800f-b527279f8b07' (Size = 4000), @p17='7e4a72ff-6401-433d-b8d5-a93ae4f699d9' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='qRLMtq5ZxqFEP80mhJbMK1gVwlYh7PnVp2RcEnCYN4W28FZoc7fqDALGgODlGW5wgr6gaJOQ5+Nh+7PWL7xQEw==' (Size = 4000), @p12='2025-01-17T22:00:51.9327737+04:00' (Nullable = true), @p13='2Q63ASLWY5WVOQNBC6URAEGTA6SQM7HM' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 22:00:51.960 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 22:00:51.966 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p16='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='0', @p1='35bc4434-3d01-4bf3-bd7f-cbf971fe45e3' (Size = 4000), @p17='a1293ec4-a3ce-4143-800f-b527279f8b07' (Size = 4000), @p2='ndng.minurmemizade@gmail.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p7='MINURMEMIZADE' (Size = 256), @p8='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='qRLMtq5ZxqFEP80mhJbMK1gVwlYh7PnVp2RcEnCYN4W28FZoc7fqDALGgODlGW5wgr6gaJOQ5+Nh+7PWL7xQEw==' (Size = 4000), @p12='2025-01-17T22:00:51.9327737+04:00' (Nullable = true), @p13='6KPGVAJAWGGXQLBCN5WAARGAGSFFSMUG' (Size = 4000), @p14='False', @p15='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 22:00:52.026 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='944c7dc9-5337-4674-8e3a-08dd03ede844' (Nullable = true), @__p_1='Default' (Size = 450), @__p_2='AccessToken' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[LoginProvider] = @__p_1 AND [a].[Name] = @__p_2
2024-11-18 22:00:52.073 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='MINURMEMIZADE' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 22:00:52.085 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='Default' (Nullable = false) (Size = 450), @p2='AccessToken' (Nullable = false) (Size = 450), @p3='944c7dc9-5337-4674-8e3a-08dd03ede844', @p0='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIwZTZmMWJkNy1lNzBhLTQzMDYtOGFiNy01YmFmNTM0ZWJkOGYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6Ijk0NGM3ZGM5LTUzMzctNDY3NC04ZTNhLTA4ZGQwM2VkZTg0NCIsImVtYWlsIjoibmRuZy5taW51cm1lbWl6YWRlQGdtYWlsLmNvbSIsImV4cCI6MTczMTk1Mzc1MX0.vzZpHbfN9AMtd6mB02_KZAxXWGbPH5k1tG_vW0LrVLM' (Size = 4000), @p20='944c7dc9-5337-4674-8e3a-08dd03ede844', @p4='0', @p5='b524c4b6-6a7b-4b13-b3bb-0f8da9ea04f2' (Size = 4000), @p21='35bc4434-3d01-4bf3-bd7f-cbf971fe45e3' (Size = 4000), @p6='ndng.minurmemizade@gmail.com' (Size = 256), @p7='True', @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='NDNG.MINURMEMIZADE@GMAIL.COM' (Size = 256), @p11='MINURMEMIZADE' (Size = 256), @p12='AQAAAAIAAYagAAAAEEo9FpVAYLGe7LuVFo21k2xOrEATJhYce/xmula81XiYF2C+gXiS89QX+bVOdEIHbQ==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='qRLMtq5ZxqFEP80mhJbMK1gVwlYh7PnVp2RcEnCYN4W28FZoc7fqDALGgODlGW5wgr6gaJOQ5+Nh+7PWL7xQEw==' (Size = 4000), @p16='2025-01-17T22:00:51.9327737+04:00' (Nullable = true), @p17='6KPGVAJAWGGXQLBCN5WAARGAGSFFSMUG' (Size = 4000), @p18='False', @p19='MinurMemizade' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUserTokens] SET [Value] = @p0
OUTPUT 1
WHERE [LoginProvider] = @p1 AND [Name] = @p2 AND [UserId] = @p3;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpireTime] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-11-18 22:00:52.102 +04:00 [INF] Executing OkObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.ResponseDTO'.
2024-11-18 22:00:52.116 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 3235.6316ms
2024-11-18 22:00:52.118 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 22:00:52.128 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 200 null application/json; charset=utf-8 3361.5009ms
2024-11-18 22:01:17.133 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-18 22:01:17.210 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 22:01:17.217 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 22:01:17.347 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
2024-11-18 22:01:17.380 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 22:01:17.400 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 180.0179ms
2024-11-18 22:01:17.403 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 22:01:17.404 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 271.9703ms
2024-11-18 22:01:53.526 +04:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5074/api/Car/UpdateCar - multipart/form-data; boundary=----WebKitFormBoundaryPi82htxB6MGrAl9f 392253
2024-11-18 22:01:53.555 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi)'
2024-11-18 22:01:53.565 +04:00 [INF] Route matched with {action = "UpdateCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCar(CarMarketplaceWebApi.Models.DTOs.UpdateCarDTO) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 22:01:53.721 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@p13='84acaa27-c9d4-45cd-f127-08dd07f7307a', @p0='asd' (Nullable = false) (Size = 4000), @p1='asd' (Nullable = false) (Size = 4000), @p2='["https://www.example.com/uploads/b3c6312f-bebb-40ad-9a47-f2304488a8ff_1920x1080-2605032-pacman-hd-wallpaper-for-free-download.png"]' (Nullable = false) (Size = 4000), @p3='True', @p4='Ford' (Nullable = false) (Size = 4000), @p5='asd' (Nullable = false) (Size = 4000), @p6='Mustang' (Nullable = false) (Size = 4000), @p7='123', @p8='00000000-0000-0000-0000-000000000000', @p9='sda' (Nullable = false) (Size = 4000), @p10='0001-01-01T00:00:00.0000000', @p11='0', @p12=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [cars] SET [Class] = @p0, [Color] = @p1, [ImageUrls] = @p2, [IsNew] = @p3, [Make] = @p4, [Mileage] = @p5, [Model] = @p6, [Price] = @p7, [SellerId] = @p8, [Year] = @p9, [createdTime] = @p10, [eStatus] = @p11, [soldTime] = @p12
OUTPUT 1
WHERE [Id] = @p13;
2024-11-18 22:01:53.771 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'CarMarketplaceWebApi.Context.AppDBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_cars_Seller_SellerId". The conflict occurred in database "WebApiArc", table "dbo.Seller", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:5cd8c450-3bd3-4621-95ca-077f36ef1151
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_cars_Seller_SellerId". The conflict occurred in database "WebApiArc", table "dbo.Seller", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:5cd8c450-3bd3-4621-95ca-077f36ef1151
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-11-18 22:01:54.218 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi) in 649.3081ms
2024-11-18 22:01:54.229 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi)'
2024-11-18 22:01:54.239 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_cars_Seller_SellerId". The conflict occurred in database "WebApiArc", table "dbo.Seller", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:5cd8c450-3bd3-4621-95ca-077f36ef1151
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CarMarketplaceWebApi.Repositories.Implementations.Repository`1.UpdateAsync(T entity) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Repositories\Implementations\Repository.cs:line 51
   at CarMarketplaceWebApi.Services.Implementations.CarService.UpdateAsync(UpdateCarDTO updateCarDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Services\Implementations\CarService.cs:line 87
   at CarMarketplaceWebApi.Controllers.CarController.UpdateCar(UpdateCarDTO updateCarDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Controllers\CarController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-18 22:01:54.522 +04:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5074/api/Car/UpdateCar - 500 null text/plain; charset=utf-8 996.1381ms
2024-11-18 22:05:15.208 +04:00 [INF] User profile is available. Using 'C:\Users\Minur Memizade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-18 22:05:15.426 +04:00 [INF] Now listening on: http://localhost:5074
2024-11-18 22:05:15.466 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-18 22:05:15.467 +04:00 [INF] Hosting environment: Development
2024-11-18 22:05:15.468 +04:00 [INF] Content root path: C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi
2024-11-18 22:05:16.071 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/index.html - null null
2024-11-18 22:05:16.237 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/index.html - 200 null text/html;charset=utf-8 169.9459ms
2024-11-18 22:05:16.273 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - null null
2024-11-18 22:05:16.278 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_framework/aspnetcore-browser-refresh.js - 200 13792 application/javascript; charset=utf-8 5.5999ms
2024-11-18 22:05:16.350 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/_vs/browserLink - null null
2024-11-18 22:05:16.387 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.9924ms
2024-11-18 22:05:16.517 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - null null
2024-11-18 22:05:16.526 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.3533ms
2024-11-18 22:05:42.967 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - multipart/form-data; boundary=----WebKitFormBoundaryj5xATjRYuCWHtXE5 256
2024-11-18 22:05:42.990 +04:00 [WRN] Failed to determine the https port for redirect.
2024-11-18 22:05:43.044 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 22:05:43.071 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CarMarketplaceWebApi.Models.DTOs.LoginDTO) on controller CarMarketplaceWebApi.Controllers.AuthController (CarMarketplaceWebApi).
2024-11-18 22:05:43.924 +04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-11-18 22:05:44.733 +04:00 [INF] Executed DbCommand (47ms) [Parameters=[@__normalizedEmail_0='DAD@EXAMPLE.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-11-18 22:05:45.028 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='6ea60fa6-e2fb-44a4-24c2-08dd07e31068'], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-11-18 22:05:45.106 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='DADADD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 22:05:45.263 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='jti' (Size = 4000), @p1='df28783f-8d41-4f27-98e8-029c3a8a9594' (Size = 4000), @p2='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p3='http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier' (Size = 4000), @p4='6ea60fa6-e2fb-44a4-24c2-08dd07e31068' (Size = 4000), @p5='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p6='email' (Size = 4000), @p7='dad@example.com' (Size = 4000), @p8='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p9='http://schemas.microsoft.com/ws/2008/06/identity/claims/role' (Size = 4000), @p10='admin' (Size = 4000), @p11='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p28='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p12='0', @p13='54567ff0-aaf3-42d2-a3d6-5ae26b08dad5' (Size = 4000), @p29='992f35d2-2a40-4e53-bcd5-5c8dff542e27' (Size = 4000), @p14='dad@example.com' (Size = 256), @p15='True', @p16='True', @p17=NULL (DbType = DateTimeOffset), @p18='DAD@EXAMPLE.COM' (Size = 256), @p19='DADADD' (Size = 256), @p20='AQAAAAIAAYagAAAAEKqpN4ZNd5bsXNbmC9syNbvvMQtHHrjDRk6jgQh7G88FVAdZAPcGewzEOzTx0vLvig==' (Size = 4000), @p21=NULL (Size = 4000), @p22='False', @p23=NULL (Size = 4000), @p24=NULL (DbType = DateTime2), @p25='27L3NG2DPWSUWDBGTHFQ7P3MCGGZ445U' (Size = 4000), @p26='False', @p27='dadadd' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [AspNetUserClaims] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3)) AS i ([ClaimType], [ClaimValue], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClaimType], [ClaimValue], [UserId])
VALUES (i.[ClaimType], i.[ClaimValue], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p12, [ConcurrencyStamp] = @p13, [Email] = @p14, [EmailConfirmed] = @p15, [LockoutEnabled] = @p16, [LockoutEnd] = @p17, [NormalizedEmail] = @p18, [NormalizedUserName] = @p19, [PasswordHash] = @p20, [PhoneNumber] = @p21, [PhoneNumberConfirmed] = @p22, [RefreshToken] = @p23, [RefreshTokenExpireTime] = @p24, [SecurityStamp] = @p25, [TwoFactorEnabled] = @p26, [UserName] = @p27
OUTPUT 1
WHERE [Id] = @p28 AND [ConcurrencyStamp] = @p29;
2024-11-18 22:05:45.299 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='DADADD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 22:05:45.308 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p16='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p0='0', @p1='9c68979b-cfe1-403d-b7f1-0a8467c6b664' (Size = 4000), @p17='54567ff0-aaf3-42d2-a3d6-5ae26b08dad5' (Size = 4000), @p2='dad@example.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='DAD@EXAMPLE.COM' (Size = 256), @p7='DADADD' (Size = 256), @p8='AQAAAAIAAYagAAAAEKqpN4ZNd5bsXNbmC9syNbvvMQtHHrjDRk6jgQh7G88FVAdZAPcGewzEOzTx0vLvig==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='HGJs7VQu0X0OuBACNRMH1uEtXFdNAa04IOC18F61gj8Gmn0w74zkuZQZJ9+G9EMK/JzlXNn1A+yH+ySeNnx4Lw==' (Size = 4000), @p12='2025-01-17T22:05:45.2951778+04:00' (Nullable = true), @p13='27L3NG2DPWSUWDBGTHFQ7P3MCGGZ445U' (Size = 4000), @p14='False', @p15='dadadd' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 22:05:45.317 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='DADADD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 22:05:45.322 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p16='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p0='0', @p1='1fd8c87f-6014-42cc-8605-265d39853aad' (Size = 4000), @p17='9c68979b-cfe1-403d-b7f1-0a8467c6b664' (Size = 4000), @p2='dad@example.com' (Size = 256), @p3='True', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6='DAD@EXAMPLE.COM' (Size = 256), @p7='DADADD' (Size = 256), @p8='AQAAAAIAAYagAAAAEKqpN4ZNd5bsXNbmC9syNbvvMQtHHrjDRk6jgQh7G88FVAdZAPcGewzEOzTx0vLvig==' (Size = 4000), @p9=NULL (Size = 4000), @p10='False', @p11='HGJs7VQu0X0OuBACNRMH1uEtXFdNAa04IOC18F61gj8Gmn0w74zkuZQZJ9+G9EMK/JzlXNn1A+yH+ySeNnx4Lw==' (Size = 4000), @p12='2025-01-17T22:05:45.2951778+04:00' (Nullable = true), @p13='IQKXPUC3ZGDJJW6DIZOTZ6X24QHB27XT' (Size = 4000), @p14='False', @p15='dadadd' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpireTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-11-18 22:05:45.366 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='6ea60fa6-e2fb-44a4-24c2-08dd07e31068' (Nullable = true), @__p_1='Default' (Size = 450), @__p_2='AccessToken' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[LoginProvider] = @__p_1 AND [a].[Name] = @__p_2
2024-11-18 22:05:45.383 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='DADADD' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-11-18 22:05:45.394 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='Default' (Nullable = false) (Size = 450), @p1='AccessToken' (Nullable = false) (Size = 450), @p2='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p3='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJkZjI4NzgzZi04ZDQxLTRmMjctOThlOC0wMjljM2E4YTk1OTQiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZlYTYwZmE2LWUyZmItNDRhNC0yNGMyLTA4ZGQwN2UzMTA2OCIsImVtYWlsIjoiZGFkQGV4YW1wbGUuY29tIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3MzE5NTQwNDV9.o7yYrdc89wS3snts6EDTLMFMQlSLXKNo1dav1FD-DCc' (Size = 4000), @p20='6ea60fa6-e2fb-44a4-24c2-08dd07e31068', @p4='0', @p5='50b6e4b2-2770-4cd9-a16c-8c29302a724f' (Size = 4000), @p21='1fd8c87f-6014-42cc-8605-265d39853aad' (Size = 4000), @p6='dad@example.com' (Size = 256), @p7='True', @p8='True', @p9=NULL (DbType = DateTimeOffset), @p10='DAD@EXAMPLE.COM' (Size = 256), @p11='DADADD' (Size = 256), @p12='AQAAAAIAAYagAAAAEKqpN4ZNd5bsXNbmC9syNbvvMQtHHrjDRk6jgQh7G88FVAdZAPcGewzEOzTx0vLvig==' (Size = 4000), @p13=NULL (Size = 4000), @p14='False', @p15='HGJs7VQu0X0OuBACNRMH1uEtXFdNAa04IOC18F61gj8Gmn0w74zkuZQZJ9+G9EMK/JzlXNn1A+yH+ySeNnx4Lw==' (Size = 4000), @p16='2025-01-17T22:05:45.2951778+04:00' (Nullable = true), @p17='IQKXPUC3ZGDJJW6DIZOTZ6X24QHB27XT' (Size = 4000), @p18='False', @p19='dadadd' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserTokens] ([LoginProvider], [Name], [UserId], [Value])
VALUES (@p0, @p1, @p2, @p3);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpireTime] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-11-18 22:05:45.409 +04:00 [INF] Executing OkObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.ResponseDTO'.
2024-11-18 22:05:45.423 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi) in 2345.2813ms
2024-11-18 22:05:45.434 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.AuthController.Login (CarMarketplaceWebApi)'
2024-11-18 22:05:45.449 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Auth/Login/Login - 200 null application/json; charset=utf-8 2482.9323ms
2024-11-18 22:06:06.748 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-18 22:06:06.798 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 22:06:06.803 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 22:06:06.871 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
2024-11-18 22:06:06.907 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 22:06:06.931 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 119.8853ms
2024-11-18 22:06:06.933 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 22:06:06.935 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 186.4787ms
2024-11-18 22:06:30.027 +04:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5074/api/Car/UpdateCar - multipart/form-data; boundary=----WebKitFormBoundaryKNkIJaZHAJDevAJ3 392257
2024-11-18 22:06:30.052 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi)'
2024-11-18 22:06:30.059 +04:00 [INF] Route matched with {action = "UpdateCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCar(CarMarketplaceWebApi.Models.DTOs.UpdateCarDTO) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 22:06:30.182 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p13='84acaa27-c9d4-45cd-f127-08dd07f7307a', @p0='asd' (Nullable = false) (Size = 4000), @p1='asdasd' (Nullable = false) (Size = 4000), @p2='["https://www.example.com/uploads/f47d988a-5e61-47f2-ba7e-ce0600e3c4cd_1920x1080-2605032-pacman-hd-wallpaper-for-free-download.png"]' (Nullable = false) (Size = 4000), @p3='False', @p4='Ford' (Nullable = false) (Size = 4000), @p5='asd' (Nullable = false) (Size = 4000), @p6='Mustang' (Nullable = false) (Size = 4000), @p7='123', @p8='00000000-0000-0000-0000-000000000000', @p9='asd' (Nullable = false) (Size = 4000), @p10='0001-01-01T00:00:00.0000000', @p11='0', @p12=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [cars] SET [Class] = @p0, [Color] = @p1, [ImageUrls] = @p2, [IsNew] = @p3, [Make] = @p4, [Mileage] = @p5, [Model] = @p6, [Price] = @p7, [SellerId] = @p8, [Year] = @p9, [createdTime] = @p10, [eStatus] = @p11, [soldTime] = @p12
OUTPUT 1
WHERE [Id] = @p13;
2024-11-18 22:06:30.201 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'CarMarketplaceWebApi.Context.AppDBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_cars_Seller_SellerId". The conflict occurred in database "WebApiArc", table "dbo.Seller", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a6cae4bc-3ac7-4384-8a85-b0d1648d85a1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_cars_Seller_SellerId". The conflict occurred in database "WebApiArc", table "dbo.Seller", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a6cae4bc-3ac7-4384-8a85-b0d1648d85a1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-11-18 22:06:30.326 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi) in 264.8747ms
2024-11-18 22:06:30.328 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi)'
2024-11-18 22:06:30.332 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_cars_Seller_SellerId". The conflict occurred in database "WebApiArc", table "dbo.Seller", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a6cae4bc-3ac7-4384-8a85-b0d1648d85a1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CarMarketplaceWebApi.Repositories.Implementations.Repository`1.UpdateAsync(T entity) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Repositories\Implementations\Repository.cs:line 51
   at CarMarketplaceWebApi.Services.Implementations.CarService.UpdateAsync(UpdateCarDTO updateCarDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Services\Implementations\CarService.cs:line 87
   at CarMarketplaceWebApi.Controllers.CarController.UpdateCar(UpdateCarDTO updateCarDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Controllers\CarController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-18 22:06:30.373 +04:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5074/api/Car/UpdateCar - 500 null text/plain; charset=utf-8 346.9298ms
2024-11-18 22:07:24.943 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5074/api/Car/AddCar - multipart/form-data; boundary=----WebKitFormBoundaryZWBb8OsbkPLjUqAq 2950506
2024-11-18 22:07:24.952 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi)'
2024-11-18 22:07:24.959 +04:00 [INF] Route matched with {action = "AddCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCar(CarMarketplaceWebApi.Models.DTOs.CarDTO) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 22:07:25.122 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='6ea60fa6-e2fb-44a4-24c2-08dd07e31068' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpireTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-11-18 22:07:25.184 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='3af1d75a-f4ba-4118-479b-08dd07fbdb28', @p1='dad@example.com' (Size = 4000), @p2='dadadd' (Size = 4000), @p3='194fdf65-f21f-483b-3125-08dd07fbdb27', @p4='asd' (Nullable = false) (Size = 4000), @p5='asd' (Nullable = false) (Size = 4000), @p6='["https://www.example.com/uploads/53426a81-a2ef-4fb7-8cac-46337b3600f6_1920x1080-2605032-pacman-hd-wallpaper-for-free-download-kgQHLUCvq-transformed.jpeg"]' (Nullable = false) (Size = 4000), @p7='False', @p8='Ford' (Nullable = false) (Size = 4000), @p9='asd' (Nullable = false) (Size = 4000), @p10='Mustang' (Nullable = false) (Size = 4000), @p11='123', @p12='3af1d75a-f4ba-4118-479b-08dd07fbdb28', @p13='asd' (Nullable = false) (Size = 4000), @p14='2024-11-18T18:07:25.1282306Z', @p15='0', @p16=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Seller] ([Id], [Email], [UserName])
VALUES (@p0, @p1, @p2);
INSERT INTO [cars] ([Id], [Class], [Color], [ImageUrls], [IsNew], [Make], [Mileage], [Model], [Price], [SellerId], [Year], [createdTime], [eStatus], [soldTime])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2024-11-18 22:07:25.192 +04:00 [INF] Executing ObjectResult, writing value of type 'CarMarketplaceWebApi.Models.DTOs.CarDTO'.
2024-11-18 22:07:25.207 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi) in 245.0044ms
2024-11-18 22:07:25.210 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.AddCar (CarMarketplaceWebApi)'
2024-11-18 22:07:25.212 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5074/api/Car/AddCar - 201 null application/json; charset=utf-8 269.4206ms
2024-11-18 22:07:32.478 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - null null
2024-11-18 22:07:32.482 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 22:07:32.495 +04:00 [INF] Route matched with {action = "GetAllCars", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCars() on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 22:07:32.501 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Class], [c].[Color], [c].[ImageUrls], [c].[IsNew], [c].[Make], [c].[Mileage], [c].[Model], [c].[Price], [c].[SellerId], [c].[Year], [c].[createdTime], [c].[eStatus], [c].[soldTime]
FROM [cars] AS [c]
2024-11-18 22:07:32.505 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarMarketplaceWebApi.Models.Car, CarMarketplaceWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-18 22:07:32.506 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi) in 9.4981ms
2024-11-18 22:07:32.508 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.GetAllCars (CarMarketplaceWebApi)'
2024-11-18 22:07:32.509 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5074/api/Car/GetAllCars - 200 null application/json; charset=utf-8 30.7651ms
2024-11-18 22:07:52.475 +04:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5074/api/Car/UpdateCar - multipart/form-data; boundary=----WebKitFormBoundaryotBWchHl009kSZIJ 392253
2024-11-18 22:07:52.490 +04:00 [INF] Executing endpoint 'CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi)'
2024-11-18 22:07:52.492 +04:00 [INF] Route matched with {action = "UpdateCar", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCar(CarMarketplaceWebApi.Models.DTOs.UpdateCarDTO) on controller CarMarketplaceWebApi.Controllers.CarController (CarMarketplaceWebApi).
2024-11-18 22:07:52.555 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p13='194fdf65-f21f-483b-3125-08dd07fbdb27', @p0='asd' (Nullable = false) (Size = 4000), @p1='asdasd' (Nullable = false) (Size = 4000), @p2='["https://www.example.com/uploads/9f006bc2-9504-4401-ac05-2bb92d4183d6_1920x1080-2605032-pacman-hd-wallpaper-for-free-download.png"]' (Nullable = false) (Size = 4000), @p3='False', @p4='Chev' (Nullable = false) (Size = 4000), @p5='asd' (Nullable = false) (Size = 4000), @p6='Cam' (Nullable = false) (Size = 4000), @p7='123', @p8='00000000-0000-0000-0000-000000000000', @p9='asd' (Nullable = false) (Size = 4000), @p10='0001-01-01T00:00:00.0000000', @p11='0', @p12=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [cars] SET [Class] = @p0, [Color] = @p1, [ImageUrls] = @p2, [IsNew] = @p3, [Make] = @p4, [Mileage] = @p5, [Model] = @p6, [Price] = @p7, [SellerId] = @p8, [Year] = @p9, [createdTime] = @p10, [eStatus] = @p11, [soldTime] = @p12
OUTPUT 1
WHERE [Id] = @p13;
2024-11-18 22:07:52.567 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'CarMarketplaceWebApi.Context.AppDBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_cars_Seller_SellerId". The conflict occurred in database "WebApiArc", table "dbo.Seller", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a6cae4bc-3ac7-4384-8a85-b0d1648d85a1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_cars_Seller_SellerId". The conflict occurred in database "WebApiArc", table "dbo.Seller", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a6cae4bc-3ac7-4384-8a85-b0d1648d85a1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-11-18 22:07:52.711 +04:00 [INF] Executed action CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi) in 216.251ms
2024-11-18 22:07:52.714 +04:00 [INF] Executed endpoint 'CarMarketplaceWebApi.Controllers.CarController.UpdateCar (CarMarketplaceWebApi)'
2024-11-18 22:07:52.716 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_cars_Seller_SellerId". The conflict occurred in database "WebApiArc", table "dbo.Seller", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a6cae4bc-3ac7-4384-8a85-b0d1648d85a1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CarMarketplaceWebApi.Repositories.Implementations.Repository`1.UpdateAsync(T entity) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Repositories\Implementations\Repository.cs:line 51
   at CarMarketplaceWebApi.Services.Implementations.CarService.UpdateAsync(UpdateCarDTO updateCarDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Services\Implementations\CarService.cs:line 87
   at CarMarketplaceWebApi.Controllers.CarController.UpdateCar(UpdateCarDTO updateCarDTO) in C:\Users\Minur Memizade\source\repos\CarMarketplaceWebApi\Controllers\CarController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-18 22:07:52.734 +04:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5074/api/Car/UpdateCar - 500 null text/plain; charset=utf-8 258.3627ms
